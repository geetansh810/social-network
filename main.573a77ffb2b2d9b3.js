(self.webpackChunkSocialMediaApp=self.webpackChunkSocialMediaApp||[]).push([[179],{2011:(Xe,be,x)=>{"use strict";x.d(be,{Dh:()=>Y,GT:()=>he,cc:()=>Re,hO:()=>Ae,on:()=>O,pX:()=>ie,xv:()=>$});var c=x(4650),Q=x(127),V=x(5813);Xe=x.hmd(Xe);const W=["ngOnDestroy"],ie=(_e,ke,Ge,xe={})=>new Proxy(_e,{get:(we,Se)=>Ge.runOutsideAngular(()=>{var Be;if(_e[Se])return!(null===(Be=xe?.spy)||void 0===Be)&&Be.get&&xe.spy.get(Se,_e[Se]),_e[Se];if(W.indexOf(Se)>-1)return()=>{};const je=ke.toPromise().then(P=>{const ne=P&&P[Se];return"function"==typeof ne?ne.bind(P):ne&&ne.then?ne.then(K=>Ge.run(()=>K)):Ge.run(()=>ne)});return new Proxy(()=>{},{get:(P,ne)=>je[ne],apply:(P,ne,K)=>je.then(se=>{var re;const Ie=se&&se(...K);return!(null===(re=xe?.spy)||void 0===re)&&re.apply&&xe.spy.apply(Se,K,Ie),Ie})})})}),he=(_e,ke)=>{ke.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(xe=>{Object.defineProperty(_e.prototype,xe,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,xe))})})};class j{constructor(ke){return ke}}const Y=new c.OlP("angularfire2.app.options"),$=new c.OlP("angularfire2.app.name");function O(_e,ke,Ge){const we="object"==typeof Ge&&Ge||{};we.name=we.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const Be=Q.Z.apps.filter(je=>je&&je.name===we.name)[0]||ke.runOutsideAngular(()=>Q.Z.initializeApp(_e,we));try{JSON.stringify(_e)!==JSON.stringify(Be.options)&&U("error",`${Be.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new j(Be)}const U=(_e,...ke)=>{(0,c.X6Q)()&&typeof console<"u"&&console[_e](...ke)},ee={provide:j,useFactory:O,deps:[Y,c.R0b,[new c.FiY,$]]};let Ae=(()=>{class _e{constructor(Ge){Q.Z.registerVersion("angularfire",V.q4.full,"core"),Q.Z.registerVersion("angularfire",V.q4.full,"app-compat"),Q.Z.registerVersion("angular",c.q4F.full,Ge.toString())}static initializeApp(Ge,xe){return{ngModule:_e,providers:[{provide:Y,useValue:Ge},{provide:$,useValue:xe}]}}}return _e.\u0275fac=function(Ge){return new(Ge||_e)(c.LFG(c.Lbi))},_e.\u0275mod=c.oAB({type:_e}),_e.\u0275inj=c.cJS({providers:[ee]}),_e})();function Re(_e,ke,Ge,xe,we){const[,Se,Be]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===_e)||[];if(Se)return function J(_e,ke){try{return _e.toString()===ke.toString()}catch{return _e===ke}}(we,Be)||(ae("error",`${ke} was already initialized on the ${Ge} Firebase App with different settings.${q?" You may need to reload as Firebase is not HMR aware.":""}`),ae("warn",{is:we,was:Be})),Se;{const je=xe();return globalThis.\u0275AngularfireInstanceCache.push([_e,je,we]),je}}const q=!!Xe.hot,ae=(_e,...ke)=>{(0,c.X6Q)()&&typeof console<"u"&&console[_e](...ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Xe,be,x)=>{"use strict";x.d(be,{q4:()=>vl,iC:()=>Lc,fc:()=>Ia,HU:()=>Yd,vb:()=>Ar,JM:()=>wl});var c=x(4650),Q=x(5867),V=x(5861),W=x(9681),ie=x(2090),he=x(4859),j=x(1877),Y=x(8766);const $="@firebase/installations",O="0.5.9",ee=`w:${O}`,Ae="FIS_v2",ke=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ge(I){return I instanceof ie.ZR&&I.code.includes("request-failed")}function xe({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function we(I){return{token:I.token,requestStatus:2,expiresIn:se(I.expiresIn),creationTime:Date.now()}}function Se(I,T){return Be.apply(this,arguments)}function Be(){return(Be=(0,V.Z)(function*(I,T){const te=(yield T.json()).error;return ke.create("request-failed",{requestName:I,serverCode:te.code,serverMessage:te.message,serverStatus:te.status})})).apply(this,arguments)}function je({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function P(I,{refreshToken:T}){const F=je(I);return F.append("Authorization",function re(I){return`${Ae} ${I}`}(T)),F}function ne(I){return K.apply(this,arguments)}function K(){return(K=(0,V.Z)(function*(I){const T=yield I();return T.status>=500&&T.status<600?I():T})).apply(this,arguments)}function se(I){return Number(I.replace("s","000"))}function Ie(I,T){return b.apply(this,arguments)}function b(){return(b=(0,V.Z)(function*({appConfig:I,heartbeatServiceProvider:T},{fid:F}){const te=xe(I),Ce=je(I),Ne=T.getImmediate({optional:!0});if(Ne){const It=yield Ne.getHeartbeatsHeader();It&&Ce.append("x-firebase-client",It)}const st={method:"POST",headers:Ce,body:JSON.stringify({fid:F,authVersion:Ae,appId:I.appId,sdkVersion:ee})},yt=yield ne(()=>fetch(te,st));if(yt.ok){const It=yield yt.json();return{fid:It.fid||F,registrationStatus:2,refreshToken:It.refreshToken,authToken:we(It.authToken)}}throw yield Se("Create Installation",yt)})).apply(this,arguments)}function G(I){return new Promise(T=>{setTimeout(T,I)})}const ye=/^[cdef][\w-]{21}$/;function De(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const F=function Le(I){return function X(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return ye.test(F)?F:""}catch{return""}}function Ye(I){return`${I.appName}!${I.appId}`}const Je=new Map;function ze(I,T){const F=Ye(I);B(F,T),function ge(I,T){const F=function Ee(){return!fe&&"BroadcastChannel"in self&&(fe=new BroadcastChannel("[Firebase] FID Change"),fe.onmessage=I=>{B(I.data.key,I.data.fid)}),fe}();F&&F.postMessage({key:I,fid:T}),function Ke(){0===Je.size&&fe&&(fe.close(),fe=null)}()}(F,T)}function B(I,T){const F=Je.get(I);if(F)for(const te of F)te(T)}let fe=null;const Ht="firebase-installations-store";let Rt=null;function ut(){return Rt||(Rt=(0,Y.X3)("firebase-installations-database",1,{upgrade:(I,T)=>{0===T&&I.createObjectStore(Ht)}})),Rt}function Cn(I,T){return rn.apply(this,arguments)}function rn(){return(rn=(0,V.Z)(function*(I,T){const F=Ye(I),Ce=(yield ut()).transaction(Ht,"readwrite"),Ne=Ce.objectStore(Ht),qe=yield Ne.get(F);return yield Ne.put(T,F),yield Ce.done,(!qe||qe.fid!==T.fid)&&ze(I,T.fid),T})).apply(this,arguments)}function nn(I){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,V.Z)(function*(I){const T=Ye(I),te=(yield ut()).transaction(Ht,"readwrite");yield te.objectStore(Ht).delete(T),yield te.done})).apply(this,arguments)}function Cr(I,T){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,V.Z)(function*(I,T){const F=Ye(I),Ce=(yield ut()).transaction(Ht,"readwrite"),Ne=Ce.objectStore(Ht),qe=yield Ne.get(F),st=T(qe);return void 0===st?yield Ne.delete(F):yield Ne.put(st,F),yield Ce.done,st&&(!qe||qe.fid!==st.fid)&&ze(I,st.fid),st})).apply(this,arguments)}function An(I){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,V.Z)(function*(I){let T;const F=yield Cr(I.appConfig,te=>{const Ce=ps(te),Ne=zt(I,Ce);return T=Ne.registrationPromise,Ne.installationEntry});return""===F.fid?{installationEntry:yield T}:{installationEntry:F,registrationPromise:T}})).apply(this,arguments)}function ps(I){return Qr(I||{fid:De(),registrationStatus:0})}function zt(I,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(ke.create("app-offline"))};const F={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},te=function nt(I,T){return Tt.apply(this,arguments)}(I,F);return{installationEntry:F,registrationPromise:te}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:dr(I)}:{installationEntry:T}}function Tt(){return(Tt=(0,V.Z)(function*(I,T){try{const F=yield Ie(I,T);return Cn(I.appConfig,F)}catch(F){throw Ge(F)&&409===F.customData.serverCode?yield nn(I.appConfig):yield Cn(I.appConfig,{fid:T.fid,registrationStatus:0}),F}})).apply(this,arguments)}function dr(I){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,V.Z)(function*(I){let T=yield Pt(I.appConfig);for(;1===T.registrationStatus;)yield G(100),T=yield Pt(I.appConfig);if(0===T.registrationStatus){const{installationEntry:F,registrationPromise:te}=yield An(I);return te||F}return T})).apply(this,arguments)}function Pt(I){return Cr(I,T=>{if(!T)throw ke.create("installation-not-found");return Qr(T)})}function Qr(I){return function $n(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Ur(I,T){return de.apply(this,arguments)}function de(){return(de=(0,V.Z)(function*({appConfig:I,heartbeatServiceProvider:T},F){const te=ce(I,F),Ce=P(I,F),Ne=T.getImmediate({optional:!0});if(Ne){const It=yield Ne.getHeartbeatsHeader();It&&Ce.append("x-firebase-client",It)}const st={method:"POST",headers:Ce,body:JSON.stringify({installation:{sdkVersion:ee,appId:I.appId}})},yt=yield ne(()=>fetch(te,st));if(yt.ok)return we(yield yt.json());throw yield Se("Generate Auth Token",yt)})).apply(this,arguments)}function ce(I,{fid:T}){return`${xe(I)}/${T}/authTokens:generate`}function pe(I){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,V.Z)(function*(I,T=!1){let F;const te=yield Cr(I.appConfig,Ne=>{if(!Ct(Ne))throw ke.create("not-registered");const qe=Ne.authToken;if(!T&&pn(qe))return Ne;if(1===qe.requestStatus)return F=le(I,T),Ne;{if(!navigator.onLine)throw ke.create("app-offline");const st=Gn(Ne);return F=ot(I,st),st}});return F?yield F:te.authToken})).apply(this,arguments)}function le(I,T){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,V.Z)(function*(I,T){let F=yield Ze(I.appConfig);for(;1===F.authToken.requestStatus;)yield G(100),F=yield Ze(I.appConfig);const te=F.authToken;return 0===te.requestStatus?pe(I,T):te})).apply(this,arguments)}function Ze(I){return Cr(I,T=>{if(!Ct(T))throw ke.create("not-registered");return function Ir(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function ot(I,T){return Et.apply(this,arguments)}function Et(){return(Et=(0,V.Z)(function*(I,T){try{const F=yield Ur(I,T),te=Object.assign(Object.assign({},T),{authToken:F});return yield Cn(I.appConfig,te),F}catch(F){if(!Ge(F)||401!==F.customData.serverCode&&404!==F.customData.serverCode){const te=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Cn(I.appConfig,te)}else yield nn(I.appConfig);throw F}})).apply(this,arguments)}function Ct(I){return void 0!==I&&2===I.registrationStatus}function pn(I){return 2===I.requestStatus&&!function St(I){const T=Date.now();return T<I.creationTime||I.creationTime+I.expiresIn<T+36e5}(I)}function Gn(I){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:T})}function Wn(){return(Wn=(0,V.Z)(function*(I){const T=I,{installationEntry:F,registrationPromise:te}=yield An(T);return te?te.catch(console.error):pe(T).catch(console.error),F.fid})).apply(this,arguments)}function nr(){return(nr=(0,V.Z)(function*(I,T=!1){const F=I;return yield hr(F),(yield pe(F,T)).token})).apply(this,arguments)}function hr(I){return rt.apply(this,arguments)}function rt(){return(rt=(0,V.Z)(function*(I){const{registrationPromise:T}=yield An(I);T&&(yield T)})).apply(this,arguments)}function Jr(I){return ke.create("missing-app-config-values",{valueName:I})}const Lt="installations",gn=I=>{const T=I.getProvider("app").getImmediate(),F=function Xo(I){if(!I||!I.options)throw Jr("App Configuration");if(!I.name)throw Jr("App Name");const T=["projectId","apiKey","appId"];for(const F of T)if(!I.options[F])throw Jr(F);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(T);return{app:T,appConfig:F,heartbeatServiceProvider:(0,W._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Ks=I=>{const T=I.getProvider("app").getImmediate(),F=(0,W._getProvider)(T,Lt).getImmediate();return{getId:()=>function Yt(I){return Wn.apply(this,arguments)}(F),getToken:Ce=>function Jn(I){return nr.apply(this,arguments)}(F,Ce)}};(function gs(){(0,W._registerComponent)(new he.wA(Lt,gn,"PUBLIC")),(0,W._registerComponent)(new he.wA("installations-internal",Ks,"PRIVATE"))})(),(0,W.registerVersion)($,O),(0,W.registerVersion)($,O,"esm2017");const kn="@firebase/remote-config",rr=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ld{constructor(T,F,te,Ce){this.client=T,this.storage=F,this.storageCache=te,this.logger=Ce}isCachedDataFresh(T,F){if(!F)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const te=Date.now()-F,Ce=te<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${te}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${Ce}.`),Ce}fetch(T){var F=this;return(0,V.Z)(function*(){const[te,Ce]=yield Promise.all([F.storage.getLastSuccessfulFetchTimestampMillis(),F.storage.getLastSuccessfulFetchResponse()]);if(Ce&&F.isCachedDataFresh(T.cacheMaxAgeMillis,te))return Ce;T.eTag=Ce&&Ce.eTag;const Ne=yield F.client.fetch(T),qe=[F.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ne.status&&qe.push(F.storage.setLastSuccessfulFetchResponse(Ne)),yield Promise.all(qe),Ne})()}}function bc(I=navigator){return I.languages&&I.languages[0]||I.language}class eu{constructor(T,F,te,Ce,Ne,qe){this.firebaseInstallations=T,this.sdkVersion=F,this.namespace=te,this.projectId=Ce,this.apiKey=Ne,this.appId=qe}fetch(T){var F=this;return(0,V.Z)(function*(){const[te,Ce]=yield Promise.all([F.firebaseInstallations.getId(),F.firebaseInstallations.getToken()]),qe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${F.projectId}/namespaces/${F.namespace}:fetch?key=${F.apiKey}`,st={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},yt={sdk_version:F.sdkVersion,app_instance_id:te,app_instance_id_token:Ce,app_id:F.appId,language_code:bc()},It={method:"POST",headers:st,body:JSON.stringify(yt)},gt=fetch(qe,It),xt=new Promise((ri,lr)=>{T.signal.addEventListener(()=>{const xi=new Error("The operation was aborted.");xi.name="AbortError",lr(xi)})});let or;try{yield Promise.race([gt,xt]),or=yield gt}catch(ri){let lr="fetch-client-network";throw"AbortError"===ri.name&&(lr="fetch-timeout"),rr.create(lr,{originalErrorMessage:ri.message})}let Zn=or.status;const Oi=or.headers.get("ETag")||void 0;let Do,To;if(200===or.status){let ri;try{ri=yield or.json()}catch(lr){throw rr.create("fetch-client-parse",{originalErrorMessage:lr.message})}Do=ri.entries,To=ri.state}if("INSTANCE_STATE_UNSPECIFIED"===To?Zn=500:"NO_CHANGE"===To?Zn=304:("NO_TEMPLATE"===To||"EMPTY_CONFIG"===To)&&(Do={}),304!==Zn&&200!==Zn)throw rr.create("fetch-status",{httpStatus:Zn});return{status:Zn,eTag:Oi,config:Do}})()}}class $f{constructor(T,F){this.client=T,this.storage=F}fetch(T){var F=this;return(0,V.Z)(function*(){const te=(yield F.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return F.attemptFetch(T,te)})()}attemptFetch(T,{throttleEndTimeMillis:F,backoffCount:te}){var Ce=this;return(0,V.Z)(function*(){yield function zn(I,T){return new Promise((F,te)=>{const Ce=Math.max(T-Date.now(),0),Ne=setTimeout(F,Ce);I.addEventListener(()=>{clearTimeout(Ne),te(rr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,F);try{const Ne=yield Ce.client.fetch(T);return yield Ce.storage.deleteThrottleMetadata(),Ne}catch(Ne){if(!function Cc(I){if(!(I instanceof ie.ZR&&I.customData))return!1;const T=Number(I.customData.httpStatus);return 429===T||500===T||503===T||504===T}(Ne))throw Ne;const qe={throttleEndTimeMillis:Date.now()+(0,ie.$s)(te),backoffCount:te+1};return yield Ce.storage.setThrottleMetadata(qe),Ce.attemptFetch(T,qe)}})()}}class Ic{constructor(T,F,te,Ce,Ne){this.app=T,this._client=F,this._storageCache=te,this._storage=Ce,this._logger=Ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function tu(I,T){const F=I.target.error||void 0;return rr.create(T,{originalErrorMessage:F&&F.message})}const zi="app_namespace_store";class Ud{constructor(T,F,te,Ce=function zf(){return new Promise((I,T)=>{try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=te=>{T(tu(te,"storage-open"))},F.onsuccess=te=>{I(te.target.result)},F.onupgradeneeded=te=>{0===te.oldVersion&&te.target.result.createObjectStore(zi,{keyPath:"compositeKey"})}}catch(F){T(rr.create("storage-open",{originalErrorMessage:F}))}})}()){this.appId=T,this.appName=F,this.namespace=te,this.openDbPromise=Ce}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var F=this;return(0,V.Z)(function*(){const te=yield F.openDbPromise;return new Promise((Ce,Ne)=>{const st=te.transaction([zi],"readonly").objectStore(zi),yt=F.createCompositeKey(T);try{const It=st.get(yt);It.onerror=gt=>{Ne(tu(gt,"storage-get"))},It.onsuccess=gt=>{const xt=gt.target.result;Ce(xt?xt.value:void 0)}}catch(It){Ne(rr.create("storage-get",{originalErrorMessage:It&&It.message}))}})})()}set(T,F){var te=this;return(0,V.Z)(function*(){const Ce=yield te.openDbPromise;return new Promise((Ne,qe)=>{const yt=Ce.transaction([zi],"readwrite").objectStore(zi),It=te.createCompositeKey(T);try{const gt=yt.put({compositeKey:It,value:F});gt.onerror=xt=>{qe(tu(xt,"storage-set"))},gt.onsuccess=()=>{Ne()}}catch(gt){qe(rr.create("storage-set",{originalErrorMessage:gt&&gt.message}))}})})()}delete(T){var F=this;return(0,V.Z)(function*(){const te=yield F.openDbPromise;return new Promise((Ce,Ne)=>{const st=te.transaction([zi],"readwrite").objectStore(zi),yt=F.createCompositeKey(T);try{const It=st.delete(yt);It.onerror=gt=>{Ne(tu(gt,"storage-delete"))},It.onsuccess=()=>{Ce()}}catch(It){Ne(rr.create("storage-delete",{originalErrorMessage:It&&It.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Za{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,V.Z)(function*(){const F=T.storage.getLastFetchStatus(),te=T.storage.getLastSuccessfulFetchTimestampMillis(),Ce=T.storage.getActiveConfig(),Ne=yield F;Ne&&(T.lastFetchStatus=Ne);const qe=yield te;qe&&(T.lastSuccessfulFetchTimestampMillis=qe);const st=yield Ce;st&&(T.activeConfig=st)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Ka(){return qi.apply(this,arguments)}function qi(){return(qi=(0,V.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function wi(){(0,W._registerComponent)(new he.wA("remote-config",function I(T,{instanceIdentifier:F}){const te=T.getProvider("app").getImmediate(),Ce=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw rr.create("registration-window");if(!(0,ie.hl)())throw rr.create("indexed-db-unavailable");const{projectId:Ne,apiKey:qe,appId:st}=te.options;if(!Ne)throw rr.create("registration-project-id");if(!qe)throw rr.create("registration-api-key");if(!st)throw rr.create("registration-app-id");const yt=new Ud(st,te.name,F=F||"firebase"),It=new Za(yt),gt=new j.Yd(kn);gt.logLevel=j.in.ERROR;const xt=new eu(Ce,W.SDK_VERSION,F,Ne,qe,st),or=new $f(xt,yt),Zn=new Ld(or,yt,It,gt),Oi=new Ic(te,Zn,It,yt,gt);return function _s(I){const T=(0,ie.m9)(I);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Oi),Oi},"PUBLIC").setMultipleInstances(!0)),(0,W.registerVersion)(kn,"0.3.8"),(0,W.registerVersion)(kn,"0.3.8","esm2017")}();const Ya="/firebase-messaging-sw.js",Dr="/firebase-cloud-messaging-push-scope",Zi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ia="google.c.a.c_id",sa="google.c.a.c_l",nu="google.c.a.ts",qf="google.c.a.e";var ys=(()=>{return(I=ys||(ys={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",ys;var I})();function mn(I){const T=new Uint8Array(I);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Qa(I){const F=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),te=atob(F),Ce=new Uint8Array(te.length);for(let Ne=0;Ne<te.length;++Ne)Ce[Ne]=te.charCodeAt(Ne);return Ce}const Ja="fcm_token_details_db",Tr="fcm_token_object_Store";function Vd(I){return el.apply(this,arguments)}function el(){return el=(0,V.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ne=>Ne.name).includes(Ja))return null;let T=null;return(yield(0,Y.X3)(Ja,5,{upgrade:(te=(0,V.Z)(function*(Ce,Ne,qe,st){var yt;if(Ne<2||!Ce.objectStoreNames.contains(Tr))return;const It=st.objectStore(Tr),gt=yield It.index("fcmSenderId").get(I);if(yield It.clear(),gt)if(2===Ne){const xt=gt;if(!xt.auth||!xt.p256dh||!xt.endpoint)return;T={token:xt.fcmToken,createTime:null!==(yt=xt.createTime)&&void 0!==yt?yt:Date.now(),subscriptionOptions:{auth:xt.auth,p256dh:xt.p256dh,endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:"string"==typeof xt.vapidKey?xt.vapidKey:mn(xt.vapidKey)}}}else if(3===Ne){const xt=gt;T={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:mn(xt.auth),p256dh:mn(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:mn(xt.vapidKey)}}}else if(4===Ne){const xt=gt;T={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:mn(xt.auth),p256dh:mn(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:mn(xt.vapidKey)}}}}),function(Ne,qe,st,yt){return te.apply(this,arguments)})})).close(),yield(0,Y.Lj)(Ja),yield(0,Y.Lj)("fcm_vapid_details_db"),yield(0,Y.Lj)("undefined"),Tc(T)?T:null;var te}),el.apply(this,arguments)}function Tc(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:T}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Jt="firebase-messaging-store";let tl=null;function nl(){return tl||(tl=(0,Y.X3)("firebase-messaging-database",1,{upgrade:(I,T)=>{0===T&&I.createObjectStore(Jt)}})),tl}function _n(I){return oa.apply(this,arguments)}function oa(){return(oa=(0,V.Z)(function*(I){const T=no(I),te=yield(yield nl()).transaction(Jt).objectStore(Jt).get(T);if(te)return te;{const Ce=yield Vd(I.appConfig.senderId);if(Ce)return yield vs(I,Ce),Ce}})).apply(this,arguments)}function vs(I,T){return Br.apply(this,arguments)}function Br(){return(Br=(0,V.Z)(function*(I,T){const F=no(I),Ce=(yield nl()).transaction(Jt,"readwrite");return yield Ce.objectStore(Jt).put(T,F),yield Ce.done,T})).apply(this,arguments)}function Sr(I){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,V.Z)(function*(I){const T=no(I),te=(yield nl()).transaction(Jt,"readwrite");yield te.objectStore(Jt).delete(T),yield te.done})).apply(this,arguments)}function no({appConfig:I}){return I.appId}const Zt=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function rl(I,T){return ro.apply(this,arguments)}function ro(){return(ro=(0,V.Z)(function*(I,T){const F=yield Ji(I),te=Es(T),Ce={method:"POST",headers:F,body:JSON.stringify(te)};let Ne;try{Ne=yield(yield fetch(wt(I.appConfig),Ce)).json()}catch(qe){throw Zt.create("token-subscribe-failed",{errorInfo:qe})}if(Ne.error)throw Zt.create("token-subscribe-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw Zt.create("token-subscribe-no-token");return Ne.token})).apply(this,arguments)}function ru(I,T){return gr.apply(this,arguments)}function gr(){return(gr=(0,V.Z)(function*(I,T){const F=yield Ji(I),te=Es(T.subscriptionOptions),Ce={method:"PATCH",headers:F,body:JSON.stringify(te)};let Ne;try{Ne=yield(yield fetch(`${wt(I.appConfig)}/${T.token}`,Ce)).json()}catch(qe){throw Zt.create("token-update-failed",{errorInfo:qe})}if(Ne.error)throw Zt.create("token-update-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw Zt.create("token-update-no-token");return Ne.token})).apply(this,arguments)}function Qi(I,T){return io.apply(this,arguments)}function io(){return(io=(0,V.Z)(function*(I,T){const te={method:"DELETE",headers:yield Ji(I)};try{const Ne=yield(yield fetch(`${wt(I.appConfig)}/${T}`,te)).json();if(Ne.error)throw Zt.create("token-unsubscribe-failed",{errorInfo:Ne.error.message})}catch(Ce){throw Zt.create("token-unsubscribe-failed",{errorInfo:Ce})}})).apply(this,arguments)}function wt({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Ji(I){return aa.apply(this,arguments)}function aa(){return(aa=(0,V.Z)(function*({appConfig:I,installations:T}){const F=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${F}`})})).apply(this,arguments)}function Es({p256dh:I,auth:T,endpoint:F,vapidKey:te}){const Ce={web:{endpoint:F,auth:T,p256dh:I}};return te!==Zi&&(Ce.web.applicationPubKey=te),Ce}const la=6048e5;function ua(I){return ca.apply(this,arguments)}function ca(){return(ca=(0,V.Z)(function*(I){const T=yield Rn(I.swRegistration,I.vapidKey),F={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:T.endpoint,auth:mn(T.getKey("auth")),p256dh:mn(T.getKey("p256dh"))},te=yield _n(I.firebaseDependencies);if(te){if(Ci(te.subscriptionOptions,F))return Date.now()>=te.createTime+la?He(I,{token:te.token,createTime:Date.now(),subscriptionOptions:F}):te.token;try{yield Qi(I.firebaseDependencies,te.token)}catch(Ce){console.warn(Ce)}return Xi(I.firebaseDependencies,F)}return Xi(I.firebaseDependencies,F)})).apply(this,arguments)}function il(I){return iu.apply(this,arguments)}function iu(){return(iu=(0,V.Z)(function*(I){const T=yield _n(I.firebaseDependencies);T&&(yield Qi(I.firebaseDependencies,T.token),yield Sr(I.firebaseDependencies));const F=yield I.swRegistration.pushManager.getSubscription();return!F||F.unsubscribe()})).apply(this,arguments)}function He(I,T){return $t.apply(this,arguments)}function $t(){return($t=(0,V.Z)(function*(I,T){try{const F=yield ru(I.firebaseDependencies,T),te=Object.assign(Object.assign({},T),{token:F,createTime:Date.now()});return yield vs(I.firebaseDependencies,te),F}catch(F){throw yield il(I),F}})).apply(this,arguments)}function Xi(I,T){return so.apply(this,arguments)}function so(){return(so=(0,V.Z)(function*(I,T){const te={token:yield rl(I,T),createTime:Date.now(),subscriptionOptions:T};return yield vs(I,te),te.token})).apply(this,arguments)}function Rn(I,T){return ws.apply(this,arguments)}function ws(){return(ws=(0,V.Z)(function*(I,T){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Qa(T)})})).apply(this,arguments)}function Ci(I,T){return T.vapidKey===I.vapidKey&&T.endpoint===I.endpoint&&T.auth===I.auth&&T.p256dh===I.p256dh}function ei(I){const T={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function oo(I,T){if(!T.notification)return;I.notification={};const F=T.notification.title;F&&(I.notification.title=F);const te=T.notification.body;te&&(I.notification.body=te);const Ce=T.notification.image;Ce&&(I.notification.image=Ce)}(T,I),function sl(I,T){!T.data||(I.data=T.data)}(T,I),function Zf(I,T){if(!T.fcmOptions)return;I.fcmOptions={};const F=T.fcmOptions.link;F&&(I.fcmOptions.link=F);const te=T.fcmOptions.analytics_label;te&&(I.fcmOptions.analyticsLabel=te)}(T,I),T}function su(I){return"object"==typeof I&&!!I&&ia in I}function jd(I,T){const F=[];for(let te=0;te<I.length;te++)F.push(I.charAt(te)),te<T.length&&F.push(T.charAt(te));return F.join("")}function Ln(I){return Zt.create("missing-app-config-values",{valueName:I})}jd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ii{constructor(T,F,te){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ce=function da(I){if(!I||!I.options)throw Ln("App Configuration Object");if(!I.name)throw Ln("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:F}=I;for(const te of T)if(!F[te])throw Ln(te);return{appName:I.name,projectId:F.projectId,apiKey:F.apiKey,appId:F.appId,senderId:F.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:Ce,installations:F,analyticsProvider:te}}_delete(){return Promise.resolve()}}function ao(I){return es.apply(this,arguments)}function es(){return(es=(0,V.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Ya,{scope:Dr}),I.swRegistration.update().catch(()=>{})}catch(T){throw Zt.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function ti(I,T){return ou.apply(this,arguments)}function ou(){return(ou=(0,V.Z)(function*(I,T){if(!T&&!I.swRegistration&&(yield ao(I)),T||!I.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Zt.create("invalid-sw-registration");I.swRegistration=T}})).apply(this,arguments)}function lo(I,T){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,V.Z)(function*(I,T){T?I.vapidKey=T:I.vapidKey||(I.vapidKey=Zi)})).apply(this,arguments)}function ha(){return(ha=(0,V.Z)(function*(I,T){if(!navigator)throw Zt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Zt.create("permission-blocked");return yield lo(I,T?.vapidKey),yield ti(I,T?.serviceWorkerRegistration),ua(I)})).apply(this,arguments)}function fa(I,T,F){return ol.apply(this,arguments)}function ol(){return(ol=(0,V.Z)(function*(I,T,F){const te=uo(T);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(te,{message_id:F[ia],message_name:F[sa],message_time:F[nu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function uo(I){switch(I){case ys.NOTIFICATION_CLICKED:return"notification_open";case ys.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function pa(){return(pa=(0,V.Z)(function*(I,T){const F=T.data;if(!F.isFirebaseMessaging)return;I.onMessageHandler&&F.messageType===ys.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(ei(F)):I.onMessageHandler.next(ei(F)));const te=F.data;su(te)&&"1"===te[qf]&&(yield fa(I,F.messageType,te))})).apply(this,arguments)}const bs="@firebase/messaging",al=I=>{const T=new Ii(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",F=>function Hd(I,T){return pa.apply(this,arguments)}(T,F)),T},ho=I=>{const T=I.getProvider("messaging").getImmediate();return{getToken:te=>function au(I,T){return ha.apply(this,arguments)}(T,te)}};function ll(){return uu.apply(this,arguments)}function uu(){return(uu=(0,V.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function lu(){(0,W._registerComponent)(new he.wA("messaging",al,"PUBLIC")),(0,W._registerComponent)(new he.wA("messaging-internal",ho,"PRIVATE")),(0,W.registerVersion)(bs,"0.9.13"),(0,W.registerVersion)(bs,"0.9.13","esm2017")}();const du="analytics",Mc="firebase_id",Di="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ma="https://www.googletagmanager.com/gtag/js",qn=new j.Yd("@firebase/analytics");function $d(I){return Promise.all(I.map(T=>T.catch(F=>F)))}function ns(I,T){const F=document.createElement("script");F.src=`${ma}?l=${I}&id=${T}`,F.async=!0,document.head.appendChild(F)}function Rc(I,T,F,te,Ce,Ne){return dl.apply(this,arguments)}function dl(){return(dl=(0,V.Z)(function*(I,T,F,te,Ce,Ne){const qe=te[Ce];try{if(qe)yield T[qe];else{const yt=(yield $d(F)).find(It=>It.measurementId===Ce);yt&&(yield T[yt.appId])}}catch(st){qn.error(st)}I("config",Ce,Ne)})).apply(this,arguments)}function _a(I,T,F,te,Ce){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,V.Z)(function*(I,T,F,te,Ce){try{let Ne=[];if(Ce&&Ce.send_to){let qe=Ce.send_to;Array.isArray(qe)||(qe=[qe]);const st=yield $d(F);for(const yt of qe){const It=st.find(xt=>xt.measurementId===yt),gt=It&&T[It.appId];if(!gt){Ne=[];break}Ne.push(gt)}}0===Ne.length&&(Ne=Object.values(T)),yield Promise.all(Ne),I("event",te,Ce||{})}catch(Ne){qn.error(Ne)}})).apply(this,arguments)}function pm(){const I=window.document.getElementsByTagName("script");for(const T of Object.values(I))if(T.src&&T.src.includes(ma))return T;return null}const mr=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Oc=new class jr{constructor(T={},F=1e3){this.throttleMetadata=T,this.intervalMillis=F}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,F){this.throttleMetadata[T]=F}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function dn(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Vn(I){return hu.apply(this,arguments)}function hu(){return(hu=(0,V.Z)(function*(I){var T;const{appId:F,apiKey:te}=I,Ce={method:"GET",headers:dn(te)},Ne=Di.replace("{app-id}",F),qe=yield fetch(Ne,Ce);if(200!==qe.status&&304!==qe.status){let st="";try{const yt=yield qe.json();null!==(T=yt.error)&&void 0!==T&&T.message&&(st=yt.error.message)}catch{}throw mr.create("config-fetch-failed",{httpStatus:qe.status,responseMessage:st})}return qe.json()})).apply(this,arguments)}function hn(I){return ya.apply(this,arguments)}function ya(){return(ya=(0,V.Z)(function*(I,T=Oc,F){const{appId:te,apiKey:Ce,measurementId:Ne}=I.options;if(!te)throw mr.create("no-app-id");if(!Ce){if(Ne)return{measurementId:Ne,appId:te};throw mr.create("no-api-key")}const qe=T.getThrottleMetadata(te)||{backoffCount:0,throttleEndTimeMillis:Date.now()},st=new Ds;return setTimeout((0,V.Z)(function*(){st.abort()}),void 0!==F?F:6e4),Is({appId:te,apiKey:Ce,measurementId:Ne},qe,st,T)})).apply(this,arguments)}function Is(I,T,F){return fu.apply(this,arguments)}function fu(){return(fu=(0,V.Z)(function*(I,{throttleEndTimeMillis:T,backoffCount:F},te,Ce=Oc){const{appId:Ne,measurementId:qe}=I;try{yield hl(te,T)}catch(st){if(qe)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qe} provided in the "measurementId" field in the local Firebase config. [${st.message}]`),{appId:Ne,measurementId:qe};throw st}try{const st=yield Vn(I);return Ce.deleteThrottleMetadata(Ne),st}catch(st){if(!go(st)){if(Ce.deleteThrottleMetadata(Ne),qe)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qe} provided in the "measurementId" field in the local Firebase config. [${st.message}]`),{appId:Ne,measurementId:qe};throw st}const yt=503===Number(st.customData.httpStatus)?(0,ie.$s)(F,Ce.intervalMillis,30):(0,ie.$s)(F,Ce.intervalMillis),It={throttleEndTimeMillis:Date.now()+yt,backoffCount:F+1};return Ce.setThrottleMetadata(Ne,It),qn.debug(`Calling attemptFetch again in ${yt} millis`),Is(I,It,te,Ce)}})).apply(this,arguments)}function hl(I,T){return new Promise((F,te)=>{const Ce=Math.max(T-Date.now(),0),Ne=setTimeout(F,Ce);I.addEventListener(()=>{clearTimeout(Ne),te(mr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function go(I){if(!(I instanceof ie.ZR&&I.customData))return!1;const T=Number(I.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Ds{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function on(){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,V.Z)(function*(){if(!(0,ie.hl)())return qn.warn(mr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(I){return qn.warn(mr.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function mo(){return(mo=(0,V.Z)(function*(I,T,F,te,Ce,Ne,qe){var st;const yt=hn(I);yt.then(Zn=>{F[Zn.measurementId]=Zn.appId,I.options.measurementId&&Zn.measurementId!==I.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zn=>qn.error(Zn)),T.push(yt);const It=on().then(Zn=>{if(Zn)return te.getId()}),[gt,xt]=yield Promise.all([yt,It]);pm()||ns(Ne,gt.measurementId),Ce("js",new Date);const or=null!==(st=qe?.config)&&void 0!==st?st:{};return or.origin="firebase",or.update=!0,null!=xt&&(or[Mc]=xt),Ce("config",gt.measurementId,or),gt.measurementId})).apply(this,arguments)}class is{constructor(T){this.app=T}_delete(){return delete sr[this.app.options.appId],Promise.resolve()}}let sr={},va=[];const Ea={};let pu,Ti,Hr="dataLayer",fl=!1;function ba(I,T,F){!function wa(){const I=[];if((0,ie.ru)()&&I.push("This is a browser extension environment."),(0,ie.zI)()||I.push("Cookies are not available."),I.length>0){const T=I.map((te,Ce)=>`(${Ce+1}) ${te}`).join(" "),F=mr.create("invalid-analytics-context",{errorInfo:T});qn.warn(F.message)}}();const te=I.options.appId;if(!te)throw mr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw mr.create("no-api-key");qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=sr[te])throw mr.create("already-exists",{id:te});if(!fl){!function cl(I){let T=[];Array.isArray(window[I])?T=window[I]:window[I]=T}(Hr);const{wrappedGtag:Ne,gtagCore:qe}=function Kf(I,T,F,te,Ce){let Ne=function(...qe){window[te].push(arguments)};return window[Ce]&&"function"==typeof window[Ce]&&(Ne=window[Ce]),window[Ce]=function Gd(I,T,F,te){function Ne(){return(Ne=(0,V.Z)(function*(qe,st,yt){try{"event"===qe?yield _a(I,T,F,st,yt):"config"===qe?yield Rc(I,T,F,te,st,yt):I("set",st)}catch(It){qn.error(It)}})).apply(this,arguments)}return function Ce(qe,st,yt){return Ne.apply(this,arguments)}}(Ne,I,T,F),{gtagCore:Ne,wrappedGtag:window[Ce]}}(sr,va,Ea,Hr,"gtag");Ti=Ne,pu=qe,fl=!0}return sr[te]=function rs(I,T,F,te,Ce,Ne,qe){return mo.apply(this,arguments)}(I,va,Ea,T,pu,Hr,F),new is(I)}function Ca(){return(Ca=(0,V.Z)(function*(I,T,F,te,Ce){if(Ce&&Ce.global)I("event",F,te);else{const Ne=yield T;I("event",F,Object.assign(Object.assign({},te),{send_to:Ne}))}})).apply(this,arguments)}function _u(){return yo.apply(this,arguments)}function yo(){return(yo=(0,V.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const zd="@firebase/analytics";!function qd(){(0,W._registerComponent)(new he.wA(du,(T,{options:F})=>ba(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),F),"PUBLIC")),(0,W._registerComponent)(new he.wA("analytics-internal",function I(T){try{const F=T.getProvider(du).getImmediate();return{logEvent:(te,Ce,Ne)=>function xc(I,T,F,te){I=(0,ie.m9)(I),function yr(I,T,F,te,Ce){return Ca.apply(this,arguments)}(Ti,sr[I.app.options.appId],T,F,te).catch(Ce=>qn.error(Ce))}(F,te,Ce,Ne)}}catch(F){throw mr.create("interop-component-reg-failed",{reason:F})}},"PRIVATE")),(0,W.registerVersion)(zd,"0.7.9"),(0,W.registerVersion)(zd,"0.7.9","esm2017")}();var Nc=x(4408),_l=x(7565);const vu=new class vo extends _l.v{}(class Zd extends Nc.o{constructor(T,F){super(T,F),this.scheduler=T,this.work=F}schedule(T,F=0){return F>0?super.schedule(T,F):(this.delay=F,this.state=T,this.scheduler.flush(this),this)}execute(T,F){return F>0||this.closed?super.execute(T,F):this._execute(T,F)}requestAsyncId(T,F,te=0){return null!=te&&te>0||null==te&&this.delay>0?super.requestAsyncId(T,F,te):T.flush(this)}});var yn=x(4986),Eo=x(8505),Mi=x(5363),yl=x(9468);const vl=new c.GfV("7.4.1"),en="__angularfire_symbol__analyticsIsSupportedValue",Pn="__angularfire_symbol__analyticsIsSupported",Ri="__angularfire_symbol__remoteConfigIsSupportedValue",ni="__angularfire_symbol__remoteConfigIsSupported",ss="__angularfire_symbol__messagingIsSupportedValue",Ss="__angularfire_symbol__messagingIsSupported";function wl(I,T,F){if(T){if(1===T.length)return T[0];const Ne=T.filter(qe=>qe.app===F);if(1===Ne.length)return Ne[0]}return F.container.getProvider(I).getImmediate({optional:!0})}globalThis[Pn]||(globalThis[Pn]=_u().then(I=>globalThis[en]=I).catch(()=>globalThis[en]=!1)),globalThis[Ss]||(globalThis[Ss]=ll().then(I=>globalThis[ss]=I).catch(()=>globalThis[ss]=!1)),globalThis[ni]||(globalThis[ni]=Ka().then(I=>globalThis[Ri]=I).catch(()=>globalThis[Ri]=!1));const Ar=(I,T)=>{const F=T?[T]:(0,Q.C6)(),te=[];return F.forEach(Ce=>{Ce.container.getProvider(I).instances.forEach(qe=>{te.includes(qe)||te.push(qe)})}),te};function Pi(){}class bo{constructor(T,F=vu){this.zone=T,this.delegate=F}now(){return this.delegate.now()}schedule(T,F,te){const Ce=this.zone;return this.delegate.schedule(function(qe){Ce.runGuarded(()=>{T.apply(this,[qe])})},F,te)}}class Kd{constructor(T){this.zone=T,this.task=null}call(T,F){const te=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pi,{},Pi,Pi)),F.pipe((0,Eo.b)({next:te,complete:te,error:te})).subscribe(T).add(te)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Yd=(()=>{class I{constructor(F){this.ngZone=F,this.outsideAngular=F.runOutsideAngular(()=>new bo(Zone.current)),this.insideAngular=F.run(()=>new bo(Zone.current,yn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(F){return new(F||I)(c.LFG(c.R0b))},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function os(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Ia(I){return I.pipe((0,Mi.Q)(os().outsideAngular))}function Lc(I){return os(),function Da(I){return function(F){return(F=F.lift(new Kd(I.ngZone))).pipe((0,yl.R)(I.outsideAngular),(0,Mi.Q)(I.insideAngular))}}(os())(I)}},2090:(Xe,be,x)=>{"use strict";x.d(be,{$s:()=>Pt,BH:()=>Ae,DV:()=>R,Dv:()=>Fr,GJ:()=>ze,L:()=>Y,LL:()=>b,Pz:()=>Me,Sg:()=>Re,UG:()=>ae,UI:()=>ge,US:()=>he,Wj:()=>An,Yr:()=>Be,ZB:()=>U,ZR:()=>Ie,b$:()=>Ge,cI:()=>ye,dS:()=>ps,eu:()=>ne,g5:()=>V,gK:()=>Cr,gQ:()=>Ht,h$:()=>j,hl:()=>P,hu:()=>Q,jU:()=>_e,lb:()=>Lr,m9:()=>Ur,ne:()=>Rt,p$:()=>O,pd:()=>Vt,r3:()=>S,ru:()=>ke,tV:()=>$,uI:()=>q,ug:()=>zt,vZ:()=>fe,w1:()=>we,w9:()=>Je,xO:()=>Ke,xb:()=>B,z$:()=>J,zI:()=>K,zd:()=>dt});const Q=function(de,ce){if(!de)throw V(ce)},V=function(de){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+de)},W=function(de){const ce=[];let pe=0;for(let Ve=0;Ve<de.length;Ve++){let le=de.charCodeAt(Ve);le<128?ce[pe++]=le:le<2048?(ce[pe++]=le>>6|192,ce[pe++]=63&le|128):55296==(64512&le)&&Ve+1<de.length&&56320==(64512&de.charCodeAt(Ve+1))?(le=65536+((1023&le)<<10)+(1023&de.charCodeAt(++Ve)),ce[pe++]=le>>18|240,ce[pe++]=le>>12&63|128,ce[pe++]=le>>6&63|128,ce[pe++]=63&le|128):(ce[pe++]=le>>12|224,ce[pe++]=le>>6&63|128,ce[pe++]=63&le|128)}return ce},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(de,ce){if(!Array.isArray(de))throw Error("encodeByteArray takes an array as a parameter");this.init_();const pe=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ve=[];for(let le=0;le<de.length;le+=3){const Pe=de[le],Ze=le+1<de.length,ot=Ze?de[le+1]:0,Et=le+2<de.length,Ct=Et?de[le+2]:0;let Gn=(15&ot)<<2|Ct>>6,Ir=63&Ct;Et||(Ir=64,Ze||(Gn=64)),Ve.push(pe[Pe>>2],pe[(3&Pe)<<4|ot>>4],pe[Gn],pe[Ir])}return Ve.join("")},encodeString(de,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(de):this.encodeByteArray(W(de),ce)},decodeString(de,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(de):function(de){const ce=[];let pe=0,Ve=0;for(;pe<de.length;){const le=de[pe++];if(le<128)ce[Ve++]=String.fromCharCode(le);else if(le>191&&le<224){const Pe=de[pe++];ce[Ve++]=String.fromCharCode((31&le)<<6|63&Pe)}else if(le>239&&le<365){const Et=((7&le)<<18|(63&de[pe++])<<12|(63&de[pe++])<<6|63&de[pe++])-65536;ce[Ve++]=String.fromCharCode(55296+(Et>>10)),ce[Ve++]=String.fromCharCode(56320+(1023&Et))}else{const Pe=de[pe++],Ze=de[pe++];ce[Ve++]=String.fromCharCode((15&le)<<12|(63&Pe)<<6|63&Ze)}}return ce.join("")}(this.decodeStringToByteArray(de,ce))},decodeStringToByteArray(de,ce){this.init_();const pe=ce?this.charToByteMapWebSafe_:this.charToByteMap_,Ve=[];for(let le=0;le<de.length;){const Pe=pe[de.charAt(le++)],ot=le<de.length?pe[de.charAt(le)]:0;++le;const Ct=le<de.length?pe[de.charAt(le)]:64;++le;const St=le<de.length?pe[de.charAt(le)]:64;if(++le,null==Pe||null==ot||null==Ct||null==St)throw Error();Ve.push(Pe<<2|ot>>4),64!==Ct&&(Ve.push(ot<<4&240|Ct>>2),64!==St&&Ve.push(Ct<<6&192|St))}return Ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let de=0;de<this.ENCODED_VALS.length;de++)this.byteToCharMap_[de]=this.ENCODED_VALS.charAt(de),this.charToByteMap_[this.byteToCharMap_[de]]=de,this.byteToCharMapWebSafe_[de]=this.ENCODED_VALS_WEBSAFE.charAt(de),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[de]]=de,de>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(de)]=de,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(de)]=de)}}},j=function(de){const ce=W(de);return he.encodeByteArray(ce,!0)},Y=function(de){return j(de).replace(/\./g,"")},$=function(de){try{return he.decodeString(de,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null};function O(de){return U(void 0,de)}function U(de,ce){if(!(ce instanceof Object))return ce;switch(ce.constructor){case Date:return new Date(ce.getTime());case Object:void 0===de&&(de={});break;case Array:de=[];break;default:return ce}for(const pe in ce)!ce.hasOwnProperty(pe)||!ee(pe)||(de[pe]=U(de[pe],ce[pe]));return de}function ee(de){return"__proto__"!==de}class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,pe)=>{this.resolve=ce,this.reject=pe})}wrapCallback(ce){return(pe,Ve)=>{pe?this.reject(pe):this.resolve(Ve),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce(pe):ce(pe,Ve))}}}function Re(de,ce){if(de.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ve=ce||"demo-project",le=de.iat||0,Pe=de.sub||de.user_id;if(!Pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ze=Object.assign({iss:`https://securetoken.google.com/${Ve}`,aud:Ve,iat:le,exp:le+3600,auth_time:le,sub:Pe,user_id:Pe,firebase:{sign_in_provider:"custom",identities:{}}},de);return[Y(JSON.stringify({alg:"none",type:"JWT"})),Y(JSON.stringify(Ze)),""].join(".")}function J(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function q(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(J())}function ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function _e(){return"object"==typeof self&&self.self===self}function ke(){const de="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof de&&void 0!==de.id}function Ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function we(){const de=J();return de.indexOf("MSIE ")>=0||de.indexOf("Trident/")>=0}function Be(){return!1}function P(){return"object"==typeof indexedDB}function ne(){return new Promise((de,ce)=>{try{let pe=!0;const Ve="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(Ve);le.onsuccess=()=>{le.result.close(),pe||self.indexedDB.deleteDatabase(Ve),de(!0)},le.onupgradeneeded=()=>{pe=!1},le.onerror=()=>{var Pe;ce((null===(Pe=le.error)||void 0===Pe?void 0:Pe.message)||"")}}catch(pe){ce(pe)}})}function K(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ie extends Error{constructor(ce,pe,Ve){super(pe),this.code=ce,this.customData=Ve,this.name="FirebaseError",Object.setPrototypeOf(this,Ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,b.prototype.create)}}class b{constructor(ce,pe,Ve){this.service=ce,this.serviceName=pe,this.errors=Ve}create(ce,...pe){const Ve=pe[0]||{},le=`${this.service}/${ce}`,Pe=this.errors[ce],Ze=Pe?function G(de,ce){return de.replace(X,(pe,Ve)=>{const le=ce[Ve];return null!=le?String(le):`<${Ve}?>`})}(Pe,Ve):"Error";return new Ie(le,`${this.serviceName}: ${Ze} (${le}).`,Ve)}}const X=/\{\$([^}]+)}/g;function ye(de){return JSON.parse(de)}function Me(de){return JSON.stringify(de)}const De=function(de){let ce={},pe={},Ve={},le="";try{const Pe=de.split(".");ce=ye($(Pe[0])||""),pe=ye($(Pe[1])||""),le=Pe[2],Ve=pe.d||{},delete pe.d}catch{}return{header:ce,claims:pe,data:Ve,signature:le}},Je=function(de){const pe=De(de).claims;return!!pe&&"object"==typeof pe&&pe.hasOwnProperty("iat")},ze=function(de){const ce=De(de).claims;return"object"==typeof ce&&!0===ce.admin};function S(de,ce){return Object.prototype.hasOwnProperty.call(de,ce)}function R(de,ce){if(Object.prototype.hasOwnProperty.call(de,ce))return de[ce]}function B(de){for(const ce in de)if(Object.prototype.hasOwnProperty.call(de,ce))return!1;return!0}function ge(de,ce,pe){const Ve={};for(const le in de)Object.prototype.hasOwnProperty.call(de,le)&&(Ve[le]=ce.call(pe,de[le],le,de));return Ve}function fe(de,ce){if(de===ce)return!0;const pe=Object.keys(de),Ve=Object.keys(ce);for(const le of pe){if(!Ve.includes(le))return!1;const Pe=de[le],Ze=ce[le];if(Ee(Pe)&&Ee(Ze)){if(!fe(Pe,Ze))return!1}else if(Pe!==Ze)return!1}for(const le of Ve)if(!pe.includes(le))return!1;return!0}function Ee(de){return null!==de&&"object"==typeof de}function Ke(de){const ce=[];for(const[pe,Ve]of Object.entries(de))Array.isArray(Ve)?Ve.forEach(le=>{ce.push(encodeURIComponent(pe)+"="+encodeURIComponent(le))}):ce.push(encodeURIComponent(pe)+"="+encodeURIComponent(Ve));return ce.length?"&"+ce.join("&"):""}function dt(de){const ce={};return de.replace(/^\?/,"").split("&").forEach(Ve=>{if(Ve){const[le,Pe]=Ve.split("=");ce[decodeURIComponent(le)]=decodeURIComponent(Pe)}}),ce}function Vt(de){const ce=de.indexOf("?");if(!ce)return"";const pe=de.indexOf("#",ce);return de.substring(ce,pe>0?pe:void 0)}class Ht{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ce=1;ce<this.blockSize;++ce)this.pad_[ce]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ce,pe){pe||(pe=0);const Ve=this.W_;if("string"==typeof ce)for(let St=0;St<16;St++)Ve[St]=ce.charCodeAt(pe)<<24|ce.charCodeAt(pe+1)<<16|ce.charCodeAt(pe+2)<<8|ce.charCodeAt(pe+3),pe+=4;else for(let St=0;St<16;St++)Ve[St]=ce[pe]<<24|ce[pe+1]<<16|ce[pe+2]<<8|ce[pe+3],pe+=4;for(let St=16;St<80;St++){const Gn=Ve[St-3]^Ve[St-8]^Ve[St-14]^Ve[St-16];Ve[St]=4294967295&(Gn<<1|Gn>>>31)}let Ct,pn,le=this.chain_[0],Pe=this.chain_[1],Ze=this.chain_[2],ot=this.chain_[3],Et=this.chain_[4];for(let St=0;St<80;St++){St<40?St<20?(Ct=ot^Pe&(Ze^ot),pn=1518500249):(Ct=Pe^Ze^ot,pn=1859775393):St<60?(Ct=Pe&Ze|ot&(Pe|Ze),pn=2400959708):(Ct=Pe^Ze^ot,pn=3395469782);const Gn=(le<<5|le>>>27)+Ct+Et+pn+Ve[St]&4294967295;Et=ot,ot=Ze,Ze=4294967295&(Pe<<30|Pe>>>2),Pe=le,le=Gn}this.chain_[0]=this.chain_[0]+le&4294967295,this.chain_[1]=this.chain_[1]+Pe&4294967295,this.chain_[2]=this.chain_[2]+Ze&4294967295,this.chain_[3]=this.chain_[3]+ot&4294967295,this.chain_[4]=this.chain_[4]+Et&4294967295}update(ce,pe){if(null==ce)return;void 0===pe&&(pe=ce.length);const Ve=pe-this.blockSize;let le=0;const Pe=this.buf_;let Ze=this.inbuf_;for(;le<pe;){if(0===Ze)for(;le<=Ve;)this.compress_(ce,le),le+=this.blockSize;if("string"==typeof ce){for(;le<pe;)if(Pe[Ze]=ce.charCodeAt(le),++Ze,++le,Ze===this.blockSize){this.compress_(Pe),Ze=0;break}}else for(;le<pe;)if(Pe[Ze]=ce[le],++Ze,++le,Ze===this.blockSize){this.compress_(Pe),Ze=0;break}}this.inbuf_=Ze,this.total_+=pe}digest(){const ce=[];let pe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let le=this.blockSize-1;le>=56;le--)this.buf_[le]=255&pe,pe/=256;this.compress_(this.buf_);let Ve=0;for(let le=0;le<5;le++)for(let Pe=24;Pe>=0;Pe-=8)ce[Ve]=this.chain_[le]>>Pe&255,++Ve;return ce}}function Rt(de,ce){const pe=new ut(de,ce);return pe.subscribe.bind(pe)}class ut{constructor(ce,pe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=pe,this.task.then(()=>{ce(this)}).catch(Ve=>{this.error(Ve)})}next(ce){this.forEachObserver(pe=>{pe.next(ce)})}error(ce){this.forEachObserver(pe=>{pe.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,pe,Ve){let le;if(void 0===ce&&void 0===pe&&void 0===Ve)throw new Error("Missing Observer.");le=function rn(de,ce){if("object"!=typeof de||null===de)return!1;for(const pe of ce)if(pe in de&&"function"==typeof de[pe])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:pe,complete:Ve},void 0===le.next&&(le.next=nn),void 0===le.error&&(le.error=nn),void 0===le.complete&&(le.complete=nn);const Pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch{}}),this.observers.push(le),Pe}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let pe=0;pe<this.observers.length;pe++)this.sendOne(pe,ce)}sendOne(ce,pe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{pe(this.observers[ce])}catch(Ve){typeof console<"u"&&console.error&&console.error(Ve)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nn(){}const Fr=function(de,ce,pe,Ve){let le;if(Ve<ce?le="at least "+ce:Ve>pe&&(le=0===pe?"none":"no more than "+pe),le)throw new Error(de+" failed: Was called with "+Ve+(1===Ve?" argument.":" arguments.")+" Expects "+le+".")};function Cr(de,ce){return`${de} failed: ${ce} argument `}function An(de,ce,pe,Ve){if((!Ve||pe)&&"function"!=typeof pe)throw new Error(Cr(de,ce)+"must be a valid function.")}function Lr(de,ce,pe,Ve){if((!Ve||pe)&&("object"!=typeof pe||null===pe))throw new Error(Cr(de,ce)+"must be a valid context object.")}const ps=function(de){const ce=[];let pe=0;for(let Ve=0;Ve<de.length;Ve++){let le=de.charCodeAt(Ve);if(le>=55296&&le<=56319){const Pe=le-55296;Ve++,Q(Ve<de.length,"Surrogate pair missing trail surrogate."),le=65536+(Pe<<10)+(de.charCodeAt(Ve)-56320)}le<128?ce[pe++]=le:le<2048?(ce[pe++]=le>>6|192,ce[pe++]=63&le|128):le<65536?(ce[pe++]=le>>12|224,ce[pe++]=le>>6&63|128,ce[pe++]=63&le|128):(ce[pe++]=le>>18|240,ce[pe++]=le>>12&63|128,ce[pe++]=le>>6&63|128,ce[pe++]=63&le|128)}return ce},zt=function(de){let ce=0;for(let pe=0;pe<de.length;pe++){const Ve=de.charCodeAt(pe);Ve<128?ce++:Ve<2048?ce+=2:Ve>=55296&&Ve<=56319?(ce+=4,pe++):ce+=3}return ce};function Pt(de,ce=1e3,pe=2){const Ve=ce*Math.pow(pe,de),le=Math.round(.5*Ve*(Math.random()-.5)*2);return Math.min(144e5,Ve+le)}function Ur(de){return de&&de._delegate?de._delegate:de}},187:(Xe,be,x)=>{"use strict";var c=x(4650);let Q=null;function V(){return Q}const j=new c.OlP("DocumentToken");let Y=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function $(){return(0,c.LFG)(U)}()},providedIn:"platform"}),n})();const O=new c.OlP("Location Initialized");let U=(()=>{class n extends Y{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(e){const r=V().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=V().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){ee()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){ee()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(j))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ae(){return new U((0,c.LFG)(j))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Re(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function J(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function q(n){return n&&"?"!==n[0]?"?"+n:n}let ae=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function _e(){const n=(0,c.LFG)(j).location;return new Ge((0,c.LFG)(Y),n&&n.origin||"")}()},providedIn:"root"}),n})();const ke=new c.OlP("appBaseHref");let Ge=(()=>{class n extends ae{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Re(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+q(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,u){const h=this.prepareExternalUrl(o+q(u));this._platformLocation.pushState(e,r,h)}replaceState(e,r,o,u){const h=this.prepareExternalUrl(o+q(u));this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Y),c.LFG(ke,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),xe=(()=>{class n extends ae{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Re(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,u){let h=this.prepareExternalUrl(o+q(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,r,h)}replaceState(e,r,o,u){let h=this.prepareExternalUrl(o+q(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Y),c.LFG(ke,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),we=(()=>{class n{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=J(je(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+q(r))}normalize(e){return n.stripTrailingSlash(function Be(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,je(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+q(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+q(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return n.normalizeQueryParams=q,n.joinWithSlash=Re,n.stripTrailingSlash=J,n.\u0275fac=function(e){return new(e||n)(c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Se(){return new we((0,c.LFG)(ae))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}var ne=(()=>((ne=ne||{})[ne.Decimal=0]="Decimal",ne[ne.Percent=1]="Percent",ne[ne.Currency=2]="Currency",ne[ne.Scientific=3]="Scientific",ne))(),se=(()=>((se=se||{})[se.Format=0]="Format",se[se.Standalone=1]="Standalone",se))(),re=(()=>((re=re||{})[re.Narrow=0]="Narrow",re[re.Abbreviated=1]="Abbreviated",re[re.Wide=2]="Wide",re[re.Short=3]="Short",re))(),Ie=(()=>((Ie=Ie||{})[Ie.Short=0]="Short",Ie[Ie.Medium=1]="Medium",Ie[Ie.Long=2]="Long",Ie[Ie.Full=3]="Full",Ie))(),b=(()=>((b=b||{})[b.Decimal=0]="Decimal",b[b.Group=1]="Group",b[b.List=2]="List",b[b.PercentSign=3]="PercentSign",b[b.PlusSign=4]="PlusSign",b[b.MinusSign=5]="MinusSign",b[b.Exponential=6]="Exponential",b[b.SuperscriptingExponent=7]="SuperscriptingExponent",b[b.PerMille=8]="PerMille",b[b.Infinity=9]="Infinity",b[b.NaN=10]="NaN",b[b.TimeSeparator=11]="TimeSeparator",b[b.CurrencyDecimal=12]="CurrencyDecimal",b[b.CurrencyGroup=13]="CurrencyGroup",b))();function ze(n,t){return rn((0,c.cg1)(n)[c.wAp.DateFormat],t)}function S(n,t){return rn((0,c.cg1)(n)[c.wAp.TimeFormat],t)}function R(n,t){return rn((0,c.cg1)(n)[c.wAp.DateTimeFormat],t)}function B(n,t){const e=(0,c.cg1)(n),r=e[c.wAp.NumberSymbols][t];if(typeof r>"u"){if(t===b.CurrencyDecimal)return e[c.wAp.NumberSymbols][b.Decimal];if(t===b.CurrencyGroup)return e[c.wAp.NumberSymbols][b.Group]}return r}function Ht(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function nn(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const An=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Lr={},ps=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zt=(()=>((zt=zt||{})[zt.Short=0]="Short",zt[zt.ShortGMT=1]="ShortGMT",zt[zt.Long=2]="Long",zt[zt.Extended=3]="Extended",zt))(),nt=(()=>((nt=nt||{})[nt.FullYear=0]="FullYear",nt[nt.Month=1]="Month",nt[nt.Date=2]="Date",nt[nt.Hours=3]="Hours",nt[nt.Minutes=4]="Minutes",nt[nt.Seconds=5]="Seconds",nt[nt.FractionalSeconds=6]="FractionalSeconds",nt[nt.Day=7]="Day",nt))(),Tt=(()=>((Tt=Tt||{})[Tt.DayPeriods=0]="DayPeriods",Tt[Tt.Days=1]="Days",Tt[Tt.Months=2]="Months",Tt[Tt.Eras=3]="Eras",Tt))();function dr(n,t,e,r){let o=function Jn(n){if(hr(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[o,u=1,h=1]=n.split("-").map(m=>+m);return Hn(o,u-1,h)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(An))return function nr(n){const t=new Date(0);let e=0,r=0;const o=n[8]?t.setUTCFullYear:t.setFullYear,u=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),o.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const h=Number(n[4]||0)-e,m=Number(n[5]||0)-r,E=Number(n[6]||0),D=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(t,h,m,E,D),t}(r)}const t=new Date(n);if(!hr(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Pt(e,t)||t;let m,h=[];for(;t;){if(m=ps.exec(t),!m){h.push(t);break}{h=h.concat(m.slice(1));const k=h.pop();if(!k)break;t=k}}let E=o.getTimezoneOffset();r&&(E=Ir(r,E),o=function Wn(n,t,e){const r=e?-1:1,o=n.getTimezoneOffset();return function Yt(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,r*(Ir(t,o)-o))}(o,r,!0));let D="";return h.forEach(k=>{const N=function Gn(n){if(St[n])return St[n];let t;switch(n){case"G":case"GG":case"GGG":t=pe(Tt.Eras,re.Abbreviated);break;case"GGGG":t=pe(Tt.Eras,re.Wide);break;case"GGGGG":t=pe(Tt.Eras,re.Narrow);break;case"y":t=de(nt.FullYear,1,0,!1,!0);break;case"yy":t=de(nt.FullYear,2,0,!0,!0);break;case"yyy":t=de(nt.FullYear,3,0,!1,!0);break;case"yyyy":t=de(nt.FullYear,4,0,!1,!0);break;case"Y":t=pn(1);break;case"YY":t=pn(2,!0);break;case"YYY":t=pn(3);break;case"YYYY":t=pn(4);break;case"M":case"L":t=de(nt.Month,1,1);break;case"MM":case"LL":t=de(nt.Month,2,1);break;case"MMM":t=pe(Tt.Months,re.Abbreviated);break;case"MMMM":t=pe(Tt.Months,re.Wide);break;case"MMMMM":t=pe(Tt.Months,re.Narrow);break;case"LLL":t=pe(Tt.Months,re.Abbreviated,se.Standalone);break;case"LLLL":t=pe(Tt.Months,re.Wide,se.Standalone);break;case"LLLLL":t=pe(Tt.Months,re.Narrow,se.Standalone);break;case"w":t=Ct(1);break;case"ww":t=Ct(2);break;case"W":t=Ct(1,!0);break;case"d":t=de(nt.Date,1);break;case"dd":t=de(nt.Date,2);break;case"c":case"cc":t=de(nt.Day,1);break;case"ccc":t=pe(Tt.Days,re.Abbreviated,se.Standalone);break;case"cccc":t=pe(Tt.Days,re.Wide,se.Standalone);break;case"ccccc":t=pe(Tt.Days,re.Narrow,se.Standalone);break;case"cccccc":t=pe(Tt.Days,re.Short,se.Standalone);break;case"E":case"EE":case"EEE":t=pe(Tt.Days,re.Abbreviated);break;case"EEEE":t=pe(Tt.Days,re.Wide);break;case"EEEEE":t=pe(Tt.Days,re.Narrow);break;case"EEEEEE":t=pe(Tt.Days,re.Short);break;case"a":case"aa":case"aaa":t=pe(Tt.DayPeriods,re.Abbreviated);break;case"aaaa":t=pe(Tt.DayPeriods,re.Wide);break;case"aaaaa":t=pe(Tt.DayPeriods,re.Narrow);break;case"b":case"bb":case"bbb":t=pe(Tt.DayPeriods,re.Abbreviated,se.Standalone,!0);break;case"bbbb":t=pe(Tt.DayPeriods,re.Wide,se.Standalone,!0);break;case"bbbbb":t=pe(Tt.DayPeriods,re.Narrow,se.Standalone,!0);break;case"B":case"BB":case"BBB":t=pe(Tt.DayPeriods,re.Abbreviated,se.Format,!0);break;case"BBBB":t=pe(Tt.DayPeriods,re.Wide,se.Format,!0);break;case"BBBBB":t=pe(Tt.DayPeriods,re.Narrow,se.Format,!0);break;case"h":t=de(nt.Hours,1,-12);break;case"hh":t=de(nt.Hours,2,-12);break;case"H":t=de(nt.Hours,1);break;case"HH":t=de(nt.Hours,2);break;case"m":t=de(nt.Minutes,1);break;case"mm":t=de(nt.Minutes,2);break;case"s":t=de(nt.Seconds,1);break;case"ss":t=de(nt.Seconds,2);break;case"S":t=de(nt.FractionalSeconds,1);break;case"SS":t=de(nt.FractionalSeconds,2);break;case"SSS":t=de(nt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=le(zt.Short);break;case"ZZZZZ":t=le(zt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=le(zt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=le(zt.Long);break;default:return null}return St[n]=t,t}(k);D+=N?N(o,e,E):"''"===k?"'":k.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),D}function Hn(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Pt(n,t){const e=function X(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(Lr[e]=Lr[e]||{},Lr[e][t])return Lr[e][t];let r="";switch(t){case"shortDate":r=ze(n,Ie.Short);break;case"mediumDate":r=ze(n,Ie.Medium);break;case"longDate":r=ze(n,Ie.Long);break;case"fullDate":r=ze(n,Ie.Full);break;case"shortTime":r=S(n,Ie.Short);break;case"mediumTime":r=S(n,Ie.Medium);break;case"longTime":r=S(n,Ie.Long);break;case"fullTime":r=S(n,Ie.Full);break;case"short":const o=Pt(n,"shortTime"),u=Pt(n,"shortDate");r=Qr(R(n,Ie.Short),[o,u]);break;case"medium":const h=Pt(n,"mediumTime"),m=Pt(n,"mediumDate");r=Qr(R(n,Ie.Medium),[h,m]);break;case"long":const E=Pt(n,"longTime"),D=Pt(n,"longDate");r=Qr(R(n,Ie.Long),[E,D]);break;case"full":const k=Pt(n,"fullTime"),N=Pt(n,"fullDate");r=Qr(R(n,Ie.Full),[k,N])}return r&&(Lr[e][t]=r),r}function Qr(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function $n(n,t,e="-",r,o){let u="";(n<0||o&&n<=0)&&(o?n=1-n:(n=-n,u=e));let h=String(n);for(;h.length<t;)h="0"+h;return r&&(h=h.slice(h.length-t)),u+h}function de(n,t,e=0,r=!1,o=!1){return function(u,h){let m=function ce(n,t){switch(n){case nt.FullYear:return t.getFullYear();case nt.Month:return t.getMonth();case nt.Date:return t.getDate();case nt.Hours:return t.getHours();case nt.Minutes:return t.getMinutes();case nt.Seconds:return t.getSeconds();case nt.FractionalSeconds:return t.getMilliseconds();case nt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((e>0||m>-e)&&(m+=e),n===nt.Hours)0===m&&-12===e&&(m=12);else if(n===nt.FractionalSeconds)return function Ur(n,t){return $n(n,3).substring(0,t)}(m,t);const E=B(h,b.MinusSign);return $n(m,t,E,r,o)}}function pe(n,t,e=se.Format,r=!1){return function(o,u){return function Ve(n,t,e,r,o,u){switch(e){case Tt.Months:return function De(n,t,e){const r=(0,c.cg1)(n),u=rn([r[c.wAp.MonthsFormat],r[c.wAp.MonthsStandalone]],t);return rn(u,e)}(t,o,r)[n.getMonth()];case Tt.Days:return function Me(n,t,e){const r=(0,c.cg1)(n),u=rn([r[c.wAp.DaysFormat],r[c.wAp.DaysStandalone]],t);return rn(u,e)}(t,o,r)[n.getDay()];case Tt.DayPeriods:const h=n.getHours(),m=n.getMinutes();if(u){const D=function Rt(n){const t=(0,c.cg1)(n);return Ht(t),(t[c.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?nn(r):[nn(r[0]),nn(r[1])])}(t),k=function ut(n,t,e){const r=(0,c.cg1)(n);Ht(r);const u=rn([r[c.wAp.ExtraData][0],r[c.wAp.ExtraData][1]],t)||[];return rn(u,e)||[]}(t,o,r),N=D.findIndex(oe=>{if(Array.isArray(oe)){const[ve,Oe]=oe,$e=h>=ve.hours&&m>=ve.minutes,et=h<Oe.hours||h===Oe.hours&&m<Oe.minutes;if(ve.hours<Oe.hours){if($e&&et)return!0}else if($e||et)return!0}else if(oe.hours===h&&oe.minutes===m)return!0;return!1});if(-1!==N)return k[N]}return function ye(n,t,e){const r=(0,c.cg1)(n),u=rn([r[c.wAp.DayPeriodsFormat],r[c.wAp.DayPeriodsStandalone]],t);return rn(u,e)}(t,o,r)[h<12?0:1];case Tt.Eras:return function Le(n,t){return rn((0,c.cg1)(n)[c.wAp.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(o,u,n,t,e,r)}}function le(n){return function(t,e,r){const o=-1*r,u=B(e,b.MinusSign),h=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case zt.Short:return(o>=0?"+":"")+$n(h,2,u)+$n(Math.abs(o%60),2,u);case zt.ShortGMT:return"GMT"+(o>=0?"+":"")+$n(h,1,u);case zt.Long:return"GMT"+(o>=0?"+":"")+$n(h,2,u)+":"+$n(Math.abs(o%60),2,u);case zt.Extended:return 0===r?"Z":(o>=0?"+":"")+$n(h,2,u)+":"+$n(Math.abs(o%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function Et(n){return Hn(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Ct(n,t=!1){return function(e,r){let o;if(t){const u=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,h=e.getDate();o=1+Math.floor((h+u)/7)}else{const u=Et(e),h=function ot(n){const t=Hn(n,0,1).getDay();return Hn(n,0,1+(t<=4?4:11)-t)}(u.getFullYear()),m=u.getTime()-h.getTime();o=1+Math.round(m/6048e5)}return $n(o,n,B(r,b.MinusSign))}}function pn(n,t=!1){return function(e,r){return $n(Et(e).getFullYear(),n,B(r,b.MinusSign),t)}}const St={};function Ir(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function hr(n){return n instanceof Date&&!isNaN(n.valueOf())}const rt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function vi(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}class ms{constructor(t,e,r,o){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Js=(()=>{class n{constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,u,h)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new ms(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,h),Xr(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{Xr(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Xr(n,t){n.context.$implicit=t.item}let _s=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new ir,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){pr("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){pr("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ir{constructor(){this.$implicit=null,this.ngIf=null}}function pr(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}function zn(n,t){return new c.vHH(2100,"")}let qa=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw zn();return e.toUpperCase()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=c.Yjl({name:"uppercase",type:n,pure:!0}),n})();const zf=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ud=(()=>{class n{constructor(e,r){this.locale=e,this.defaultTimezone=r}transform(e,r="mediumDate",o,u){if(null==e||""===e||e!=e)return null;try{return dr(e,r,u||this.locale,o??this.defaultTimezone??void 0)}catch(h){throw zn()}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.soG,16),c.Y36(zf,24))},n.\u0275pipe=c.Yjl({name:"date",type:n,pure:!0}),n})(),Dr=(()=>{class n{constructor(e){this._locale=e}transform(e,r,o){if(!function ia(n){return!(null==n||""===n||n!=n)}(e))return null;o=o||this._locale;try{return function gn(n,t,e){return function Jr(n,t,e,r,o,u,h=!1){let m="",E=!1;if(isFinite(n)){let D=function kn(n){let r,o,u,h,m,t=Math.abs(n)+"",e=0;for((o=t.indexOf("."))>-1&&(t=t.replace(".","")),(u=t.search(/e/i))>0?(o<0&&(o=u),o+=+t.slice(u+1),t=t.substring(0,u)):o<0&&(o=t.length),u=0;"0"===t.charAt(u);u++);if(u===(m=t.length))r=[0],o=1;else{for(m--;"0"===t.charAt(m);)m--;for(o-=u,r=[],h=0;u<=m;u++,h++)r[h]=Number(t.charAt(u))}return o>22&&(r=r.splice(0,21),e=o-1,o=1),{digits:r,exponent:e,integerLen:o}}(n);h&&(D=function gs(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(D));let k=t.minInt,N=t.minFrac,oe=t.maxFrac;if(u){const vt=u.match(rt);if(null===vt)throw new Error(`${u} is not a valid digit info`);const Nt=vt[1],pt=vt[3],Nn=vt[5];null!=Nt&&(k=vi(Nt)),null!=pt&&(N=vi(pt)),null!=Nn?oe=vi(Nn):null!=pt&&N>oe&&(oe=N)}!function Ys(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let r=n.digits,o=r.length-n.integerLen;const u=Math.min(Math.max(t,o),e);let h=u+n.integerLen,m=r[h];if(h>0){r.splice(Math.max(n.integerLen,h));for(let N=h;N<r.length;N++)r[N]=0}else{o=Math.max(0,o),n.integerLen=1,r.length=Math.max(1,h=u+1),r[0]=0;for(let N=1;N<h;N++)r[N]=0}if(m>=5)if(h-1<0){for(let N=0;N>h;N--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[h-1]++;for(;o<Math.max(0,u);o++)r.push(0);let E=0!==u;const D=t+n.integerLen,k=r.reduceRight(function(N,oe,ve,Oe){return Oe[ve]=(oe+=N)<10?oe:oe-10,E&&(0===Oe[ve]&&ve>=D?Oe.pop():E=!1),oe>=10?1:0},0);k&&(r.unshift(k),n.integerLen++)}(D,N,oe);let ve=D.digits,Oe=D.integerLen;const $e=D.exponent;let et=[];for(E=ve.every(vt=>!vt);Oe<k;Oe++)ve.unshift(0);for(;Oe<0;Oe++)ve.unshift(0);Oe>0?et=ve.splice(Oe,ve.length):(et=ve,ve=[0]);const _t=[];for(ve.length>=t.lgSize&&_t.unshift(ve.splice(-t.lgSize,ve.length).join(""));ve.length>t.gSize;)_t.unshift(ve.splice(-t.gSize,ve.length).join(""));ve.length&&_t.unshift(ve.join("")),m=_t.join(B(e,r)),et.length&&(m+=B(e,o)+et.join("")),$e&&(m+=B(e,b.Exponential)+"+"+$e)}else m=B(e,b.Infinity);return m=n<0&&!E?t.negPre+m+t.negSuf:t.posPre+m+t.posSuf,m}(n,function Ks(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),o=r[0],u=r[1],h=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],m=h[0],E=h[1]||"";e.posPre=m.substring(0,m.indexOf("#"));for(let k=0;k<E.length;k++){const N=E.charAt(k);"0"===N?e.minFrac=e.maxFrac=k+1:"#"===N?e.maxFrac=k+1:e.posSuf+=N}const D=m.split(",");if(e.gSize=D[1]?D[1].length:0,e.lgSize=D[2]||D[1]?(D[2]||D[1]).length:0,u){const k=o.length-e.posPre.length-e.posSuf.length,N=u.indexOf("#");e.negPre=u.substring(0,N).replace(/'/g,""),e.negSuf=u.slice(N+k).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function ge(n,t){return(0,c.cg1)(n)[c.wAp.NumberFormats][t]}(t,ne.Decimal),B(t,b.MinusSign)),t,b.Group,b.Decimal,e)}(function sa(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),o,r)}catch(u){throw zn()}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.soG,16))},n.\u0275pipe=c.Yjl({name:"number",type:n,pure:!0}),n})();let Ki=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();let to=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Bd((0,c.LFG)(j),window)}),n})();class Bd{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function tl(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const h=u.getElementById(t)||u.querySelector(`[name="${t}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Jt(this.window.history)||Jt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Jt(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class vs extends class oa extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ie(n){Q||(Q=n)}(new vs)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Sr(){return Br=Br||document.querySelector("base"),Br?Br.getAttribute("href"):null}();return null==e?null:function no(n){Yi=Yi||document.createElement("a"),Yi.setAttribute("href",n);const t=Yi.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Br=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function wc(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[o,u]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(u)}return null}(document.cookie,t)}}let Yi,Br=null;const bi=new c.OlP("TRANSITION_ID"),rl=[{provide:c.ip1,useFactory:function Zt(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const r=V(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[bi,j,c.zs3],multi:!0}];let ru=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const gr=new c.OlP("EventManagerPlugins");let Qi=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const h=o[u];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(gr),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class io{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const o=V().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let wt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ji=(()=>{class n extends wt{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(u=>{const h=this._doc.createElement("style");h.textContent=u,o.push(r.appendChild(h))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(aa),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(aa))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(j))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function aa(n){V().remove(n)}const Es={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},la=/%COMP%/g;function Xi(n,t,e){for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?Xi(n,o,e):(o=o.replace(la,n),e.push(o))}return e}function so(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ws=(()=>{class n{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ci(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Zf(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case c.ifc.ShadowDom:return new su(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=Xi(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Qi),c.LFG(Ji),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Ci{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Es[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(sl(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(sl(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;const u=Es[o];u?t.setAttributeNS(u,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const o=Es[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,r,o&c.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,so(r)):this.eventManager.addEventListener(t,e,so(r))}}function sl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Zf extends Ci{constructor(t,e,r,o){super(t),this.component=r;const u=Xi(o+"-"+r.id,r.styles,[]);e.addStyles(u),this.contentAttr=function He(n){return"_ngcontent-%COMP%".replace(la,n)}(o+"-"+r.id),this.hostAttr=function $t(n){return"_nghost-%COMP%".replace(la,n)}(o+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class su extends Ci{constructor(t,e,r,o){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Xi(o.id,o.styles,[]);for(let h=0;h<u.length;h++){const m=document.createElement("style");m.textContent=u[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let jd=(()=>{class n extends io{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(j))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const da=["alt","control","meta","shift"],Ii={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ao={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},es={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ti=(()=>{class n extends io{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,o){const u=n.parseEventName(r),h=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>V().onAndCancel(e,u.domEventName,h))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let h="";if(da.forEach(E=>{const D=r.indexOf(E);D>-1&&(r.splice(D,1),h+=E+".")}),h+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=o,m.fullKey=h,m}static getEventFullKey(e){let r="",o=function ou(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&ao.hasOwnProperty(t)&&(t=ao[t]))}return Ii[t]||t}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),da.forEach(u=>{u!=o&&es[u](e)&&(r+=u+".")}),r+=o,r}static eventCallback(e,r,o){return u=>{n.getEventFullKey(u)===e&&o.runGuarded(()=>r(u))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(j))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Hd=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function ha(){vs.makeCurrent()},multi:!0},{provide:j,useFactory:function ol(){return(0,c.RDi)(document),document},deps:[]}]),pa=new c.OlP(""),bs=[{provide:c.rWj,useClass:class ro{addToWindow(t){c.dqk.getAngularTestability=(r,o=!0)=>{const u=t.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const o=c.dqk.getAllAngularTestabilities();let u=o.length,h=!1;const m=function(E){h=h||E,u--,0==u&&r(h)};o.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?V().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],co=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function fa(){return new c.qLn},deps:[]},{provide:gr,useClass:jd,multi:!0,deps:[j,c.R0b,c.Lbi]},{provide:gr,useClass:ti,multi:!0,deps:[j]},{provide:ws,useClass:ws,deps:[Qi,Ji,c.AFp]},{provide:c.FYo,useExisting:ws},{provide:wt,useExisting:Ji},{provide:Ji,useClass:Ji,deps:[j]},{provide:Qi,useClass:Qi,deps:[gr,c.R0b]},{provide:class _n{},useClass:ru,deps:[]},[]];let al=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:bi,useExisting:c.AFp},rl]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(pa,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...co,...bs],imports:[Ki,c.hGG]}),n})(),Ac=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(j))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function uu(){return new Ac((0,c.LFG)(j))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let po=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){let r=null;return r=e?new(e||n):c.LFG(jr),r},providedIn:"root"}),n})(),jr=(()=>{class n extends po{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case c.q3G.NONE:return r;case c.q3G.HTML:return(0,c.qzn)(r,"HTML")?(0,c.z3N)(r):(0,c.EiD)(this._doc,String(r)).toString();case c.q3G.STYLE:return(0,c.qzn)(r,"Style")?(0,c.z3N)(r):r;case c.q3G.SCRIPT:if((0,c.qzn)(r,"Script"))return(0,c.z3N)(r);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(r),(0,c.qzn)(r,"URL")?(0,c.z3N)(r):(0,c.mCW)(String(r));case c.q3G.RESOURCE_URL:if((0,c.qzn)(r,"ResourceURL"))return(0,c.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,c.JVY)(e)}bypassSecurityTrustStyle(e){return(0,c.L6k)(e)}bypassSecurityTrustScript(e){return(0,c.eBb)(e)}bypassSecurityTrustUrl(e){return(0,c.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,c.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(j))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function Pc(n){return new jr(n.get(j))}(c.LFG(c.zs3)),r},providedIn:"root"}),n})();var dn=x(8996),Vn=x(9751);const{isArray:hu}=Array,{getPrototypeOf:hn,prototype:ya,keys:Is}=Object;function fu(n){if(1===n.length){const t=n[0];if(hu(t))return{args:t,keys:null};if(function hl(n){return n&&"object"==typeof n&&hn(n)===ya}(t)){const e=Is(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var go=x(8421),Ds=x(7669),on=x(5403),Ut=x(4004);const{isArray:rs}=Array;function is(n){return(0,Ut.U)(t=>function mo(n,t){return rs(t)?n(...t):n(t)}(n,t))}function sr(n,t){return n.reduce((e,r,o)=>(e[r]=t[o],e),{})}let Ea=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Hr=(()=>{class n extends Ea{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const _r=new c.OlP("NgValueAccessor"),fl={provide:_r,useExisting:(0,c.Gpc)(()=>ba),multi:!0},wa=new c.OlP("CompositionEventMode");let ba=(()=>{class n extends Ea{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function gu(){const n=V()?V().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(wa,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([fl]),c.qOj]}),n})();const In=new c.OlP("NgValidators"),di=new c.OlP("NgAsyncValidators");function ml(n){return function yr(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function hi(n){return null}function Yf(n){return null!=n}function Wd(n){const t=(0,c.QGY)(n)?(0,dn.D)(n):n;return(0,c.CqO)(t),t}function an(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function xc(n,t){return t.map(e=>e(n))}function yu(n){return n.map(t=>function zd(n){return!n.validate}(t)?t:e=>t.validate(e))}function Nc(n){return null!=n?function qd(n){if(!n)return null;const t=n.filter(Yf);return 0==t.length?null:function(e){return an(xc(e,t))}}(yu(n)):null}function _l(n){return null!=n?function Zd(n){if(!n)return null;const t=n.filter(Yf);return 0==t.length?null:function(e){return function va(...n){const t=(0,Ds.jO)(n),{args:e,keys:r}=fu(n),o=new Vn.y(u=>{const{length:h}=e;if(!h)return void u.complete();const m=new Array(h);let E=h,D=h;for(let k=0;k<h;k++){let N=!1;(0,go.Xf)(e[k]).subscribe((0,on.x)(u,oe=>{N||(N=!0,D--),m[k]=oe},()=>E--,void 0,()=>{(!E||!N)&&(D||u.next(r?sr(r,m):m),u.complete())}))}});return t?o.pipe(is(t)):o}(xc(e,t).map(Wd)).pipe((0,Ut.U)(an))}}(yu(n)):null}function vo(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function yn(n){return n?Array.isArray(n)?n:[n]:[]}function Eo(n,t){return Array.isArray(n)?n.includes(t):n===t}function Mi(n,t){const e=yn(t);return yn(n).forEach(o=>{Eo(e,o)||e.push(o)}),e}function yl(n,t){return yn(t).filter(e=>!Eo(n,e))}class vl{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Nc(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=_l(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class en extends vl{get formDirective(){return null}get path(){return null}}class Pn extends vl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ri{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ss=(()=>{class n extends Ri{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Pn,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),wo=(()=>{class n extends Ri{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(en,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();const I="VALID",T="INVALID",F="PENDING",te="DISABLED";function Ce(n){return(yt(n)?n.validators:n)||null}function Ne(n){return Array.isArray(n)?Nc(n):n||null}function qe(n,t){return(yt(t)?t.asyncValidators:n)||null}function st(n){return Array.isArray(n)?_l(n):n||null}function yt(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class xt{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Ne(this._rawValidators),this._composedAsyncValidatorFn=st(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===I}get invalid(){return this.status===T}get pending(){return this.status==F}get disabled(){return this.status===te}get enabled(){return this.status!==te}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Ne(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=st(t)}addValidators(t){this.setValidators(Mi(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Mi(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(yl(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(yl(t,this._rawAsyncValidators))}hasValidator(t){return Eo(this._rawValidators,t)}hasAsyncValidator(t){return Eo(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=F,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=te,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=I,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===I||this.status===F)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?te:I}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=F,this._hasOwnPendingAsyncValidator=!0;const e=Wd(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?te:this.errors?T:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(F)?F:this._anyControlsHaveStatus(T)?T:I}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){yt(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class or extends xt{constructor(t,e,r){super(Ce(e),qe(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function gt(n,t,e){n._forEachChild((r,o)=>{if(void 0===e[o])throw new c.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function It(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((o,u)=>{r=e(r,o,u)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function lr(n,t){Uc(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function Il(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Jd(n,t)})}(n,t),function mm(n,t){const e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Dl(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Jd(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Cl(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function bl(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Uc(n,t){const e=function vu(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(vo(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=function Qf(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(vo(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();bl(t._rawValidators,o),bl(t._rawAsyncValidators,o)}function Jd(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const np={provide:en,useExisting:(0,c.Gpc)(()=>Ta)},bu=(()=>Promise.resolve(null))();let Ta=(()=>{class n extends en{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new or({},Nc(e),_l(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){bu.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),lr(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){bu.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){bu.then(()=>{const r=this._findContainer(e.path),o=new or({});(function Xf(n,t){Uc(n,t)})(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){bu.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){bu.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function tp(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(In,10),c.Y36(di,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([np]),c.qOj]}),n})();function th(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function nh(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Em=class extends xt{constructor(t=null,e,r){super(Ce(e),qe(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yt(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=nh(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){th(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){th(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){nh(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},rp={provide:Pn,useExisting:(0,c.Gpc)(()=>Ni)},Iu=(()=>Promise.resolve(null))();let Ni=(()=>{class n extends Pn{constructor(e,r,o,u,h){super(),this._changeDetectorRef=h,this.control=new Em,this._registered=!1,this.update=new c.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Xd(n,t){if(!t)return null;let e,r,o;return Array.isArray(t),t.forEach(u=>{u.constructor===ba?e=u:function o0(n){return Object.getPrototypeOf(n.constructor)===Hr}(u)?r=u:o=u}),o||r||e||null}(0,u)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function Tl(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){lr(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Iu.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,o=0!==r&&(0,c.D6c)(r);Iu.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function ri(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(en,9),c.Y36(In,10),c.Y36(di,10),c.Y36(_r,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([rp]),c.qOj,c.TTD]}),n})(),Du=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ki=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),Fi=(()=>{class n{constructor(){this._validator=hi}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):hi,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const cp={provide:In,useExisting:(0,c.Gpc)(()=>Ma),multi:!0};let Ma=(()=>{class n extends Fi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=e=>ml}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([cp]),c.qOj]}),n})(),u0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ki]}),n})(),pp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[u0]}),n})();class As{}const Ms="*";function yh(n,t){return{type:7,name:n,definitions:t,options:{}}}function vp(n,t=null){return{type:4,styles:t,timings:n}}function Rr(n,t=null){return{type:2,steps:n,options:t}}function Mo(n){return{type:6,styles:n,offset:null}}function Pu(n,t,e){return{type:0,name:n,styles:t,options:e}}function wn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Zc(n){Promise.resolve(null).then(n)}class Ou{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Zc(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class wp{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,o=0;const u=this.players.length;0==u?Zc(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++e==u&&this._onFinish()}),h.onDestroy(()=>{++r==u&&this._onDestroy()}),h.onStart(()=>{++o==u&&this._onStart()})}),this.totalTime=this.players.reduce((h,m)=>Math.max(h,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(o)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const _=!1;function g(n){return new c.vHH(3e3,_)}function uC(){return typeof window<"u"&&typeof window.document<"u"}function Dp(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ro(n){switch(n.length){case 0:return new Ou;case 1:return n[0];default:return new wp(n)}}function Vm(n,t,e,r,o=new Map,u=new Map){const h=[],m=[];let E=-1,D=null;if(r.forEach(k=>{const N=k.get("offset"),oe=N==E,ve=oe&&D||new Map;k.forEach((Oe,$e)=>{let et=$e,_t=Oe;if("offset"!==$e)switch(et=t.normalizePropertyName(et,h),_t){case"!":_t=o.get($e);break;case Ms:_t=u.get($e);break;default:_t=t.normalizeStyleValue($e,et,_t,h)}ve.set(et,_t)}),oe||m.push(ve),D=ve,E=N}),h.length)throw function Ih(n){return new c.vHH(3502,_)}();return m}function Dh(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&Bm(e,"start",n)));break;case"done":n.onDone(()=>r(e&&Bm(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&Bm(e,"destroy",n)))}}function Bm(n,t,e){const u=jm(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),h=n._data;return null!=h&&(u._data=h),u}function jm(n,t,e,r,o="",u=0,h){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:o,totalTime:u,disabled:!!h}}function fi(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function Hm(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let Pa=(n,t)=>!1,$m=(n,t,e)=>[],Gm=null;function Wm(n){const t=n.parentNode||n.host;return t===Gm?null:t}(Dp()||typeof Element<"u")&&(uC()?(Gm=(()=>document.documentElement)(),Pa=(n,t)=>{for(;t;){if(t===n)return!0;t=Wm(t)}return!1}):Pa=(n,t)=>n.contains(t),$m=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let ku=null,zm=!1;const Zm=Pa,Th=$m;let Ym=(()=>{class n{validateStyleProperty(e){return function g0(n){ku||(ku=function qm(){return typeof document<"u"?document.body:null}()||{},zm=!!ku.style&&"WebkitAppearance"in ku.style);let t=!0;return ku.style&&!function Tp(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in ku.style,!t&&zm&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ku.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return Zm(e,r)}getParentElement(e){return Wm(e)}query(e,r,o){return Th(e,r,o)}computeStyle(e,r,o){return o||""}animate(e,r,o,u,h,m=[],E){return new Ou(o,u)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Sh=(()=>{class n{}return n.NOOP=new Ym,n})();const Qm="ng-enter",Mh="ng-leave",Ap="ng-trigger",Mp=".ng-trigger",Jm="ng-animating",Rh=".ng-animating";function Oa(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:_0(parseFloat(t[1]),t[2])}function _0(n,t){return"s"===t?1e3*n:n}function Ph(n,t,e){return n.hasOwnProperty("duration")?n:function hC(n,t,e){let o,u=0,h="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return t.push(g()),{duration:0,delay:0,easing:""};o=_0(parseFloat(m[1]),m[2]);const E=m[3];null!=E&&(u=_0(parseFloat(E),m[4]));const D=m[5];D&&(h=D)}else o=n;if(!e){let m=!1,E=t.length;o<0&&(t.push(function v(){return new c.vHH(3100,_)}()),m=!0),u<0&&(t.push(function M(){return new c.vHH(3101,_)}()),m=!0),m&&t.splice(E,0,g())}return{duration:o,delay:u,easing:h}}(n,t,e)}function Jc(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function y0(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Pl(n,t=new Map,e){if(e)for(let[r,o]of e)t.set(r,o);for(let[r,o]of n)t.set(r,o);return t}function Xm(n,t,e){return e?t+":"+e+";":""}function v0(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=Xm(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Xm(0,C0(e),n.style[e]));n.setAttribute("style",t)}function Po(n,t,e){n.style&&(t.forEach((r,o)=>{const u=Pp(o);e&&!e.has(o)&&e.set(o,n.style[u]),n.style[u]=r}),Dp()&&v0(n))}function Fu(n,t){n.style&&(t.forEach((e,r)=>{const o=Pp(r);n.style[o]=""}),Dp()&&v0(n))}function Oh(n){return Array.isArray(n)?1==n.length?n[0]:Rr(n):n}const e_=new RegExp("{{\\s*(.+?)\\s*}}","g");function w0(n){let t=[];if("string"==typeof n){let e;for(;e=e_.exec(n);)t.push(e[1]);e_.lastIndex=0}return t}function Rp(n,t,e){const r=n.toString(),o=r.replace(e_,(u,h)=>{let m=t[h];return null==m&&(e.push(function me(n){return new c.vHH(3003,_)}()),m=""),m.toString()});return o==r?n:o}function kt(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const b0=/-+([a-z0-9])/g;function Pp(n){return n.replace(b0,(...t)=>t[1].toUpperCase())}function C0(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function pi(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Fe(n){return new c.vHH(3004,_)}()}}function I0(n,t){return window.getComputedStyle(n)[t]}function t_(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function rS(n,t,e){if(":"==n[0]){const E=function vC(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function Ra(n){return new c.vHH(3016,_)}()),"* => *"}}(n,e);if("function"==typeof E)return void t.push(E);n=E}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function bh(n){return new c.vHH(3015,_)}()),t;const o=r[1],u=r[2],h=r[3];t.push(n_(o,h));"<"==u[0]&&!("*"==o&&"*"==h)&&t.push(n_(h,o))}(r,e,t)):e.push(n),e}const Xc=new Set(["true","1"]),kh=new Set(["false","0"]);function n_(n,t){const e=Xc.has(n)||kh.has(n),r=Xc.has(t)||kh.has(t);return(o,u)=>{let h="*"==n||n==o,m="*"==t||t==u;return!h&&e&&"boolean"==typeof o&&(h=o?Xc.has(n):kh.has(n)),!m&&r&&"boolean"==typeof u&&(m=u?Xc.has(t):kh.has(t)),h&&m}}const EC=new RegExp("s*:selfs*,?","g");function Fh(n,t,e,r){return new i_(n).build(t,e,r)}class i_{constructor(t){this._driver=t}build(t,e,r){const o=new s_(e);return this._resetContextStyleTimingState(o),pi(this,Oh(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,o=e.depCount=0;const u=[],h=[];return"@"==t.name.charAt(0)&&e.errors.push(function at(){return new c.vHH(3006,_)}()),t.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const E=m,D=E.name;D.toString().split(/\s*,\s*/).forEach(k=>{E.name=k,u.push(this.visitState(E,e))}),E.name=D}else if(1==m.type){const E=this.visitTransition(m,e);r+=E.queryCount,o+=E.depCount,h.push(E)}else e.errors.push(function ft(){return new c.vHH(3007,_)}())}),{type:7,name:t.name,states:u,transitions:h,queryCount:r,depCount:o,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(r.containsDynamicStyles){const u=new Set,h=o||{};r.styles.forEach(m=>{m instanceof Map&&m.forEach(E=>{w0(E).forEach(D=>{h.hasOwnProperty(D)||u.add(D)})})}),u.size&&(kt(u.values()),e.errors.push(function ct(n,t){return new c.vHH(3008,_)}()))}return{type:0,name:t.name,style:r,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=pi(this,Oh(t.animation),e);return{type:1,matchers:t_(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:xl(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>pi(this,r,e)),options:xl(t.options)}}visitGroup(t,e){const r=e.currentTime;let o=0;const u=t.steps.map(h=>{e.currentTime=r;const m=pi(this,h,e);return o=Math.max(o,e.currentTime),m});return e.currentTime=o,{type:3,steps:u,options:xl(t.options)}}visitAnimate(t,e){const r=function ed(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Lh(Ph(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=Lh(0,0,"");return u.dynamic=!0,u.strValue=e,u}const o=Ph(e,t);return Lh(o.duration,o.delay,o.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let o,u=t.styles?t.styles:Mo({});if(5==u.type)o=this.visitKeyframes(u,e);else{let h=t.styles,m=!1;if(!h){m=!0;const D={};r.easing&&(D.easing=r.easing),h=Mo(D)}e.currentTime+=r.duration+r.delay;const E=this.visitStyle(h,e);E.isEmptyStep=m,o=E}return e.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],o=Array.isArray(t.styles)?t.styles:[t.styles];for(let m of o)"string"==typeof m?m===Ms?r.push(m):e.errors.push(new c.vHH(3002,_)):r.push(y0(m));let u=!1,h=null;return r.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(h=m.get("easing"),m.delete("easing")),!u))for(let E of m.values())if(E.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:h,offset:t.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let o=e.currentTime,u=e.currentTime;r&&u>0&&(u-=r.duration+r.delay),t.styles.forEach(h=>{"string"!=typeof h&&h.forEach((m,E)=>{const D=e.collectedStyles.get(e.currentQuerySelector),k=D.get(E);let N=!0;k&&(u!=o&&u>=k.startTime&&o<=k.endTime&&(e.errors.push(function Eh(n,t,e,r,o){return new c.vHH(3010,_)}()),N=!1),u=k.startTime),N&&D.set(E,{startTime:u,endTime:o}),e.options&&function E0(n,t,e){const r=t.params||{},o=w0(n);o.length&&o.forEach(u=>{r.hasOwnProperty(u)||e.push(function H(n){return new c.vHH(3001,_)}())})}(m,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function wh(){return new c.vHH(3011,_)}()),r;let u=0;const h=[];let m=!1,E=!1,D=0;const k=t.steps.map(_t=>{const vt=this._makeStyleAst(_t,e);let Nt=null!=vt.offset?vt.offset:function o_(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(vt.styles),pt=0;return null!=Nt&&(u++,pt=vt.offset=Nt),E=E||pt<0||pt>1,m=m||pt<D,D=pt,h.push(pt),vt});E&&e.errors.push(function bp(){return new c.vHH(3012,_)}()),m&&e.errors.push(function Li(){return new c.vHH(3200,_)}());const N=t.steps.length;let oe=0;u>0&&u<N?e.errors.push(function Yc(){return new c.vHH(3202,_)}()):0==u&&(oe=1/(N-1));const ve=N-1,Oe=e.currentTime,$e=e.currentAnimateTimings,et=$e.duration;return k.forEach((_t,vt)=>{const Nt=oe>0?vt==ve?1:oe*vt:h[vt],pt=Nt*et;e.currentTime=Oe+$e.delay+pt,$e.duration=pt,this._validateStyleAst(_t,e),_t.offset=Nt,r.styles.push(_t)}),r}visitReference(t,e){return{type:8,animation:pi(this,Oh(t.animation),e),options:xl(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:xl(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:xl(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[u,h]=function xp(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(EC,"")),n=n.replace(/@\*/g,Mp).replace(/@\w+/g,e=>Mp+"-"+e.slice(1)).replace(/:animating/g,Rh),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+u:u,fi(e.collectedStyles,e.currentQuerySelector,new Map);const m=pi(this,Oh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:u,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:m,originalSelector:t.selector,options:xl(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function xu(){return new c.vHH(3013,_)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ph(t.timings,e.errors,!0);return{type:12,animation:pi(this,Oh(t.animation),e),timings:r,options:null}}}class s_{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set,this.nonAnimatableCSSPropertiesFound=new Set}}function xl(n){return n?(n=Jc(n)).params&&(n.params=function wC(n){return n?Jc(n):null}(n.params)):n={},n}function Lh(n,t,e){return{duration:n,delay:t,easing:e}}function a_(n,t,e,r,o,u,h=null,m=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:o,delay:u,totalTime:o+u,easing:h,subTimeline:m}}class Np{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const bC=new RegExp(":enter","g"),IC=new RegExp(":leave","g");function l_(n,t,e,r,o,u=new Map,h=new Map,m,E,D=[]){return(new u_).buildKeyframes(n,t,e,r,o,u,h,m,E,D)}class u_{buildKeyframes(t,e,r,o,u,h,m,E,D,k=[]){D=D||new Np;const N=new kp(t,e,D,o,u,k,[]);N.options=E;const oe=E.delay?Oa(E.delay):0;N.currentTimeline.delayNextStep(oe),N.currentTimeline.setStyles([h],null,N.errors,E),pi(this,r,N);const ve=N.timelines.filter(Oe=>Oe.containsAnimation());if(ve.length&&m.size){let Oe;for(let $e=ve.length-1;$e>=0;$e--){const et=ve[$e];if(et.element===e){Oe=et;break}}Oe&&!Oe.allowOnlyTimelineStyles()&&Oe.setStyles([m],null,N.errors,E)}return ve.length?ve.map(Oe=>Oe.buildKeyframes()):[a_(e,[],[],[],0,oe,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const o=e.createSubContext(t.options),u=e.currentTimeline.currentTime,h=this._visitSubInstructions(r,o,o.options);u!=h&&e.transformIntoNewTimeline(h)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let u=e.currentTimeline.currentTime;const h=null!=r.duration?Oa(r.duration):null,m=null!=r.delay?Oa(r.delay):null;return 0!==h&&t.forEach(E=>{const D=e.appendInstructionToTimeline(E,h,m);u=Math.max(u,D.duration+D.delay)}),u}visitReference(t,e){e.updateOptions(t.options,!0),pi(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let o=e;const u=t.options;if(u&&(u.params||u.delay)&&(o=e.createSubContext(u),o.transformIntoNewTimeline(),null!=u.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Uh);const h=Oa(u.delay);o.delayNextStep(h)}t.steps.length&&(t.steps.forEach(h=>pi(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let o=e.currentTimeline.currentTime;const u=t.options&&t.options.delay?Oa(t.options.delay):0;t.steps.forEach(h=>{const m=e.createSubContext(t.options);u&&m.delayNextStep(u),pi(this,h,m),o=Math.max(o,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Ph(e.params?Rp(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),o.snapshotCurrentStyles());const u=t.style;5==u.type?this.visitKeyframes(u,e):(e.incrementTime(r.duration),this.visitStyle(u,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,o=e.currentAnimateTimings;!o&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=o&&o.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(u):r.setStyles(t.styles,u,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,o=e.currentTimeline.duration,u=r.duration,m=e.createSubContext().currentTimeline;m.easing=r.easing,t.styles.forEach(E=>{m.forwardTime((E.offset||0)*u),m.setStyles(E.styles,E.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(o+u),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,o=t.options||{},u=o.delay?Oa(o.delay):0;u&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Uh);let h=r;const m=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=m.length;let E=null;m.forEach((D,k)=>{e.currentQueryIndex=k;const N=e.createSubContext(t.options,D);u&&N.delayNextStep(u),D===e.element&&(E=N.currentTimeline),pi(this,t.animation,N),N.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,N.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),E&&(e.currentTimeline.mergeTimelineCollectedStyles(E),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,o=e.currentTimeline,u=t.timings,h=Math.abs(u.duration),m=h*(e.currentQueryTotal-1);let E=h*e.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":E=m-E;break;case"full":E=r.currentStaggerTime}const k=e.currentTimeline;E&&k.delayNextStep(E);const N=k.currentTime;pi(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=o.currentTime-N+(o.startTime-r.currentTimeline.startTime)}}const Uh={};class kp{constructor(t,e,r,o,u,h,m,E){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=u,this.errors=h,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Uh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new Ui(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let o=this.options;null!=r.duration&&(o.duration=Oa(r.duration)),null!=r.delay&&(o.delay=Oa(r.delay));const u=r.params;if(u){let h=o.params;h||(h=this.options.params={}),Object.keys(u).forEach(m=>{(!e||!h.hasOwnProperty(m))&&(h[m]=Rp(u[m],h,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(o=>{r[o]=e[o]})}}return t}createSubContext(t=null,e,r){const o=e||this.element,u=new kp(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(t),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(t){return this.previousNode=Uh,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const o={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},u=new DC(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(u),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,o,u,h){let m=[];if(o&&m.push(this.element),t.length>0){t=(t=t.replace(bC,"."+this._enterClassName)).replace(IC,"."+this._leaveClassName);let D=this._driver.query(this.element,t,1!=r);0!==r&&(D=r<0?D.slice(D.length+r,D.length):D.slice(0,r)),m.push(...D)}return!u&&0==m.length&&h.push(function Cp(n){return new c.vHH(3014,_)}()),m}}class Ui{constructor(t,e,r,o){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ui(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||Ms),this._currentKeyframe.set(e,Ms);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,o){e&&this._previousKeyframe.set("easing",e);const u=o&&o.params||{},h=function c_(n,t){const e=new Map;let r;return n.forEach(o=>{if("*"===o){r=r||t.keys();for(let u of r)e.set(u,Ms)}else Pl(o,e)}),e}(t,this._globalTimelineStyles);for(let[m,E]of h){const D=Rp(E,u,r);this._pendingStyles.set(m,D),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)||Ms),this._updateStyle(m,D)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const o=this._styleSummary.get(r);(!o||e.time>o.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((m,E)=>{const D=Pl(m,new Map,this._backFill);D.forEach((k,N)=>{"!"===k?t.add(N):k===Ms&&e.add(N)}),r||D.set("offset",E/this.duration),o.push(D)});const u=t.size?kt(t.values()):[],h=e.size?kt(e.values()):[];if(r){const m=o[0],E=new Map(m);m.set("offset",0),E.set("offset",1),o=[m,E]}return a_(this.element,o,u,h,this.duration,this.startTime,this.easing,!1)}}class DC extends Ui{constructor(t,e,r,o,u,h,m=!1){super(t,e,h.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=u,this._stretchStartingKeyframe=m,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const u=[],h=r+e,m=e/h,E=Pl(t[0]);E.set("offset",0),u.push(E);const D=Pl(t[0]);D.set("offset",Fp(m)),u.push(D);const k=t.length-1;for(let N=1;N<=k;N++){let oe=Pl(t[N]);const ve=oe.get("offset");oe.set("offset",Fp((e+ve*r)/h)),u.push(oe)}r=h,e=0,o="",t=u}return a_(this.element,t,this.preStyleProps,this.postStyleProps,r,e,o,!0)}}function Fp(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class S0{}const sS=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class TC extends S0{normalizePropertyName(t,e){return Pp(t)}normalizeStyleValue(t,e,r,o){let u="";const h=r.toString().trim();if(sS.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&o.push(function tt(n,t){return new c.vHH(3005,_)}())}return h+u}}function d_(n,t,e,r,o,u,h,m,E,D,k,N,oe){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:u,toState:r,toStyles:h,timelines:m,queriedElements:E,preStyleProps:D,postStyleProps:k,totalTime:N,errors:oe}}const A0={};class M0{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,o){return function nd(n,t,e,r,o){return n.some(u=>u(t,e,r,o))}(this.ast.matchers,t,e,r,o)}buildStyles(t,e,r){let o=this._stateStyles.get("*");return void 0!==t&&(o=this._stateStyles.get(t?.toString())||o),o?o.buildStyles(e,r):new Map}build(t,e,r,o,u,h,m,E,D,k){const N=[],oe=this.ast.options&&this.ast.options.params||A0,Oe=this.buildStyles(r,m&&m.params||A0,N),$e=E&&E.params||A0,et=this.buildStyles(o,$e,N),_t=new Set,vt=new Map,Nt=new Map,pt="void"===o,Nn={params:SC($e,oe),delay:this.ast.options?.delay},jn=k?[]:l_(t,e,this.ast.animation,u,h,Oe,et,Nn,D,N);let kr=0;if(jn.forEach(zs=>{kr=Math.max(zs.duration+zs.delay,kr)}),N.length)return d_(e,this._triggerName,r,o,pt,Oe,et,[],[],vt,Nt,kr,N);jn.forEach(zs=>{const Ec=zs.element,iR=fi(vt,Ec,new Set);zs.preStyleProps.forEach(Bf=>iR.add(Bf));const r0=fi(Nt,Ec,new Set);zs.postStyleProps.forEach(Bf=>r0.add(Bf)),Ec!==e&&_t.add(Ec)});const Gi=kt(_t.values());return d_(e,this._triggerName,r,o,pt,Oe,et,jn,Gi,vt,Nt,kr)}}function SC(n,t){const e=Jc(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class R0{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,o=Jc(this.defaultParams);return Object.keys(t).forEach(u=>{const h=t[u];null!==h&&(o[u]=h)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,m)=>{h&&(h=Rp(h,o,e));const E=this.normalizer.normalizePropertyName(m,e);h=this.normalizer.normalizeStyleValue(m,E,h,e),r.set(E,h)})}),r}}class AC{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new R0(o.style,o.options&&o.options.params||{},r))}),O0(this.states,"true","1"),O0(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new M0(t,o,this.states))}),this.fallbackTransition=function P0(n,t,e){return new M0(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,m)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,o){return this.transitionFactories.find(h=>h.match(t,e,r,o))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function O0(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const MC=new Np;class RC{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],u=Fh(this._driver,e,r,[]);if(r.length)throw function f0(n){return new c.vHH(3503,_)}();this._animations.set(t,u)}_buildPlayer(t,e,r){const o=t.element,u=Vm(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(o,u,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const o=[],u=this._animations.get(t);let h;const m=new Map;if(u?(h=l_(this._driver,e,u,Qm,Mh,new Map,new Map,r,MC,o),h.forEach(k=>{const N=fi(m,k.element,new Map);k.postStyleProps.forEach(oe=>N.set(oe,null))})):(o.push(function XT(){return new c.vHH(3300,_)}()),h=[]),o.length)throw function Qc(n){return new c.vHH(3504,_)}();m.forEach((k,N)=>{k.forEach((oe,ve)=>{k.set(ve,this._driver.computeStyle(N,ve,Ms))})});const D=Ro(h.map(k=>{const N=m.get(k.element);return this._buildPlayer(k,new Map,N)}));return this._playersById.set(t,D),D.onDestroy(()=>this.destroy(t)),this.players.push(D),D}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Lm(n){return new c.vHH(3301,_)}();return e}listen(t,e,r,o){const u=jm(e,"","","");return Dh(this._getPlayer(t),r,u,o),()=>{}}command(t,e,r,o){if("register"==r)return void this.register(t,o[0]);if("create"==r)return void this.create(t,e,o[0]||{});const u=this._getPlayer(t);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const x0="ng-animate-queued",Up="ng-animate-disabled",h_=[],xC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},f_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},us="__ng_removed";class F0{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function aS(n){return n??null}(r?t.value:t),r){const u=Jc(t);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(o=>{null==r[o]&&(r[o]=e[o])})}}}const Oo="void",Vp=new F0(Oo);class NC{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ps(e,this._hostClassName)}listen(t,e,r,o){if(!this._triggers.has(e))throw function p0(n,t){return new c.vHH(3302,_)}();if(null==r||0==r.length)throw function iC(n){return new c.vHH(3303,_)}();if(!function lS(n){return"start"==n||"done"==n}(r))throw function Um(n,t){return new c.vHH(3400,_)}();const u=fi(this._elementListeners,t,[]),h={name:e,phase:r,callback:o};u.push(h);const m=fi(this._engine.statesByElement,t,new Map);return m.has(e)||(Ps(t,Ap),Ps(t,Ap+"-"+e),m.set(e,Vp)),()=>{this._engine.afterFlush(()=>{const E=u.indexOf(h);E>=0&&u.splice(E,1),this._triggers.has(e)||m.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function sC(n){return new c.vHH(3401,_)}();return e}trigger(t,e,r,o=!0){const u=this._getTrigger(e),h=new Vh(this.id,e,t);let m=this._engine.statesByElement.get(t);m||(Ps(t,Ap),Ps(t,Ap+"-"+e),this._engine.statesByElement.set(t,m=new Map));let E=m.get(e);const D=new F0(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&E&&D.absorbOptions(E.options),m.set(e,D),E||(E=Vp),D.value!==Oo&&E.value===D.value){if(!function V0(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let o=0;o<e.length;o++){const u=e[o];if(!t.hasOwnProperty(u)||n[u]!==t[u])return!1}return!0}(E.params,D.params)){const $e=[],et=u.matchStyles(E.value,E.params,$e),_t=u.matchStyles(D.value,D.params,$e);$e.length?this._engine.reportError($e):this._engine.afterFlush(()=>{Fu(t,et),Po(t,_t)})}return}const oe=fi(this._engine.playersByElement,t,[]);oe.forEach($e=>{$e.namespaceId==this.id&&$e.triggerName==e&&$e.queued&&$e.destroy()});let ve=u.matchTransition(E.value,D.value,t,D.params),Oe=!1;if(!ve){if(!o)return;ve=u.fallbackTransition,Oe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:ve,fromState:E,toState:D,player:h,isFallbackTransition:Oe}),Oe||(Ps(t,x0),h.onStart(()=>{Lu(t,x0)})),h.onDone(()=>{let $e=this.players.indexOf(h);$e>=0&&this.players.splice($e,1);const et=this._engine.playersByElement.get(t);if(et){let _t=et.indexOf(h);_t>=0&&et.splice(_t,1)}}),this.players.push(h),oe.push(h),h}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Mp,!0);r.forEach(o=>{if(o[us])return;const u=this._engine.fetchNamespacesByElement(o);u.size?u.forEach(h=>h.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,r,o){const u=this._engine.statesByElement.get(t),h=new Map;if(u){const m=[];if(u.forEach((E,D)=>{if(h.set(D,E.value),this._triggers.has(D)){const k=this.trigger(t,D,Oo,o);k&&m.push(k)}}),m.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,h),r&&Ro(m).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const o=new Set;e.forEach(u=>{const h=u.name;if(o.has(h))return;o.add(h);const E=this._triggers.get(h).fallbackTransition,D=r.get(h)||Vp,k=new F0(Oo),N=new Vh(this.id,h,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:h,transition:E,fromState:D,toState:k,player:N,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(t):[];if(u&&u.length)o=!0;else{let h=t;for(;h=h.parentNode;)if(r.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)r.markElementAsRemoved(this.id,t,!1,e);else{const u=t[us];(!u||u===xC)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Ps(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const u=r.element,h=this._elementListeners.get(u);h&&h.forEach(m=>{if(m.name==r.triggerName){const E=jm(u,r.triggerName,r.fromState.value,r.toState.value);E._data=t,Dh(r.player,m.phase,E,m.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(r)}),this._queue=[],e.sort((r,o)=>{const u=r.transition.ast.depCount,h=o.transition.ast.depCount;return 0==u||0==h?u-h:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class kC{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,u)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new NC(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,o=this.namespacesByHostElement;if(r.length-1>=0){let h=!1,m=this.driver.getParentElement(e);for(;m;){const E=o.get(m);if(E){const D=r.indexOf(E);r.splice(D+1,0,t),h=!0;break}m=this.driver.getParentElement(m)}h||r.unshift(t)}else r.push(t);return o.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let o=this._namespaceLookup[t];o&&o.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let o of r.values())if(o.namespaceId){const u=this._fetchNamespace(o.namespaceId);u&&e.add(u)}return e}trigger(t,e,r,o){if(rd(e)){const u=this._fetchNamespace(t);if(u)return u.trigger(e,r,o),!0}return!1}insertNode(t,e,r,o){if(!rd(e))return;const u=e[us];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(t){const h=this._fetchNamespace(t);h&&h.insertNode(e,r)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ps(t,Up)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Lu(t,Up))}removeNode(t,e,r,o){if(rd(e)){const u=t?this._fetchNamespace(t):null;if(u?u.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),r){const h=this.namespacesByHostElement.get(e);h&&h.id!==t&&h.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,r,o,u){this.collectedLeaveElements.push(e),e[us]={namespaceId:t,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(t,e,r,o,u){return rd(e)?this._fetchNamespace(t).listen(e,r,o,u):()=>{}}_buildInstruction(t,e,r,o,u){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,o,t.fromState.options,t.toState.options,e,u)}destroyInnerAnimations(t){let e=this.driver.query(t,Mp,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Rh,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ro(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[us];if(e&&e.setForRemoval){if(t[us]=xC,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Up)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ps(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Ro(e).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(t){throw function oC(n){return new c.vHH(3402,_)}()}_flushAnimations(t,e){const r=new Np,o=[],u=new Map,h=[],m=new Map,E=new Map,D=new Map,k=new Set;this.disabledNodes.forEach(ht=>{k.add(ht);const Mt=this.driver.query(ht,".ng-animate-queued",!0);for(let Ft=0;Ft<Mt.length;Ft++)k.add(Mt[Ft])});const N=this.bodyNode,oe=Array.from(this.statesByElement.keys()),ve=UC(oe,this.collectedEnterElements),Oe=new Map;let $e=0;ve.forEach((ht,Mt)=>{const Ft=Qm+$e++;Oe.set(Mt,Ft),ht.forEach(un=>Ps(un,Ft))});const et=[],_t=new Set,vt=new Set;for(let ht=0;ht<this.collectedLeaveElements.length;ht++){const Mt=this.collectedLeaveElements[ht],Ft=Mt[us];Ft&&Ft.setForRemoval&&(et.push(Mt),_t.add(Mt),Ft.hasAnimation?this.driver.query(Mt,".ng-star-inserted",!0).forEach(un=>_t.add(un)):vt.add(Mt))}const Nt=new Map,pt=UC(oe,Array.from(_t));pt.forEach((ht,Mt)=>{const Ft=Mh+$e++;Nt.set(Mt,Ft),ht.forEach(un=>Ps(un,Ft))}),t.push(()=>{ve.forEach((ht,Mt)=>{const Ft=Oe.get(Mt);ht.forEach(un=>Lu(un,Ft))}),pt.forEach((ht,Mt)=>{const Ft=Nt.get(Mt);ht.forEach(un=>Lu(un,Ft))}),et.forEach(ht=>{this.processLeaveNode(ht)})});const Nn=[],jn=[];for(let ht=this._namespaceList.length-1;ht>=0;ht--)this._namespaceList[ht].drainQueuedTransitions(e).forEach(Ft=>{const un=Ft.player,Yr=Ft.element;if(Nn.push(un),this.collectedEnterElements.length){const yi=Yr[us];if(yi&&yi.setForMove){if(yi.previousTriggersValues&&yi.previousTriggersValues.has(Ft.triggerName)){const jf=yi.previousTriggersValues.get(Ft.triggerName),Jo=this.statesByElement.get(Ft.element);if(Jo&&Jo.has(Ft.triggerName)){const nC=Jo.get(Ft.triggerName);nC.value=jf,Jo.set(Ft.triggerName,nC)}}return void un.destroy()}}const Ql=!N||!this.driver.containsElement(N,Yr),qs=Nt.get(Yr),Fd=Oe.get(Yr),tr=this._buildInstruction(Ft,r,Fd,qs,Ql);if(tr.errors&&tr.errors.length)return void jn.push(tr);if(Ql)return un.onStart(()=>Fu(Yr,tr.fromStyles)),un.onDestroy(()=>Po(Yr,tr.toStyles)),void o.push(un);if(Ft.isFallbackTransition)return un.onStart(()=>Fu(Yr,tr.fromStyles)),un.onDestroy(()=>Po(Yr,tr.toStyles)),void o.push(un);const aR=[];tr.timelines.forEach(yi=>{yi.stretchStartingKeyframe=!0,this.disabledNodes.has(yi.element)||aR.push(yi)}),tr.timelines=aR,r.append(Yr,tr.timelines),h.push({instruction:tr,player:un,element:Yr}),tr.queriedElements.forEach(yi=>fi(m,yi,[]).push(un)),tr.preStyleProps.forEach((yi,jf)=>{if(yi.size){let Jo=E.get(jf);Jo||E.set(jf,Jo=new Set),yi.forEach((nC,JT)=>Jo.add(JT))}}),tr.postStyleProps.forEach((yi,jf)=>{let Jo=D.get(jf);Jo||D.set(jf,Jo=new Set),yi.forEach((nC,JT)=>Jo.add(JT))})});if(jn.length){const ht=[];jn.forEach(Mt=>{ht.push(function aC(n,t){return new c.vHH(3505,_)}())}),Nn.forEach(Mt=>Mt.destroy()),this.reportError(ht)}const kr=new Map,Gi=new Map;h.forEach(ht=>{const Mt=ht.element;r.has(Mt)&&(Gi.set(Mt,Mt),this._beforeAnimationBuild(ht.player.namespaceId,ht.instruction,kr))}),o.forEach(ht=>{const Mt=ht.element;this._getPreviousPlayers(Mt,!1,ht.namespaceId,ht.triggerName,null).forEach(un=>{fi(kr,Mt,[]).push(un),un.destroy()})});const zs=et.filter(ht=>g_(ht,E,D)),Ec=new Map;LC(Ec,this.driver,vt,D,Ms).forEach(ht=>{g_(ht,E,D)&&zs.push(ht)});const r0=new Map;ve.forEach((ht,Mt)=>{LC(r0,this.driver,new Set(ht),E,"!")}),zs.forEach(ht=>{const Mt=Ec.get(ht),Ft=r0.get(ht);Ec.set(ht,new Map([...Array.from(Mt?.entries()??[]),...Array.from(Ft?.entries()??[])]))});const Bf=[],sR=[],oR={};h.forEach(ht=>{const{element:Mt,player:Ft,instruction:un}=ht;if(r.has(Mt)){if(k.has(Mt))return Ft.onDestroy(()=>Po(Mt,un.toStyles)),Ft.disabled=!0,Ft.overrideTotalTime(un.totalTime),void o.push(Ft);let Yr=oR;if(Gi.size>1){let qs=Mt;const Fd=[];for(;qs=qs.parentNode;){const tr=Gi.get(qs);if(tr){Yr=tr;break}Fd.push(qs)}Fd.forEach(tr=>Gi.set(tr,Yr))}const Ql=this._buildAnimation(Ft.namespaceId,un,kr,u,r0,Ec);if(Ft.setRealPlayer(Ql),Yr===oR)Bf.push(Ft);else{const qs=this.playersByElement.get(Yr);qs&&qs.length&&(Ft.parentPlayer=Ro(qs)),o.push(Ft)}}else Fu(Mt,un.fromStyles),Ft.onDestroy(()=>Po(Mt,un.toStyles)),sR.push(Ft),k.has(Mt)&&o.push(Ft)}),sR.forEach(ht=>{const Mt=u.get(ht.element);if(Mt&&Mt.length){const Ft=Ro(Mt);ht.setRealPlayer(Ft)}}),o.forEach(ht=>{ht.parentPlayer?ht.syncPlayerEvents(ht.parentPlayer):ht.destroy()});for(let ht=0;ht<et.length;ht++){const Mt=et[ht],Ft=Mt[us];if(Lu(Mt,Mh),Ft&&Ft.hasAnimation)continue;let un=[];if(m.size){let Ql=m.get(Mt);Ql&&Ql.length&&un.push(...Ql);let qs=this.driver.query(Mt,Rh,!0);for(let Fd=0;Fd<qs.length;Fd++){let tr=m.get(qs[Fd]);tr&&tr.length&&un.push(...tr)}}const Yr=un.filter(Ql=>!Ql.destroyed);Yr.length?p_(this,Mt,Yr):this.processLeaveNode(Mt)}return et.length=0,Bf.forEach(ht=>{this.players.push(ht),ht.onDone(()=>{ht.destroy();const Mt=this.players.indexOf(ht);this.players.splice(Mt,1)}),ht.play()}),Bf}elementContainsData(t,e){let r=!1;const o=e[us];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,o,u){let h=[];if(e){const m=this.playersByQueriedElement.get(t);m&&(h=m)}else{const m=this.playersByElement.get(t);if(m){const E=!u||u==Oo;m.forEach(D=>{D.queued||!E&&D.triggerName!=o||h.push(D)})}}return(r||o)&&(h=h.filter(m=>!(r&&r!=m.namespaceId||o&&o!=m.triggerName))),h}_beforeAnimationBuild(t,e,r){const u=e.element,h=e.isRemovalTransition?void 0:t,m=e.isRemovalTransition?void 0:e.triggerName;for(const E of e.timelines){const D=E.element,k=D!==u,N=fi(r,D,[]);this._getPreviousPlayers(D,k,h,m,e.toState).forEach(ve=>{const Oe=ve.getRealPlayer();Oe.beforeDestroy&&Oe.beforeDestroy(),ve.destroy(),N.push(ve)})}Fu(u,e.fromStyles)}_buildAnimation(t,e,r,o,u,h){const m=e.triggerName,E=e.element,D=[],k=new Set,N=new Set,oe=e.timelines.map(Oe=>{const $e=Oe.element;k.add($e);const et=$e[us];if(et&&et.removedBeforeQueried)return new Ou(Oe.duration,Oe.delay);const _t=$e!==E,vt=function L0(n){const t=[];return U0(n,t),t}((r.get($e)||h_).map(kr=>kr.getRealPlayer())).filter(kr=>!!kr.element&&kr.element===$e),Nt=u.get($e),pt=h.get($e),Nn=Vm(0,this._normalizer,0,Oe.keyframes,Nt,pt),jn=this._buildPlayer(Oe,Nn,vt);if(Oe.subTimeline&&o&&N.add($e),_t){const kr=new Vh(t,m,$e);kr.setRealPlayer(jn),D.push(kr)}return jn});D.forEach(Oe=>{fi(this.playersByQueriedElement,Oe.element,[]).push(Oe),Oe.onDone(()=>function oS(n,t,e){let r=n.get(t);if(r){if(r.length){const o=r.indexOf(e);r.splice(o,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,Oe.element,Oe))}),k.forEach(Oe=>Ps(Oe,Jm));const ve=Ro(oe);return ve.onDestroy(()=>{k.forEach(Oe=>Lu(Oe,Jm)),Po(E,e.toStyles)}),N.forEach(Oe=>{fi(o,Oe,[]).push(ve)}),ve}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Ou(t.duration,t.delay)}}class Vh{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Ou,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(o=>Dh(t,r,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){fi(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function rd(n){return n&&1===n.nodeType}function FC(n,t){const e=n.style.display;return n.style.display=t??"none",e}function LC(n,t,e,r,o){const u=[];e.forEach(E=>u.push(FC(E)));const h=[];r.forEach((E,D)=>{const k=new Map;E.forEach(N=>{const oe=t.computeStyle(D,N,o);k.set(N,oe),(!oe||0==oe.length)&&(D[us]=f_,h.push(D))}),n.set(D,k)});let m=0;return e.forEach(E=>FC(E,u[m++])),h}function UC(n,t){const e=new Map;if(n.forEach(m=>e.set(m,[])),0==t.length)return e;const o=new Set(t),u=new Map;function h(m){if(!m)return 1;let E=u.get(m);if(E)return E;const D=m.parentNode;return E=e.has(D)?D:o.has(D)?1:h(D),u.set(m,E),E}return t.forEach(m=>{const E=h(m);1!==E&&e.get(E).push(m)}),e}function Ps(n,t){n.classList?.add(t)}function Lu(n,t){n.classList?.remove(t)}function p_(n,t,e){Ro(e).onDone(()=>n.processLeaveNode(t))}function U0(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof wp?U0(r.players,t):t.push(r)}}function g_(n,t,e){const r=e.get(n);if(!r)return!1;let o=t.get(n);return o?r.forEach(u=>o.add(u)):t.set(n,r),e.delete(n),!0}class Uu{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,u)=>{},this._transitionEngine=new kC(t,e,r),this._timelineEngine=new RC(t,e,r),this._transitionEngine.onRemovalComplete=(o,u)=>this.onRemovalComplete(o,u)}registerTrigger(t,e,r,o,u){const h=t+"-"+o;let m=this._triggerCache[h];if(!m){const E=[],k=Fh(this._driver,u,E,[]);if(E.length)throw function Nu(n,t){return new c.vHH(3404,_)}();m=function Lp(n,t,e){return new AC(n,t,e)}(o,k,this._normalizer),this._triggerCache[h]=m}this._transitionEngine.registerTrigger(e,o,m)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,o){this._transitionEngine.insertNode(t,e,r,o)}onRemove(t,e,r,o){this._transitionEngine.removeNode(t,e,o||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,o){if("@"==r.charAt(0)){const[u,h]=Hm(r);this._timelineEngine.command(u,e,h,o)}else this._transitionEngine.trigger(t,e,r,o)}listen(t,e,r,o,u){if("@"==r.charAt(0)){const[h,m]=Hm(r);return this._timelineEngine.listen(h,e,m,u)}return this._transitionEngine.listen(t,e,r,o,u)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let B0=(()=>{class n{constructor(e,r,o){this._element=e,this._startStyles=r,this._endStyles=o,this._state=0;let u=n.initialStylesByElement.get(e);u||n.initialStylesByElement.set(e,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Po(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Po(this._element,this._initialStyles),this._endStyles&&(Po(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Fu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fu(this._element,this._endStyles),this._endStyles=null),Po(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function m_(n){let t=null;return n.forEach((e,r)=>{(function __(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class xo{constructor(t,e,r,o){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,o)=>{"offset"!==o&&t.set(o,this._finished?r:I0(this.element,o))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class y_{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return Zm(t,e)}getParentElement(t){return Wm(t)}query(t,e,r){return Th(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,o,u,h=[]){const E={duration:r,delay:o,fill:0==o?"both":"forwards"};u&&(E.easing=u);const D=new Map,k=h.filter(ve=>ve instanceof xo);(function pC(n,t){return 0===n||0===t})(r,o)&&k.forEach(ve=>{ve.currentSnapshot.forEach((Oe,$e)=>D.set($e,Oe))});let N=function fC(n){return n.length?n[0]instanceof Map?n:n.map(t=>y0(t)):[]}(e).map(ve=>Pl(ve));N=function gC(n,t,e){if(e.size&&t.length){let r=t[0],o=[];if(e.forEach((u,h)=>{r.has(h)||o.push(h),r.set(h,u)}),o.length)for(let u=1;u<t.length;u++){let h=t[u];o.forEach(m=>h.set(m,I0(n,m)))}}return t}(t,N,D);const oe=function Os(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=m_(t[0]),t.length>1&&(r=m_(t[t.length-1]))):t instanceof Map&&(e=m_(t)),e||r?new B0(n,e,r):null}(t,N);return new xo(t,N,E,oe)}}let j0=(()=>{class n extends As{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?Rr(e):e;return E_(this._renderer,null,r,"register",[o]),new v_(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(j))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class v_ extends class yp{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new uS(this._id,t,e||{},this._renderer)}}class uS{constructor(t,e,r,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return E_(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function E_(n,t,e,r,o){return n.setProperty(t,`@@${e}:${r}`,o)}const Bh="@.disabled";let Bp=(()=>{class n{constructor(e,r,o){this.delegate=e,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,h)=>{const m=h?.parentNode(u);m&&h.removeChild(m,u)}}createRenderer(e,r){const u=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let k=this._rendererCache.get(u);return k||(k=new jp("",u,this.engine),this._rendererCache.set(u,k)),k}const h=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const E=k=>{Array.isArray(k)?k.forEach(E):this.engine.registerTrigger(h,m,e,k.name,k)};return r.data.animation.forEach(E),new b_(this,m,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,o){e>=0&&e<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[h,m]=u;h(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(Uu),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class jp{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,o=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,o){this.delegate.setAttribute(t,e,r,o)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,o){this.delegate.setStyle(t,e,r,o)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==Bh?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class b_ extends jp{constructor(t,e,r,o){super(e,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Bh?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const o=function C_(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let u=e.slice(1),h="";return"@"!=u.charAt(0)&&([u,h]=function cS(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(u)),this.engine.listen(this.namespaceId,o,u,h,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(t,e,r)}}const H0=[{provide:As,useClass:j0},{provide:S0,useFactory:function BC(){return new TC}},{provide:Uu,useClass:(()=>{class n extends Uu{constructor(e,r,o){super(e.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(j),c.LFG(Sh),c.LFG(S0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})()},{provide:c.FYo,useFactory:function jC(n,t,e){return new Bp(n,t,e)},deps:[ws,Uu,c.R0b]}],I_=[{provide:Sh,useFactory:()=>new y_},{provide:c.QbO,useValue:"BrowserAnimations"},...H0],dS=[{provide:Sh,useClass:Ym},{provide:c.QbO,useValue:"NoopAnimations"},...H0];let HC=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?dS:I_}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:I_,imports:[al]}),n})();var Or=x(7579);function At(...n){const t=(0,Ds.yG)(n);return(0,dn.D)(n,t)}var D_=x(6451),id=x(5363),gi=x(4482);function xr(n,t){return(0,gi.e)((e,r)=>{let o=null,u=0,h=!1;const m=()=>h&&!o&&r.complete();e.subscribe((0,on.x)(r,E=>{o?.unsubscribe();let D=0;const k=u++;(0,go.Xf)(n(E,k)).subscribe(o=(0,on.x)(r,N=>r.next(t?t(E,N,k,D++):N),()=>{o=null,m()}))},()=>{h=!0,m()}))})}var hS=x(6063);class fS extends Or.x{constructor(t=1/0,e=1/0,r=hS.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:h}=this;e||(r.push(t),!o&&r.push(u.now()+h)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let h=0;h<u.length&&!t.closed;h+=r?1:2)t.next(u[h]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*t;if(t<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const h=e.now();let m=0;for(let E=1;E<r.length&&r[E]<=h;E+=2)m=E;m&&r.splice(0,m+1)}}}var $C=x(3099);function GC(n,t,e){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=n):r=n??1/0,(0,$C.B)({connector:()=>new fS(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const Hp=(0,x(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function sd(n,t){return(0,gi.e)((e,r)=>{let o=0;e.subscribe((0,on.x)(r,u=>n.call(t,u,o++)&&r.next(u)))})}var $p=x(5698);function No(n){return(0,gi.e)((t,e)=>{let r=!1;t.subscribe((0,on.x)(e,o=>{r=!0,e.next(o)},()=>{r||e.next(n),e.complete()}))})}function Gp(n=WC){return(0,gi.e)((t,e)=>{let r=!1;t.subscribe((0,on.x)(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(n())))})}function WC(){return new Hp}var Vu=x(4671);function ko(n,t){const e=arguments.length>=2;return r=>r.pipe(n?sd((o,u)=>n(o,u,r)):Vu.y,(0,$p.q)(1),e?No(t):Gp(()=>new Hp))}var Wp=x(576);function zp(n,t){return(0,Wp.m)(t)?xr(()=>n,t):xr(()=>n)}var T_=x(9468),bn=x(5813),$r=x(2011);x(5867);var vr=x(5861),xs=x(9681),Fo=x(4859),Z=x(2090),$h=x(1877);const M_=new Map,JC={activated:!1,tokenObservers:[]},z0={initialized:!1,enabled:!1};function Er(n){return M_.get(n)||JC}function Ns(n,t){M_.set(n,t)}function Gr(){return z0}class tI{constructor(t,e,r,o,u){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,vr.Z)(function*(){e.stop();try{e.pending=new Z.BH,yield function nI(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Z.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Wr=new Z.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function P_(n){if(!Er(n).activated)throw Wr.create("use-before-activation",{appName:n.name})}function Qp(n,t){return x_.apply(this,arguments)}function x_(){return(x_=(0,vr.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const N=yield o.getHeartbeatsHeader();N&&(r["X-Firebase-Client"]=N)}const u={method:"POST",body:JSON.stringify(t),headers:r};let h,m;try{h=yield fetch(n,u)}catch(N){throw Wr.create("fetch-network-error",{originalErrorMessage:N.message})}if(200!==h.status)throw Wr.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(N){throw Wr.create("fetch-parse-error",{originalErrorMessage:N.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw Wr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const D=1e3*Number(E[1]),k=Date.now();return{token:m.token,expireTimeMillis:k+D,issuedAtTimeMillis:k}})).apply(this,arguments)}function sI(n,t){const{projectId:e,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:t}}}const ld="firebase-app-check-store";let Jp=null;function K0(){return Jp||(Jp=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var o;t(Wr.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ld,{keyPath:"compositeKey"})}}catch(e){t(Wr.create("storage-open",{originalErrorMessage:e.message}))}}),Jp)}function F_(){return(F_=(0,vr.Z)(function*(n,t){const r=(yield K0()).transaction(ld,"readwrite"),u=r.objectStore(ld).put({compositeKey:n,value:t});return new Promise((h,m)=>{u.onsuccess=E=>{h()},r.onerror=E=>{var D;m(Wr.create("storage-set",{originalErrorMessage:null===(D=E.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const ng=new $h.Yd("@firebase/app-check");function uI(n,t){return(0,Z.hl)()?function aI(n,t){return function eg(n,t){return F_.apply(this,arguments)}(function L_(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{ng.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function U_(){return Gr().enabled}function V_(){return ig.apply(this,arguments)}function ig(){return(ig=(0,vr.Z)(function*(){const n=Gr();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const xa={error:"UNKNOWN_ERROR"};function sg(n){return Z.US.encodeString(JSON.stringify(n),!1)}function og(n){return B_.apply(this,arguments)}function B_(){return(B_=(0,vr.Z)(function*(n,t=!1){const e=n.app;P_(e);const r=Er(e);let u,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&Zh(E)&&(o=E)}if(!t&&o&&Zh(o))return{token:o.token};let m,h=!1;if(U_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Qp(sI(e,yield V_()),n.heartbeatServiceProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),h=!0);const E=yield r.exchangeTokenPromise;return yield uI(e,E),Ns(e,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),h=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?ng.warn(E.message):ng.error(E),u=E}return o?(m={token:o.token},Ns(e,Object.assign(Object.assign({},r),{token:o})),yield uI(e,o)):m=dI(u),h&&H_(e,m),m})).apply(this,arguments)}function qh(n,t){const e=Er(n),r=e.tokenObservers.filter(o=>o.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ns(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function j_(n){const{app:t}=n,e=Er(t);let r=e.tokenRefresher;r||(r=function J0(n){const{app:t}=n;return new tI((0,vr.Z)(function*(){let r;if(r=Er(t).token?yield og(n,!0):yield og(n),r.error)throw r.error}),()=>!0,()=>{const e=Er(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Ns(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function H_(n,t){const e=Er(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}function Zh(n){return n.expireTimeMillis-Date.now()>0}function dI(n){return{token:sg(xa),error:n}}class hI{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Er(this.app);for(const e of t)qh(this.app,e.next);return Promise.resolve()}}const oE="app-check-internal";!function wI(){(0,xs._registerComponent)(new Fo.wA("app-check",n=>function fI(n,t){return new hI(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(oE).initialize()})),(0,xs._registerComponent)(new Fo.wA(oE,n=>function pI(n){return{getToken:t=>og(n,t),addTokenListener:t=>function Q0(n,t,e,r){const{app:o}=n,u=Er(o),h={next:e,error:r,type:t};if(Ns(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,h]})),u.token&&Zh(u.token)){const m=u.token;Promise.resolve().then(()=>{e({token:m.token}),j_(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>j_(n))}(n,"INTERNAL",t),removeTokenListener:t=>qh(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,xs.registerVersion)("@firebase/app-check","0.5.8")}();class lg{constructor(){return(0,bn.vb)("app-check")}}typeof window<"u"&&window;var Nl=x(127);const Bu=new c.OlP("angularfire2.auth.use-emulator"),ju=new c.OlP("angularfire2.auth.settings"),Hu=new c.OlP("angularfire2.auth.tenant-id"),$u=new c.OlP("angularfire2.auth.langugage-code"),Gu=new c.OlP("angularfire2.auth.use-device-language"),Wu=new c.OlP("angularfire.auth.persistence"),zu=(n,t,e,r,o,u,h,m)=>(0,$r.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=t.runOutsideAngular(()=>n.auth());if(e&&E.useEmulator(...e),r&&(E.tenantId=r),E.languageCode=o,u&&E.useDeviceLanguage(),h)for(const[D,k]of Object.entries(h))E.settings[D]=k;return m&&E.setPersistence(m),E},[e,r,o,u,h,m]);let dd=(()=>{class n{constructor(e,r,o,u,h,m,E,D,k,N,oe,ve){const Oe=new Or.x,$e=At(void 0).pipe((0,id.Q)(h.outsideAngular),xr(()=>u.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,8775)))),(0,Ut.U)(()=>(0,$r.on)(e,u,r)),(0,Ut.U)(et=>zu(et,u,m,D,k,N,E,oe)),GC({bufferSize:1,refCount:!1}));if(function Tr(n){return"server"===n}(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=At(null);else{$e.pipe(ko()).subscribe();const _t=$e.pipe(xr(pt=>pt.getRedirectResult().then(Nn=>Nn,()=>null)),bn.iC,GC({bufferSize:1,refCount:!1})),vt=$e.pipe(xr(pt=>new Vn.y(Nn=>({unsubscribe:u.runOutsideAngular(()=>pt.onAuthStateChanged(jn=>Nn.next(jn),jn=>Nn.error(jn),()=>Nn.complete()))})))),Nt=$e.pipe(xr(pt=>new Vn.y(Nn=>({unsubscribe:u.runOutsideAngular(()=>pt.onIdTokenChanged(jn=>Nn.next(jn),jn=>Nn.error(jn),()=>Nn.complete()))}))));this.authState=_t.pipe(zp(vt),(0,T_.R)(h.outsideAngular),(0,id.Q)(h.insideAngular)),this.user=_t.pipe(zp(Nt),(0,T_.R)(h.outsideAngular),(0,id.Q)(h.insideAngular)),this.idToken=this.user.pipe(xr(pt=>pt?(0,dn.D)(pt.getIdToken()):At(null))),this.idTokenResult=this.user.pipe(xr(pt=>pt?(0,dn.D)(pt.getIdTokenResult()):At(null))),this.credential=(0,D_.T)(_t,Oe,this.authState.pipe(sd(pt=>!pt))).pipe((0,Ut.U)(pt=>pt?.user?pt:null),(0,T_.R)(h.outsideAngular),(0,id.Q)(h.insideAngular))}return(0,$r.pX)(this,$e,u,{spy:{apply:(et,_t,vt)=>{(et.startsWith("signIn")||et.startsWith("createUser"))&&vt.then(Nt=>Oe.next(Nt))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG($r.Dh),c.LFG($r.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(bn.HU),c.LFG(Bu,8),c.LFG(ju,8),c.LFG(Hu,8),c.LFG($u,8),c.LFG(Gu,8),c.LFG(Wu,8),c.LFG(lg,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),uE=(()=>{class n{constructor(){Nl.Z.registerVersion("angularfire",bn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[dd]}),n})();var J_=x(4986),X_=x(3942);const ey="firebasestorage.googleapis.com",ty="storageBucket";class Kn extends Z.ZR{constructor(t,e){super(ug(t),`Firebase Storage: ${e} (${ug(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kn.prototype)}_codeEquals(t){return ug(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function ug(n){return"storage/"+n}function ny(){return new Kn("unknown","An unknown error occurred, please check the error payload for server response.")}function hg(){return new Kn("canceled","User canceled the upload/download.")}function sy(){return new Kn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function qu(n){return new Kn("invalid-argument",n)}function ay(){return new Kn("app-deleted","The Firebase app was deleted.")}function gg(n){return new Kn("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hd(n,t){return new Kn("invalid-format","String does not match format '"+n+"': "+t)}function Qh(n){throw new Kn("internal-error","Internal error: "+n)}class Nr{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=Nr.makeFromUrl(t,e)}catch{return new Nr(t,"")}if(""===r.path)return r;throw function fg(n){return new Kn("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let r=null;const o="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+o+"(/(.*))?$","i");function D(pt){pt.path_=decodeURIComponent(pt.path)}const N=e.replace(/[.]/g,"\\."),Nt=[{regex:m,indices:{bucket:1,path:3},postModify:function u(pt){"/"===pt.path.charAt(pt.path.length-1)&&(pt.path_=pt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${N}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:D},{regex:new RegExp(`^https?://${e===ey?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:D}];for(let pt=0;pt<Nt.length;pt++){const Nn=Nt[pt],jn=Nn.regex.exec(t);if(jn){let Gi=jn[Nn.indices.path];Gi||(Gi=""),r=new Nr(jn[Nn.indices.bucket],Gi),Nn.postModify(r);break}}if(null==r)throw function II(n){return new Kn("invalid-url","Invalid URL '"+n+"'.")}(t);return r}}class gE{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Jh(n){return"string"==typeof n||n instanceof String}function mg(n){return _g()&&n instanceof Blob}function _g(){return typeof Blob<"u"}function yg(n,t,e,r){if(r<t)throw qu(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw qu(`Invalid value for '${n}'. Expected ${e} or less.`)}function Uo(n,t,e){let r=t;return null==e&&(r=`https://${t}`),`${e}://${r}/v0${n}`}function uy(n){const t=encodeURIComponent;let e="?";for(const r in n)n.hasOwnProperty(r)&&(e=e+(t(r)+"=")+t(n[r])+"&");return e=e.slice(0,-1),e}var Fa=(()=>{return(n=Fa||(Fa={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",Fa;var n})();class _E{constructor(t,e,r,o,u,h,m,E,D,k,N){this.url_=t,this.method_=e,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=E,this.timeout_=D,this.progressCallback_=k,this.connectionFactory_=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((oe,ve)=>{this.resolve_=oe,this.reject_=ve,this.start_()})}start_(){const e=(r,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const E=this.callback_(m,m.getResponse());!function DI(n){return void 0!==n}(E)?u():u(E)}catch(E){h(E)}else if(null!==m){const E=ny();E.serverResponse=m.getErrorText(),h(this.errorCallback_?this.errorCallback_(m,E):E)}else h(o.canceled?this.appDelete_?ay():hg():function dg(){return new Kn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new Xh(!1,null,!0)):this.backoffId_=function ly(n,t,e){let r=1,o=null,u=null,h=!1,m=0;function E(){return 2===m}let D=!1;function k(...et){D||(D=!0,t.apply(null,et))}function N(et){o=setTimeout(()=>{o=null,n(ve,E())},et)}function oe(){u&&clearTimeout(u)}function ve(et,..._t){if(D)return void oe();if(et)return oe(),void k.call(null,et,..._t);if(E()||h)return oe(),void k.call(null,et,..._t);let Nt;r<64&&(r*=2),1===m?(m=2,Nt=0):Nt=1e3*(r+Math.random()),N(Nt)}let Oe=!1;function $e(et){Oe||(Oe=!0,oe(),!D&&(null!==o?(et||(m=2),clearTimeout(o),N(0)):et||(m=1)))}return N(0),u=setTimeout(()=>{h=!0,$e(!0)},e),$e}((r,o)=>{if(o)return void r(!1,new Xh(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Fa.NO_ERROR,E=u.getStatus();if(!m||this.isRetryStatusCode_(E)){const k=u.getErrorCode()===Fa.ABORT;return void r(!1,new Xh(!1,null,k))}const D=-1!==this.successCodes_.indexOf(E);r(!0,new Xh(D,u))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function mE(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,o=-1!==[408,429].indexOf(t),u=-1!==this.additionalRetryCodes_.indexOf(t);return e||o||u}}class Xh{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function ur(...n){const t=function RI(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let r=0;r<n.length;r++)e.append(n[r]);return e.getBlob()}if(_g())return new Blob(n);throw new Kn("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Vi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vg{constructor(t,e){this.data=t,this.contentType=e||null}}function cy(n,t){switch(n){case Vi.RAW:return new vg(dy(t));case Vi.BASE64:case Vi.BASE64URL:return new vg(Zu(n,t));case Vi.DATA_URL:return new vg(function OI(n){const t=new bE(n);return t.base64?Zu(Vi.BASE64,t.rest):function wE(n){let t;try{t=decodeURIComponent(n)}catch{throw hd(Vi.DATA_URL,"Malformed data URL.")}return dy(t)}(t.rest)}(t),function CE(n){return new bE(n).contentType}(t))}throw ny()}function dy(n){const t=[];for(let e=0;e<n.length;e++){let r=n.charCodeAt(e);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++e),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Zu(n,t){switch(n){case Vi.BASE64:{const o=-1!==t.indexOf("-"),u=-1!==t.indexOf("_");if(o||u)throw hd(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Vi.BASE64URL:{const o=-1!==t.indexOf("+"),u=-1!==t.indexOf("/");if(o||u)throw hd(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function PI(n){return atob(n)}(t)}catch{throw hd(n,"Invalid character found")}const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}class bE{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw hd(Vi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=e[1]||null;null!=r&&(this.base64=function xI(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}class Ls{constructor(t,e){let r=0,o="";mg(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,e){if(mg(this.data_)){const o=function EE(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===o?null:new Ls(o)}{const r=new Uint8Array(this.data_.buffer,t,e-t);return new Ls(r,!0)}}static getBlob(...t){if(_g()){const e=t.map(r=>r instanceof Ls?r.data_:r);return new Ls(ur.apply(null,e))}{const e=t.map(h=>Jh(h)?cy(Vi.RAW,h).data:h.data_);let r=0;e.forEach(h=>{r+=h.byteLength});const o=new Uint8Array(r);let u=0;return e.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new Ls(o,!0)}}uploadData(){return this.data_}}function IE(n){let t;try{t=JSON.parse(n)}catch{return null}return function SI(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function Us(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function NI(n,t){return t}class zr{constructor(t,e,r,o){this.server=t,this.local=e||t,this.writable=!!r,this.xform=o||NI}}let Bi=null;function si(){if(Bi)return Bi;const n=[];n.push(new zr("bucket")),n.push(new zr("generation")),n.push(new zr("metageneration")),n.push(new zr("name","fullPath",!0));const e=new zr("name");e.xform=function t(u,h){return function Vs(n){return!Jh(n)||n.length<2?n:Us(n)}(h)},n.push(e);const o=new zr("size");return o.xform=function r(u,h){return void 0!==h?Number(h):h},n.push(o),n.push(new zr("timeCreated")),n.push(new zr("updated")),n.push(new zr("md5Hash",null,!0)),n.push(new zr("cacheControl",null,!0)),n.push(new zr("contentDisposition",null,!0)),n.push(new zr("contentEncoding",null,!0)),n.push(new zr("contentLanguage",null,!0)),n.push(new zr("contentType",null,!0)),n.push(new zr("metadata","customMetadata",!0)),Bi=n,Bi}function SE(n,t,e){const r=IE(t);return null===r?null:function TE(n,t,e){const r={type:"file"},o=e.length;for(let u=0;u<o;u++){const h=e[u];r[h.local]=h.xform(r,t[h.server])}return function DE(n,t){Object.defineProperty(n,"ref",{get:function e(){const u=new Nr(n.bucket,n.fullPath);return t._makeStorageReference(u)}})}(r,n),r}(n,r,e)}function py(n,t){const e={},r=t.length;for(let o=0;o<r;o++){const u=t[o];u.writable&&(e[u.server]=n[u.local])}return JSON.stringify(e)}const AE="prefixes";class Bs{constructor(t,e,r,o){this.url=t,this.method=e,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Vo(n){if(!n)throw ny()}function tf(n,t){return function e(r,o){const u=SE(n,o,t);return Vo(null!==u),u}}function fd(n){return function t(e,r){let o;return o=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function CI(){return new Kn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function iy(){return new Kn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function ry(n){return new Kn("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function cg(n){return new Kn("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,o.serverResponse=r.serverResponse,o}}function pd(n){const t=fd(n);return function e(r,o){let u=t(r,o);return 404===r.getStatus()&&(u=function fE(n){return new Kn("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=o.serverResponse,u}}function gy(n,t,e){const o=Uo(t.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,m=new Bs(o,"GET",tf(n,e),h);return m.errorHandler=pd(t),m}function my(n,t,e,r,o){const u={};u.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(u.delimiter=e),r&&(u.pageToken=r),o&&(u.maxResults=o);const m=Uo(t.bucketOnlyServerUrl(),n.host,n._protocol),D=n.maxOperationRetryTime,k=new Bs(m,"GET",function ME(n,t){return function e(r,o){const u=function FI(n,t,e){const r=IE(e);return null===r?null:function ef(n,t,e){const r={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[AE])for(const o of e[AE]){const u=o.replace(/\/$/,""),h=n._makeStorageReference(new Nr(t,u));r.prefixes.push(h)}if(e.items)for(const o of e.items){const u=n._makeStorageReference(new Nr(t,o.name));r.items.push(u)}return r}(n,t,r)}(n,t,o);return Vo(null!==u),u}}(n,t.bucket),D);return k.urlParams=u,k.errorHandler=fd(t),k}function _y(n,t,e){const r=Object.assign({},e);return r.fullPath=n.path,r.size=t.size(),r.contentType||(r.contentType=function xE(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}class rf{constructor(t,e,r,o){this.current=t,this.total=e,this.finalized=!!r,this.metadata=o||null}}function bg(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Vo(!1)}return Vo(!!e&&-1!==(t||["active"]).indexOf(e)),e}const BI={STATE_CHANGED:"state_changed"},oi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function vy(n){switch(n){case"running":case"pausing":case"canceling":return oi.RUNNING;case"paused":return oi.PAUSED;case"success":return oi.SUCCESS;case"canceled":return oi.CANCELED;default:return oi.ERROR}}class jI{constructor(t,e,r){if(function TI(n){return"function"==typeof n}(t)||null!=e||null!=r)this.next=t,this.error=e??void 0,this.complete=r??void 0;else{const u=t;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function gd(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class $I extends class HI{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fa.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fa.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fa.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,r,o){if(this.sent_)throw Qh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==o)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function js(){return new $I}class FE{constructor(t,e,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=r,this._mappings=si(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,r])=>{switch(this._state){case"running":t(e,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const r=function LI(n,t,e,r,o){const u=t.bucketOnlyServerUrl(),h=_y(t,r,o),m={name:h.fullPath},E=Uo(u,n.host,n._protocol),k={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},N=py(h,e),Oe=new Bs(E,"POST",function ve($e){let et;bg($e);try{et=$e.getResponseHeader("X-Goog-Upload-URL")}catch{Vo(!1)}return Vo(Jh(et)),et},n.maxUploadRetryTime);return Oe.urlParams=m,Oe.headers=k,Oe.body=N,Oe.errorHandler=fd(t),Oe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,js,t,e);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,r)=>{const o=function UI(n,t,e,r){const E=new Bs(e,"POST",function u(D){const k=bg(D,["active","final"]);let N=null;try{N=D.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Vo(!1)}N||Vo(!1);const oe=Number(N);return Vo(!isNaN(oe)),new rf(oe,r.size(),"final"===k)},n.maxUploadRetryTime);return E.headers={"X-Goog-Upload-Command":"query"},E.errorHandler=fd(t),E}(this._ref.storage,this._ref._location,t,this._blob),u=this._ref.storage._makeRequest(o,js,e,r);this._request=u,u.getPromise().then(h=>{this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new rf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,u)=>{let h;try{h=function VI(n,t,e,r,o,u,h,m){const E=new rf(0,0);if(h?(E.current=h.current,E.total=h.total):(E.current=0,E.total=r.size()),r.size()!==E.total)throw function pE(){return new Kn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const D=E.total-E.current;let k=D;o>0&&(k=Math.min(k,o));const N=E.current,Oe={"X-Goog-Upload-Command":k===D?"upload, finalize":"upload","X-Goog-Upload-Offset":`${E.current}`},$e=r.slice(N,N+k);if(null===$e)throw sy();const Nt=new Bs(e,"POST",function et(pt,Nn){const jn=bg(pt,["active","final"]),kr=E.current+k,Gi=r.size();let zs;return zs="final"===jn?tf(t,u)(pt,Nn):null,new rf(kr,Gi,"final"===jn,zs)},t.maxUploadRetryTime);return Nt.headers=Oe,Nt.body=$e.uploadData(),Nt.progressCallback=m||null,Nt.errorHandler=fd(n),Nt}(this._ref._location,this._ref.storage,r,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(E){return this._error=E,void this._transition("error")}const m=this._ref.storage._makeRequest(h,js,o,u);this._request=m,m.getPromise().then(E=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(E.current),E.finalized?(this._metadata=E.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const r=gy(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,js,t,e);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const r=function yy(n,t,e,r,o){const u=t.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},E=function m(){let Nt="";for(let pt=0;pt<2;pt++)Nt+=Math.random().toString().slice(2);return Nt}();h["Content-Type"]="multipart/related; boundary="+E;const D=_y(t,r,o),k=py(D,e),ve=Ls.getBlob("--"+E+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+k+"\r\n--"+E+"\r\nContent-Type: "+D.contentType+"\r\n\r\n",r,"\r\n--"+E+"--");if(null===ve)throw sy();const Oe={name:D.fullPath},$e=Uo(u,n.host,n._protocol),_t=n.maxUploadRetryTime,vt=new Bs($e,"POST",tf(n,e),_t);return vt.urlParams=Oe,vt.headers=h,vt.body=ve.uploadData(),vt.errorHandler=fd(t),vt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,js,t,e);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=hg(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=vy(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,r,o){const u=new jI(e||void 0,r||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(vy(this._state)){case oi.SUCCESS:gd(this._resolve.bind(null,this.snapshot))();break;case oi.CANCELED:case oi.ERROR:gd(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(vy(this._state)){case oi.RUNNING:case oi.PAUSED:t.next&&gd(t.next.bind(t,this.snapshot))();break;case oi.SUCCESS:t.complete&&gd(t.complete.bind(t))();break;default:t.error&&gd(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class kl{constructor(t,e){this._service=t,this._location=e instanceof Nr?e:Nr.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new kl(t,e)}get root(){const t=new Nr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Us(this._location.path)}get storage(){return this._service}get parent(){const t=function hy(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Nr(this._location.bucket,t);return new kl(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw gg(t)}}function wy(n,t,e){return Cg.apply(this,arguments)}function Cg(){return(Cg=(0,vr.Z)(function*(n,t,e){const o=yield by(n,{pageToken:e});t.prefixes.push(...o.prefixes),t.items.push(...o.items),null!=o.nextPageToken&&(yield wy(n,t,o.nextPageToken))})).apply(this,arguments)}function by(n,t){null!=t&&"number"==typeof t.maxResults&&yg("options.maxResults",1,1e3,t.maxResults);const e=t||{},r=my(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(r,js)}function ZI(n){n._throwIfRoot("getDownloadURL");const t=function RE(n,t,e){const o=Uo(t.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,m=new Bs(o,"GET",function wg(n,t){return function e(r,o){const u=SE(n,o,t);return Vo(null!==u),function kI(n,t,e,r){const o=IE(t);if(null===o||!Jh(o.downloadTokens))return null;const u=o.downloadTokens;if(0===u.length)return null;const h=encodeURIComponent;return u.split(",").map(D=>{const N=n.fullPath;return Uo("/b/"+h(n.bucket)+"/o/"+h(N),e,r)+uy({alt:"media",token:D})})[0]}(u,o,n.host,n._protocol)}}(n,e),h);return m.errorHandler=pd(t),m}(n.storage,n._location,si());return n.storage.makeRequestWithTokens(t,js).then(e=>{if(null===e)throw function oy(){return new Kn("no-download-url","The given file does not have any download URLs.")}();return e})}function Yu(n,t){const e=function fy(n,t){const e=t.split("/").filter(r=>r.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),r=new Nr(n._location.bucket,e);return new kl(n.storage,r)}function YI(n,t){if(n instanceof bt){const e=n;if(null==e._bucket)throw function pg(){return new Kn("no-default-bucket","No default bucket found. Did you set the '"+ty+"' property when initializing the app?")}();const r=new kl(e,e._bucket);return null!=t?YI(r,t):r}return void 0!==t?Yu(n,t):n}function HE(n,t){if(t&&function SS(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof bt)return function Iy(n,t){return new kl(n,t)}(n,t);throw qu("To use ref(service, url), the first argument must be a Storage instance.")}return YI(n,t)}function Dy(n,t){const e=t?.[ty];return null==e?null:Nr.makeFromBucketSpec(e,n)}class bt{constructor(t,e,r,o,u){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=ey,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?Nr.makeFromBucketSpec(o,this._host):Dy(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Nr.makeFromBucketSpec(this._url,t):Dy(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){yg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){yg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,vr.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const r=yield e.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,vr.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new kl(this,t)}_makeRequest(t,e,r,o){if(this._deleted)return new gE(ay());{const u=function vE(n,t,e,r,o,u){const h=uy(n.urlParams),m=n.url+h,E=Object.assign({},n.headers);return function AI(n,t){t&&(n["X-Firebase-GMPID"]=t)}(E,t),function yE(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(E,e),function TS(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(E,u),function MI(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(E,r),new _E(m,n.method,E,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(t,this._appId,r,o,e,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(t,e){var r=this;return(0,vr.Z)(function*(){const[o,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(t,e,o,u).getPromise()})()}}const $E="@firebase/storage";function Sy(n,t){return HE(n=(0,Z.m9)(n),t)}function af(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new bt(e,r,o,t,xs.SDK_VERSION)}!function eD(){(0,xs._registerComponent)(new Fo.wA("storage",af,"PUBLIC").setMultipleInstances(!0)),(0,xs.registerVersion)($E,"0.9.6",""),(0,xs.registerVersion)($E,"0.9.6","esm2017")}();class Dg{constructor(t,e,r){this._delegate=t,this.task=e,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class YE{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Dg(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(r=>{if(t)return t(new Dg(r,this,this._ref))},e)}on(t,e,r,o){let u;return e&&(u="function"==typeof e?h=>e(new Dg(h,this,this._ref)):{next:e.next?h=>e.next(new Dg(h,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,u,r||void 0,o||void 0)}}class lf{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Bo(t,this._service))}get items(){return this._delegate.items.map(t=>new Bo(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Bo{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function KE(n,t){return Yu(n,t)}(this._delegate,t);return new Bo(e,this.storage)}get root(){return new Bo(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Bo(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new YE(function Ig(n,t,e){return function VE(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new FE(n,new Ls(t),e)}(n=(0,Z.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Vi.RAW,r){this._throwIfRoot("putString");const o=cy(e,t),u=Object.assign({},r);return null==u.contentType&&null!=o.contentType&&(u.contentType=o.contentType),new YE(new FE(this._delegate,new Ls(o.data,!0),u),this)}listAll(){return function qE(n){return function jE(n){const t={prefixes:[],items:[]};return wy(n,t).then(()=>t)}(n=(0,Z.m9)(n))}(this._delegate).then(t=>new lf(t,this.storage))}list(t){return function zE(n,t){return by(n=(0,Z.m9)(n),t)}(this._delegate,t||void 0).then(e=>new lf(e,this.storage))}getMetadata(){return function Yn(n){return function Cy(n){n._throwIfRoot("getMetadata");const t=gy(n.storage,n._location,si());return n.storage.makeRequestWithTokens(t,js)}(n=(0,Z.m9)(n))}(this._delegate)}updateMetadata(t){return function RS(n,t){return function Ku(n,t){n._throwIfRoot("updateMetadata");const e=function PE(n,t,e,r){const u=Uo(t.fullServerUrl(),n.host,n._protocol),m=py(e,r),D=n.maxOperationRetryTime,k=new Bs(u,"PATCH",tf(n,r),D);return k.headers={"Content-Type":"application/json; charset=utf-8"},k.body=m,k.errorHandler=pd(t),k}(n.storage,n._location,t,si());return n.storage.makeRequestWithTokens(e,js)}(n=(0,Z.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function QI(n){return ZI(n=(0,Z.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function ZE(n){return function KI(n){n._throwIfRoot("deleteObject");const t=function OE(n,t){const r=Uo(t.fullServerUrl(),n.host,n._protocol),m=new Bs(r,"DELETE",function h(E,D){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=pd(t),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,js)}(n=(0,Z.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw gg(t)}}class Ay{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(My(t))throw qu("ref() expected a child path but got a URL, use refFromURL instead.");return new Bo(Sy(this._delegate,t),this)}refFromURL(t){if(!My(t))throw qu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Nr.makeFromUrl(t,this._delegate.host)}catch{throw qu("refFromUrl() expected a valid full URL but got an invalid one.")}return new Bo(Sy(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,r={}){!function XI(n,t,e,r={}){!function AS(n,t,e,r={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,Z.Sg)(o,n.app.options.projectId))}(n,t,e,r)}(this._delegate,t,e,r)}}function My(n){return/^[A-Za-z]+:\/\//.test(n)}function nD(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:t});return new Ay(e,r)}function Ry(n){const t=function iD(n){return new Vn.y(t=>{const e=h=>t.next(h);e(n.snapshot);const u=n.on("state_changed",e);return n.then(h=>{e(h),t.complete()},h=>{e(n.snapshot),(h=>{t.error(h)})(h)}),function(){u()}}).pipe(function cE(n,t=J_.z){return(0,gi.e)((e,r)=>{let o=null,u=null,h=null;const m=()=>{if(o){o.unsubscribe(),o=null;const D=u;u=null,r.next(D)}};function E(){const D=h+n,k=t.now();if(k<D)return o=this.schedule(void 0,D-k),void r.add(o);m()}e.subscribe((0,on.x)(r,D=>{u=D,h=t.now(),o||(o=t.schedule(E,n),r.add(o))},()=>{m(),r.complete()},void 0,()=>{u=o=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Ut.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function df(n){return{getDownloadURL:()=>At(void 0).pipe(bn.fc,xr(()=>n.getDownloadURL()),bn.iC),getMetadata:()=>At(void 0).pipe(bn.fc,xr(()=>n.getMetadata()),bn.iC),delete:()=>(0,dn.D)(n.delete()),child:t=>df(n.child(t)),updateMetadata:t=>(0,dn.D)(n.updateMetadata(t)),put:(t,e)=>Ry(n.put(t,e)),putString:(t,e,r)=>Ry(n.putString(t,e,r)),list:t=>(0,dn.D)(n.list(t)),listAll:()=>(0,dn.D)(n.listAll())}}!function rD(n){const t={TaskState:oi,TaskEvent:BI,StringFormat:Vi,Storage:Ay,Reference:Bo};n.INTERNAL.registerComponent(new Fo.wA("storage-compat",nD,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.14")}(X_.Z);const QE=new c.OlP("angularfire2.storageBucket"),sD=new c.OlP("angularfire2.storage.maxUploadRetryTime"),JE=new c.OlP("angularfire2.storage.maxOperationRetryTime"),oD=new c.OlP("angularfire2.storage.use-emulator");let Py=(()=>{class n{constructor(e,r,o,u,h,m,E,D,k,N){const oe=(0,$r.on)(e,h,r);this.storage=(0,$r.cc)(`${oe.name}.storage.${o}`,"AngularFireStorage",oe.name,()=>{const ve=h.runOutsideAngular(()=>oe.storage(o||void 0)),Oe=k;return Oe&&ve.useEmulator(...Oe),E&&ve.setMaxUploadRetryTime(E),D&&ve.setMaxOperationRetryTime(D),ve},[E,D])}ref(e){return df(this.storage.ref(e))}refFromURL(e){return df(this.storage.refFromURL(e))}upload(e,r,o){return df(this.storage.ref(e)).put(r,o)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG($r.Dh),c.LFG($r.xv,8),c.LFG(QE,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(bn.HU),c.LFG(sD,8),c.LFG(JE,8),c.LFG(oD,8),c.LFG(lg,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),xS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),NS=(()=>{class n{constructor(){Nl.Z.registerVersion("angularfire",bn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Py],imports:[xS]}),n})();function kS(n,t,e,r,o){return(u,h)=>{let m=e,E=t,D=0;u.subscribe((0,on.x)(h,k=>{const N=D++;E=m?n(E,k,N):(m=!0,k),r&&h.next(E)},o&&(()=>{m&&h.next(E),h.complete()})))}}function hf(n,t){return(0,gi.e)(kS(n,t,arguments.length>=2,!0))}function aD(n,t){return n===t}var lD=x(5032);x(8775);const ew="@firebase/database";let Oy="";function nw(n){Oy=n}class rw{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,Z.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,Z.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class uD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,Z.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const iw=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new rw(t)}}catch{}return new uD},cs=iw("localStorage"),xy=iw("sessionStorage"),Qu=new $h.Yd("@firebase/database"),sw=function(){let n=1;return function(){return n++}}(),Ny=function(n){const t=(0,Z.dS)(n),e=new Z.gQ;e.update(t);const r=e.digest();return Z.US.encodeByteArray(r)},pf=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=pf.apply(null,r):t+="object"==typeof r?(0,Z.Pz)(r):r,t+=" "}return t};let Fl=null,ow=!0;const Sg=function(n,t){(0,Z.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Qu.logLevel=$h.in.VERBOSE,Fl=Qu.log.bind(Qu),t&&xy.set("logging_enabled",!0)):"function"==typeof n?Fl=n:(Fl=null,xy.remove("logging_enabled"))},wr=function(...n){if(!0===ow&&(ow=!1,null===Fl&&!0===xy.get("logging_enabled")&&Sg(!0)),Fl){const t=pf.apply(null,n);Fl(t)}},md=function(n){return function(...t){wr(n,...t)}},Ag=function(...n){const t="FIREBASE INTERNAL ERROR: "+pf(...n);Qu.error(t)},jo=function(...n){const t=`FIREBASE FATAL ERROR: ${pf(...n)}`;throw Qu.error(t),new Error(t)},qr=function(...n){const t="FIREBASE WARNING: "+pf(...n);Qu.warn(t)},_d=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ho="[MIN_NAME]",$o="[MAX_NAME]",Ju=function(n,t){if(n===t)return 0;if(n===Ho||t===$o)return-1;if(t===Ho||n===$o)return 1;{const e=Mg(n),r=Mg(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},hD=function(n,t){return n===t?0:n<t?-1:1},gf=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,Z.Pz)(t))},ky=function(n){if("object"!=typeof n||null===n)return(0,Z.Pz)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,Z.Pz)(t[r]),e+=":",e+=ky(n[t[r]]);return e+="}",e},aw=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let o=0;o<e;o+=t)r.push(n.substring(o,o+t>e?e:o+t));return r};function br(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const lw=function(n){(0,Z.hu)(!_d(n),"Invalid JSON number");const r=1023;let o,u,h,m,E;0===n?(u=0,h=0,o=1/n==-1/0?1:0):(o=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),r),u=m+r,h=Math.round(n*Math.pow(2,52-m)-Math.pow(2,52))):(u=0,h=Math.round(n/Math.pow(2,-1074))));const D=[];for(E=52;E;E-=1)D.push(h%2?1:0),h=Math.floor(h/2);for(E=11;E;E-=1)D.push(u%2?1:0),u=Math.floor(u/2);D.push(o?1:0),D.reverse();const k=D.join("");let N="";for(E=0;E<64;E+=8){let oe=parseInt(k.substr(E,8),2).toString(16);1===oe.length&&(oe="0"+oe),N+=oe}return N.toLowerCase()},pD=new RegExp("^-?(0*)\\d{1,10}$"),Fy=-2147483648,Ly=2147483647,Mg=function(n){if(pD.test(n)){const t=Number(n);if(t>=Fy&&t<=Ly)return t}return null},yd=function(n){try{n()}catch(t){setTimeout(()=>{throw qr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Xu=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class dw{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){qr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Vy{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(wr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qr(t)}}let mf=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const jy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ll="websocket",Hy="long_polling";class $y{constructor(t,e,r,o,u=!1,h="",m=!1){this.secure=e,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=cs.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&cs.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function mw(n,t,e){let r;if((0,Z.hu)("string"==typeof t,"typeof type must == string"),(0,Z.hu)("object"==typeof e,"typeof params must == object"),t===Ll)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Hy)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function gw(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const o=[];return br(e,(u,h)=>{o.push(u+"="+h)}),r+o.join("&")}class vd{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,Z.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,Z.p$)(this.counters_)}}const tc={},Gy={};function _w(n){const t=n.toString();return tc[t]||(tc[t]=new vd),tc[t]}class mD{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&yd(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ul{constructor(t,e,r,o,u,h,m){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=md(t),this.stats_=_w(e),this.urlFn=E=>(this.appCheckToken&&(E.ac=this.appCheckToken),mw(e,Hy,E))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new mD(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,Z.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ng((...u)=>{const[h,m,E,D,k]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=m,this.password=E;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[h,m]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&jy.test(location.hostname)&&(r.r="f");const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ul.forceAllow_=!0}static forceDisallow(){Ul.forceDisallow_=!0}static isAvailable(){return!((0,Z.Yr)()||!Ul.forceAllow_&&(Ul.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,Z.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,Z.h$)(e),o=aw(r,1840);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,Z.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,Z.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Ng{constructor(t,e,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Z.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=sw(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Ng.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){wr("frame writing exception"),m.stack&&wr(m.stack),wr(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||wr("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const h=this.pendingSegs.shift();r=r+"&seg"+o+"="+h.seg+"&ts"+o+"="+h.ts+"&d"+o+"="+h.d,o++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(o),r()})}addTag(t,e){(0,Z.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||"loaded"===o||"complete"===o)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{wr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Ed=null;typeof MozWebSocket<"u"?Ed=MozWebSocket:typeof WebSocket<"u"&&(Ed=WebSocket);let wd=(()=>{class n{constructor(e,r,o,u,h,m,E){this.connId=e,this.applicationId=o,this.appCheckToken=u,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=md(this.connId),this.stats_=_w(r),this.connURL=n.connectionURL_(r,m,E,u,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,o,u,h){const m={v:"5"};return!(0,Z.Yr)()&&typeof location<"u"&&location.hostname&&jy.test(location.hostname)&&(m.r="f"),r&&(m.s=r),o&&(m.ls=o),u&&(m.ac=u),h&&(m.p=h),mw(e,Ll,m)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,cs.set("previous_websocket_failure",!0);try{let o;if((0,Z.Yr)()){const h={headers:{"User-Agent":`Firebase/5/${Oy}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(h.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(h.headers["X-Firebase-AppCheck"]=this.appCheckToken);const m=process.env,E=0===this.connURL.indexOf("wss://")?m.HTTPS_PROXY||m.https_proxy:m.HTTP_PROXY||m.http_proxy;E&&(h.proxy={origin:E})}this.mySock=new Ed(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const u=o.message||o.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==Ed&&!n.forceDisallow_}static previouslyFailed(){return cs.isInMemoryStorage||!0===cs.get("previous_websocket_failure")}markConnectionHealthy(){cs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=(0,Z.cI)(r);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,Z.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const r=(0,Z.Pz)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=aw(r,16384);o.length>1&&this.sendString_(String(o.length));for(let u=0;u<o.length;u++)this.sendString_(o[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Cw=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ul,wd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=wd&&wd.isAvailable();let o=r&&!wd.previouslyFailed();if(e.webSocketOnly&&(r||qr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[wd];else{const u=this.transports_=[];for(const h of n.ALL_TRANSPORTS)h&&h.isAvailable()&&u.push(h);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Yy{constructor(t,e,r,o,u,h,m,E,D,k){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=E,this.onKill_=D,this.lastSessionId=k,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=md("c:"+this.id+":"),this.transportManager_=new Cw(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Xu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=gf("t",t),r=gf("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=gf("t",t),r=gf("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=gf("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?Ag("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ag("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&qr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Xu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(cs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Qy{put(t,e,r,o){}merge(t,e,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class Jy{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,Z.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const o=this.getInitialEvent(t);o&&e.apply(r,o)}off(t,e,r){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let u=0;u<o.length;u++)if(o[u].callback===e&&(!r||r===o[u].context))return void o.splice(u,1)}validateEventType_(t){(0,Z.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class vf extends Jy{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Z.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new vf}getInitialEvent(t){return(0,Z.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class ln{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function tn(){return new ln("")}function Wt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Vl(n){return n.pieces_.length-n.pieceNum_}function vn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new ln(n.pieces_,t)}function nc(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function rc(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Hs(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new ln(t,0)}function xn(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof ln)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&e.push(r[o])}return new ln(e,0)}function jt(n){return n.pieceNum_>=n.pieces_.length}function cr(n,t){const e=Wt(n),r=Wt(t);if(null===e)return t;if(e===r)return cr(vn(n),vn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function PD(n,t){const e=rc(n,0),r=rc(t,0);for(let o=0;o<e.length&&o<r.length;o++){const u=Ju(e[o],r[o]);if(0!==u)return u}return e.length===r.length?0:e.length<r.length?-1:1}function Xy(n,t){if(Vl(n)!==Vl(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function ds(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(Vl(n)>Vl(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class kg{constructor(t,e){this.errorPrefix_=e,this.parts_=rc(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,Z.ug)(this.parts_[r]);Pw(this)}}function Pw(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Bl(n))}function Bl(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Lg extends Jy{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Lg}getInitialEvent(t){return(0,Z.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const ic=1e3;let Vg,La=(()=>{class n extends Qy{constructor(e,r,o,u,h,m,E,D){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=u,this.onServerInfoUpdate_=h,this.authTokenProvider_=m,this.appCheckTokenProvider_=E,this.authOverride_=D,this.id=n.nextPersistentConnectionId_++,this.log_=md("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ic,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,D&&!(0,Z.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Lg.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&vf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,o){const u=++this.requestNumber_,h={r:u,a:e,b:r};this.log_((0,Z.Pz)(h)),(0,Z.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),o&&(this.requestCBHash_[u]=o)}get(e){this.initConnection_();const r=new Z.BH,o={p:e._path.toString(),q:e._queryObject},u={action:"g",request:o,onComplete:m=>{const E=m.d;"ok"===m.s?(this.onDataUpdate_(o.p,E,!1,null),r.resolve(E)):r.reject(E)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const m=this.outstandingGets_[h];void 0===m||u!==m||(delete this.outstandingGets_[h],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+h+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(h),r.promise}listen(e,r,o,u){this.initConnection_();const h=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+h),this.listens.has(m)||this.listens.set(m,new Map),(0,Z.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Z.hu)(!this.listens.get(m).has(h),"listen() called twice for same path/queryId.");const E={onComplete:u,hashFn:r,query:e,tag:o};this.listens.get(m).set(h,E),this.connected_&&this.sendListen_(E)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(e){const r=e.query,o=r._path.toString(),u=r._queryIdentifier;this.log_("Listen on "+o+" for "+u);const h={p:o};e.tag&&(h.q=r._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest("q",h,E=>{const D=E.d,k=E.s;n.warnOnListenWarnings_(D,r),(this.listens.get(o)&&this.listens.get(o).get(u))===e&&(this.log_("listen response",E),"ok"!==k&&this.removeListen_(o,u),e.onComplete&&e.onComplete(k,D))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,Z.r3)(e,"w")){const o=(0,Z.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const u='".indexOn": "'+r._queryParams.getIndex().toString()+'"',h=r._path.toString();qr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,Z.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,Z.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(r,o,u=>{const h=u.s,m=u.d||"error";this.authToken_===e&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,o=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(e,r){const o=e._path.toString(),u=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+u),(0,Z.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,u)&&this.connected_&&this.sendUnlisten_(o,u,e._queryObject,r)}sendUnlisten_(e,r,o,u){this.log_("Unlisten on "+e+" for "+r);const h={p:e};u&&(h.q=o,h.t=u),this.sendRequest("n",h)}onDisconnectPut(e,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:o})}onDisconnectMerge(e,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:o})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,o,u){const h={p:r,d:o};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,m=>{u&&setTimeout(()=>{u(m.s,m.d)},Math.floor(0))})}put(e,r,o,u){this.putInternal("p",e,r,o,u)}merge(e,r,o,u){this.putInternal("m",e,r,o,u)}putInternal(e,r,o,u,h){this.initConnection_();const m={p:r,d:o};void 0!==h&&(m.h=h),this.outstandingPuts_.push({action:e,request:m,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,u=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,o,h=>{this.log_(r+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(h.s,h.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,Z.Pz)(e));const r=e.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):Ag("Unrecognized action received from server: "+(0,Z.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,Z.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ic,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ic,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ic),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,vr.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),u=e.onRealtimeDisconnect_.bind(e),h=e.id+":"+n.nextConnectionId_++,m=e.lastSessionId;let E=!1,D=null;const k=function(){D?D.close():(E=!0,u())};e.realtime_={close:k,sendRequest:function(ve){(0,Z.hu)(D,"sendRequest call when we're not connected not allowed."),D.sendRequest(ve)}};const oe=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[ve,Oe]=yield Promise.all([e.authTokenProvider_.getToken(oe),e.appCheckTokenProvider_.getToken(oe)]);E?wr("getToken() completed but was canceled"):(wr("getToken() completed. Creating connection."),e.authToken_=ve&&ve.accessToken,e.appCheckToken_=Oe&&Oe.token,D=new Yy(h,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,o,u,$e=>{qr($e+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},m))}catch(ve){e.log_("Failed to get token: "+ve),E||(e.repoInfo_.nodeAdmin&&qr(ve),k())}}})()}interrupt(e){wr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){wr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,Z.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ic,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let o;o=r?r.map(h=>ky(h)).join("$"):"default";const u=this.removeListen_(e,o);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(e,r){const o=new ln(e).toString();let u;if(this.listens.has(o)){const h=this.listens.get(o);u=h.get(r),h.delete(r),0===h.size&&this.listens.delete(o)}else u=void 0;return u}onAuthRevoked_(e,r){wr("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){wr("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,Z.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+Oy.replace(/\./g,"-")]=1,(0,Z.uI)()?e["framework.cordova"]=1:(0,Z.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=vf.getInstance().currentlyOnline();return(0,Z.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Gt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Gt(t,e)}}class Ug{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new Gt(Ho,t),o=new Gt(Ho,e);return 0!==this.compare(r,o)}minPost(){return Gt.MIN}}class Nw extends Ug{static get __EMPTY_NODE(){return Vg}static set __EMPTY_NODE(t){Vg=t}compare(t,e){return Ju(t.name,e.name)}isDefinedOn(t){throw(0,Z.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Gt.MIN}maxPost(){return new Gt($o,Vg)}makePost(t,e){return(0,Z.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Gt(t,Vg)}toString(){return".key"}}const Go=new Nw;class Ef{constructor(t,e,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(h=e?r(t.key,e):1,o&&(h*=-1),h<0)t=this.isReverse_?t.left:t.right;else{if(0===h){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let rv,ji=(()=>{class n{constructor(e,r,o,u,h){this.key=e,this.value=r,this.color=o??n.RED,this.left=u??mi.EMPTY_NODE,this.right=h??mi.EMPTY_NODE}copy(e,r,o,u,h){return new n(e??this.key,r??this.value,o??this.color,u??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let u=this;const h=o(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,r,o),null):0===h?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,o)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return mi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let o,u;if(o=this,r(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===r(e,o.key)){if(o.right.isEmpty())return mi.EMPTY_NODE;u=o.right.min_(),o=o.copy(u.key,u.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class mi{constructor(t,e=mi.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new mi(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ji.BLACK,null,null))}remove(t){return new mi(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ji.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,o=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(o=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ef(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Ef(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Ef(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Ef(this.root_,null,this.comparator_,!0,t)}}function Fw(n,t){return Ju(n.name,t.name)}function Bg(n,t){return Ju(n,t)}mi.EMPTY_NODE=new class kw{copy(t,e,r,o,u){return this}insert(t,e,r){return new ji(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const iv=function(n){return"number"==typeof n?"number:"+lw(n):"string:"+n},Uw=function(n){if(n.isLeafNode()){const t=n.val();(0,Z.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,Z.r3)(t,".sv"),"Priority must be a string or number.")}else(0,Z.hu)(n===rv||n.isEmpty(),"priority of unexpected type.");(0,Z.hu)(n===rv||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let sv,Zr,oc,sc=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,Z.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Uw(this.priorityNode_)}static set __childrenNodeConstructor(e){sv=e}static get __childrenNodeConstructor(){return sv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return jt(e)?this:".priority"===Wt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const o=Wt(e);return null===o?r:r.isEmpty()&&".priority"!==o?this:((0,Z.hu)(".priority"!==o||1===Vl(e),".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(vn(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+iv(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?lw(this.value_):this.value_,this.lazyHash_=Ny(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,Z.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,o=typeof this.value_,u=n.VALUE_TYPE_ORDER.indexOf(r),h=n.VALUE_TYPE_ORDER.indexOf(o);return(0,Z.hu)(u>=0,"Unknown leaf type: "+r),(0,Z.hu)(h>=0,"Unknown leaf type: "+o),u===h?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-u}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Dn=new class VS extends Ug{compare(t,e){const r=t.node.getPriority(),o=e.node.getPriority(),u=r.compareTo(o);return 0===u?Ju(t.name,e.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Gt.MIN}maxPost(){return new Gt($o,new sc("[PRIORITY-POST]",oc))}makePost(t,e){const r=Zr(t);return new Gt(e,new sc("[PRIORITY-POST]",r))}toString(){return".priority"}},Vw=Math.log(2);class Bw{constructor(t){this.count=parseInt(Math.log(t+1)/Vw,10),this.current_=this.count-1;const o=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const jl=function(n,t,e,r){n.sort(t);const o=function(E,D){const k=D-E;let N,oe;if(0===k)return null;if(1===k)return N=n[E],oe=e?e(N):N,new ji(oe,N.node,ji.BLACK,null,null);{const ve=parseInt(k/2,10)+E,Oe=o(E,ve),$e=o(ve+1,D);return N=n[ve],oe=e?e(N):N,new ji(oe,N.node,ji.BLACK,Oe,$e)}},m=function(E){let D=null,k=null,N=n.length;const oe=function(Oe,$e){const et=N-Oe,_t=N;N-=Oe;const vt=o(et+1,_t),Nt=n[et],pt=e?e(Nt):Nt;ve(new ji(pt,Nt.node,$e,null,vt))},ve=function(Oe){D?(D.left=Oe,D=Oe):(k=Oe,D=Oe)};for(let Oe=0;Oe<E.count;++Oe){const $e=E.nextBitIsOne(),et=Math.pow(2,E.count-(Oe+1));$e?oe(et,ji.BLACK):(oe(et,ji.BLACK),oe(et,ji.RED))}return k}(new Bw(n.length));return new mi(r||t,m)};let ov;const Hl={};class Ua{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,Z.hu)(Hl&&Dn,"ChildrenNode.ts has not been loaded"),ov=ov||new Ua({".priority":Hl},{".priority":Dn}),ov}get(t){const e=(0,Z.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof mi?e:null}hasIndex(t){return(0,Z.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,Z.hu)(t!==Go,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=e.getIterator(Gt.Wrap);let m,h=u.getNext();for(;h;)o=o||t.isDefinedOn(h.node),r.push(h),h=u.getNext();m=o?jl(r,t.getCompare()):Hl;const E=t.toString(),D=Object.assign({},this.indexSet_);D[E]=t;const k=Object.assign({},this.indexes_);return k[E]=m,new Ua(k,D)}addToIndexes(t,e){const r=(0,Z.UI)(this.indexes_,(o,u)=>{const h=(0,Z.DV)(this.indexSet_,u);if((0,Z.hu)(h,"Missing index implementation for "+u),o===Hl){if(h.isDefinedOn(t.node)){const m=[],E=e.getIterator(Gt.Wrap);let D=E.getNext();for(;D;)D.name!==t.name&&m.push(D),D=E.getNext();return m.push(t),jl(m,h.getCompare())}return Hl}{const m=e.get(t.name);let E=o;return m&&(E=E.remove(new Gt(t.name,m))),E.insert(t,t.node)}});return new Ua(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,Z.UI)(this.indexes_,o=>{if(o===Hl)return o;{const u=e.get(t.name);return u?o.remove(new Gt(t.name,u)):o}});return new Ua(r,this.indexSet_)}}let Cd,Bt=(()=>{class n{constructor(e,r,o){this.children_=e,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Uw(this.priorityNode_),this.children_.isEmpty()&&(0,Z.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Cd||(Cd=new n(new mi(Bg),null,Ua.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Cd}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?Cd:r}}getChild(e){const r=Wt(e);return null===r?this:this.getImmediateChild(r).getChild(vn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,Z.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const o=new Gt(e,r);let u,h;r.isEmpty()?(u=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(o,this.children_)):(u=this.children_.insert(e,r),h=this.indexMap_.addToIndexes(o,this.children_));const m=u.isEmpty()?Cd:this.priorityNode_;return new n(u,m,h)}}updateChild(e,r){const o=Wt(e);if(null===o)return r;{(0,Z.hu)(".priority"!==Wt(e)||1===Vl(e),".priority must be the last token in a path");const u=this.getImmediateChild(o).updateChild(vn(e),r);return this.updateImmediateChild(o,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let o=0,u=0,h=!0;if(this.forEachChild(Dn,(m,E)=>{r[m]=E.val(e),o++,h&&n.INTEGER_REGEXP_.test(m)?u=Math.max(u,Number(m)):h=!1}),!e&&h&&u<2*o){const m=[];for(const E in r)m[E]=r[E];return m}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+iv(this.getPriority().val())+":"),this.forEachChild(Dn,(r,o)=>{const u=o.hash();""!==u&&(e+=":"+r+":"+u)}),this.lazyHash_=""===e?"":Ny(e)}return this.lazyHash_}getPredecessorChildName(e,r,o){const u=this.resolveIndex_(o);if(u){const h=u.getPredecessorKey(new Gt(e,r));return h?h.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const o=r.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new Gt(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const o=r.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new Gt(r,this.children_.get(r)):null}forEachChild(e,r){const o=this.resolveIndex_(e);return o?o.inorderTraversal(u=>r(u.name,u.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(e,u=>u);{const u=this.children_.getIteratorFrom(e.name,Gt.Wrap);let h=u.peek();for(;null!=h&&r.compare(h,e)<0;)u.getNext(),h=u.peek();return u}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(e,u=>u);{const u=this.children_.getReverseIteratorFrom(e.name,Gt.Wrap);let h=u.peek();for(;null!=h&&r.compare(h,e)>0;)u.getNext(),h=u.peek();return u}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wo?-1:0}withIndex(e){if(e===Go||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Go||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const o=this.getIterator(Dn),u=r.getIterator(Dn);let h=o.getNext(),m=u.getNext();for(;h&&m;){if(h.name!==m.name||!h.node.equals(m.node))return!1;h=o.getNext(),m=u.getNext()}return null===h&&null===m}return!1}return!1}}resolveIndex_(e){return e===Go?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Wo=new class FD extends Bt{constructor(){super(new mi(Bg),Bt.EMPTY_NODE,Ua.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Bt.EMPTY_NODE}isEmpty(){return!1}};function Tn(n,t=null){if(null===n)return Bt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,Z.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new sc(n,Tn(t));if(n instanceof Array){let e=Bt.EMPTY_NODE;return br(n,(r,o)=>{if((0,Z.r3)(n,r)&&"."!==r.substring(0,1)){const u=Tn(o);(u.isLeafNode()||!u.isEmpty())&&(e=e.updateImmediateChild(r,u))}}),e.updatePriority(Tn(t))}{const e=[];let r=!1;if(br(n,(h,m)=>{if("."!==h.substring(0,1)){const E=Tn(m);E.isEmpty()||(r=r||!E.getPriority().isEmpty(),e.push(new Gt(h,E)))}}),0===e.length)return Bt.EMPTY_NODE;const u=jl(e,Fw,h=>h.name,Bg);if(r){const h=jl(e,Dn.getCompare());return new Bt(u,Tn(t),new Ua({".priority":h},{".priority":Dn}))}return new Bt(u,Tn(t),Ua.Default)}}Object.defineProperties(Gt,{MIN:{value:new Gt(Ho,Bt.EMPTY_NODE)},MAX:{value:new Gt($o,Wo)}}),Nw.__EMPTY_NODE=Bt.EMPTY_NODE,sc.__childrenNodeConstructor=Bt,function Lw(n){rv=n}(Wo),function kD(n){oc=n}(Wo),function ND(n){Zr=n}(Tn);class jg extends Ug{constructor(t){super(),this.indexPath_=t,(0,Z.hu)(!jt(t)&&".priority"!==Wt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),o=this.extractChild(e.node),u=r.compareTo(o);return 0===u?Ju(t.name,e.name):u}makePost(t,e){const r=Tn(t),o=Bt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Gt(e,o)}maxPost(){const t=Bt.EMPTY_NODE.updateChild(this.indexPath_,Wo);return new Gt($o,t)}toString(){return rc(this.indexPath_,0).join("/")}}const Id=new class jw extends Ug{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?Ju(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Gt.MIN}maxPost(){return Gt.MAX}makePost(t,e){const r=Tn(t);return new Gt(e,r)}toString(){return".value"}},$l="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Gw=function(){let n=0;const t=[];return function(e){const r=e===n;let o;n=e;const u=new Array(8);for(o=7;o>=0;o--)u[o]=$l.charAt(e%64),e=Math.floor(e/64);(0,Z.hu)(0===e,"Cannot push at time == 0");let h=u.join("");if(r){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)h+=$l.charAt(t[o]);return(0,Z.hu)(20===h.length,"nextPushId: Length should be 20."),h}}(),ac=function(n){if(n===""+Ly)return"-";const t=Mg(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let h=0;h<e.length;h++)e[h]=n.charAt(h);if(e.length<786)return e.push("-"),e.join("");let r=e.length-1;for(;r>=0&&"z"===e[r];)r--;if(-1===r)return $o;const u=$l.charAt($l.indexOf(e[r])+1);return e[r]=u,e.slice(0,r+1).join("")},Ww=function(n){if(n===""+Fy)return Ho;const t=Mg(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let r=0;r<e.length;r++)e[r]=n.charAt(r);return"-"===e[e.length-1]?1===e.length?""+Ly:(delete e[e.length-1],e.join("")):(e[e.length-1]=$l.charAt($l.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function lv(n){return{type:"value",snapshotNode:n}}function Gl(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Hg(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function wf(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class uv{constructor(t){this.index_=t}updateChild(t,e,r,o,u,h){(0,Z.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(e);return m.getChild(o).equals(r.getChild(o))&&m.isEmpty()===r.isEmpty()||(null!=h&&(r.isEmpty()?t.hasChild(e)?h.trackChildChange(Hg(e,m)):(0,Z.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(Gl(e,r)):h.trackChildChange(wf(e,r,m))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(Dn,(o,u)=>{e.hasChild(o)||r.trackChildChange(Hg(o,u))}),e.isLeafNode()||e.forEachChild(Dn,(o,u)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(u)||r.trackChildChange(wf(o,u,h))}else r.trackChildChange(Gl(o,u))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Bt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class bf{constructor(t){this.indexedFilter_=new uv(t.getIndex()),this.index_=t.getIndex(),this.startPost_=bf.getStartPost_(t),this.endPost_=bf.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,r,o,u,h){return this.matches(new Gt(e,r))||(r=Bt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,o,u,h)}updateFullNode(t,e,r){e.isLeafNode()&&(e=Bt.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(Bt.EMPTY_NODE);const u=this;return e.forEachChild(Dn,(h,m)=>{u.matches(new Gt(h,m))||(o=o.updateImmediateChild(h,Bt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class UD{constructor(t){this.rangedFilter_=new bf(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,r,o,u,h){return this.rangedFilter_.matches(new Gt(e,r))||(r=Bt.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,o,u,h):this.fullLimitUpdateChild_(t,e,r,u,h)}updateFullNode(t,e,r){let o;if(e.isLeafNode()||e.isEmpty())o=Bt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let u;o=Bt.EMPTY_NODE.withIndex(this.index_),u=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const m=u.getNext();let E;if(E=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),m)<=0:this.index_.compare(m,this.rangedFilter_.getEndPost())<=0,!E)break;o=o.updateImmediateChild(m.name,m.node),h++}}else{let u,h,m,E;if(o=e.withIndex(this.index_),o=o.updatePriority(Bt.EMPTY_NODE),this.reverse_){E=o.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();const N=this.index_.getCompare();m=(oe,ve)=>N(ve,oe)}else E=o.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),m=this.index_.getCompare();let D=0,k=!1;for(;E.hasNext();){const N=E.getNext();!k&&m(u,N)<=0&&(k=!0),k&&D<this.limit_&&m(N,h)<=0?D++:o=o.updateImmediateChild(N.name,Bt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,o,u){let h;if(this.reverse_){const N=this.index_.getCompare();h=(oe,ve)=>N(ve,oe)}else h=this.index_.getCompare();const m=t;(0,Z.hu)(m.numChildren()===this.limit_,"");const E=new Gt(e,r),D=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),k=this.rangedFilter_.matches(E);if(m.hasChild(e)){const N=m.getImmediateChild(e);let oe=o.getChildAfterChild(this.index_,D,this.reverse_);for(;null!=oe&&(oe.name===e||m.hasChild(oe.name));)oe=o.getChildAfterChild(this.index_,oe,this.reverse_);const ve=null==oe?1:h(oe,E);if(k&&!r.isEmpty()&&ve>=0)return u?.trackChildChange(wf(e,r,N)),m.updateImmediateChild(e,r);{u?.trackChildChange(Hg(e,N));const $e=m.updateImmediateChild(e,Bt.EMPTY_NODE);return null!=oe&&this.rangedFilter_.matches(oe)?(u?.trackChildChange(Gl(oe.name,oe.node)),$e.updateImmediateChild(oe.name,oe.node)):$e}}return r.isEmpty()?t:k&&h(D,E)>=0?(null!=u&&(u.trackChildChange(Hg(D.name,D.node)),u.trackChildChange(Gl(e,r))),m.updateImmediateChild(e,r).updateImmediateChild(D.name,Bt.EMPTY_NODE)):t}}class Cf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Dn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Z.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Z.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ho}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Z.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Z.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$o}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Z.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Dn}copy(){const t=new Cf;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function $g(n,t,e){const r=n.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function cv(n,t,e){const r=n.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function Gg(n,t){const e=n.copy();return e.index_=t,e}function dv(n){const t={};if(n.isDefault())return t;let e;return n.index_===Dn?e="$priority":n.index_===Id?e="$value":n.index_===Go?e="$key":((0,Z.hu)(n.index_ instanceof jg,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,Z.Pz)(e),n.startSet_&&(t.startAt=(0,Z.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,Z.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,Z.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,Z.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function hv(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Dn&&(t.i=n.index_.toString()),t}class If extends Qy{constructor(t,e,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=md("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,Z.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,o){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const h=If.getListenId_(t,r),m={};this.listens_[h]=m;const E=dv(t._queryParams);this.restRequest_(u+".json",E,(D,k)=>{let N=k;if(404===D&&(N=null,D=null),null===D&&this.onDataUpdate_(u,N,!1,r),(0,Z.DV)(this.listens_,h)===m){let oe;oe=D?401===D?"permission_denied":"rest_error:"+D:"ok",o(oe,null)}})}unlisten(t,e){const r=If.getListenId_(t,e);delete this.listens_[r]}get(t){const e=dv(t._queryParams),r=t._path.toString(),o=new Z.BH;return this.restRequest_(r+".json",e,(u,h)=>{let m=h;404===u&&(m=null,u=null),null===u?(this.onDataUpdate_(r,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(e.auth=o.accessToken),u&&u.token&&(e.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,Z.xO)(e);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&4===m.readyState){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let E=null;if(m.status>=200&&m.status<300){try{E=(0,Z.cI)(m.responseText)}catch{qr("Failed to parse JSON response for "+h+": "+m.responseText)}r(null,E)}else 401!==m.status&&404!==m.status&&qr("Got unsuccessful REST response for "+h+" Status: "+m.status),r(m.status);r=null}},m.open("GET",h,!0),m.send()})}}class Kw{constructor(){this.rootNode_=Bt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Wg(){return{value:null,children:new Map}}function Dd(n,t,e){if(jt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=Wt(t);n.children.has(r)||n.children.set(r,Wg()),Dd(n.children.get(r),t=vn(t),e)}}function Yw(n,t){if(jt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Dn,(r,o)=>{Dd(n,new ln(r),o)}),Yw(n,t)}}if(n.children.size>0){const e=Wt(t);return t=vn(t),n.children.has(e)&&Yw(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function zg(n,t,e){null!==n.value?e(t,n.value):function jS(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,o)=>{zg(o,new ln(t.toString()+"/"+r),e)})}class HS{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&br(this.last_,(r,o)=>{e[r]=e[r]-o}),this.last_=t,e}}class WS{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new HS(t);const r=1e4+2e4*Math.random();Xu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;br(t,(o,u)=>{u>0&&(0,Z.r3)(this.statsToReport_,o)&&(e[o]=u,r=!0)}),r&&this.server_.reportStats(e),Xu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var $s=(()=>{return(n=$s||($s={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",$s;var n})();function Jw(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Df{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=$s.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(jt(this.path)){if(null!=this.affectedTree.value)return(0,Z.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new ln(t));return new Df(tn(),e,this.revert)}}return(0,Z.hu)(Wt(this.path)===t,"operationForChild called for unrelated child."),new Df(vn(this.path),this.affectedTree,this.revert)}}class Wl{constructor(t,e){this.source=t,this.path=e,this.type=$s.LISTEN_COMPLETE}operationForChild(t){return jt(this.path)?new Wl(this.source,tn()):new Wl(this.source,vn(this.path))}}class zl{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=$s.OVERWRITE}operationForChild(t){return jt(this.path)?new zl(this.source,tn(),this.snap.getImmediateChild(t)):new zl(this.source,vn(this.path),this.snap)}}class lc{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=$s.MERGE}operationForChild(t){if(jt(this.path)){const e=this.children.subtree(new ln(t));return e.isEmpty()?null:e.value?new zl(this.source,tn(),e.value):new lc(this.source,tn(),e)}return(0,Z.hu)(Wt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new lc(this.source,vn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class uc{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(jt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Wt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class fv{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Tf(n,t,e,r,o,u){const h=r.filter(m=>m.type===e);h.sort((m,E)=>function zS(n,t,e){if(null==t.childName||null==e.childName)throw(0,Z.g5)("Should only compare child_ events.");const r=new Gt(t.childName,t.snapshotNode),o=new Gt(e.childName,e.snapshotNode);return n.index_.compare(r,o)}(n,m,E)),h.forEach(m=>{const E=function eb(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,m,u);o.forEach(D=>{D.respondsTo(m.type)&&t.push(D.createEvent(E,n.query_))})})}function qg(n,t){return{eventCache:n,serverCache:t}}function Sf(n,t,e,r){return qg(new uc(t,e,r),n.serverCache)}function tb(n,t,e,r){return qg(n.eventCache,new uc(t,e,r))}function cc(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function dc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let nb;class Sn{constructor(t,e=(()=>(nb||(nb=new mi(hD)),nb))()){this.value=t,this.children=e}static fromObject(t){let e=new Sn(null);return br(t,(r,o)=>{e=e.set(new ln(r),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:tn(),value:this.value};if(jt(t))return null;{const r=Wt(t),o=this.children.get(r);if(null!==o){const u=o.findRootMostMatchingPathAndValue(vn(t),e);return null!=u?{path:xn(new ln(r),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(jt(t))return this;{const e=Wt(t),r=this.children.get(e);return null!==r?r.subtree(vn(t)):new Sn(null)}}set(t,e){if(jt(t))return new Sn(e,this.children);{const r=Wt(t),u=(this.children.get(r)||new Sn(null)).set(vn(t),e),h=this.children.insert(r,u);return new Sn(this.value,h)}}remove(t){if(jt(t))return this.children.isEmpty()?new Sn(null):new Sn(null,this.children);{const e=Wt(t),r=this.children.get(e);if(r){const o=r.remove(vn(t));let u;return u=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&u.isEmpty()?new Sn(null):new Sn(this.value,u)}return this}}get(t){if(jt(t))return this.value;{const e=Wt(t),r=this.children.get(e);return r?r.get(vn(t)):null}}setTree(t,e){if(jt(t))return e;{const r=Wt(t),u=(this.children.get(r)||new Sn(null)).setTree(vn(t),e);let h;return h=u.isEmpty()?this.children.remove(r):this.children.insert(r,u),new Sn(this.value,h)}}fold(t){return this.fold_(tn(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(xn(t,o),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,tn(),e)}findOnPath_(t,e,r){const o=!!this.value&&r(e,this.value);if(o)return o;if(jt(t))return null;{const u=Wt(t),h=this.children.get(u);return h?h.findOnPath_(vn(t),xn(e,u),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,tn(),e)}foreachOnPath_(t,e,r){if(jt(t))return this;{this.value&&r(e,this.value);const o=Wt(t),u=this.children.get(o);return u?u.foreachOnPath_(vn(t),xn(e,o),r):new Sn(null)}}foreach(t){this.foreach_(tn(),t)}foreach_(t,e){this.children.inorderTraversal((r,o)=>{o.foreach_(xn(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class Gs{constructor(t){this.writeTree_=t}static empty(){return new Gs(new Sn(null))}}function Af(n,t,e){if(jt(t))return new Gs(new Sn(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const o=r.path;let u=r.value;const h=cr(o,t);return u=u.updateChild(h,e),new Gs(n.writeTree_.set(o,u))}{const o=new Sn(e),u=n.writeTree_.setTree(t,o);return new Gs(u)}}}function pv(n,t,e){let r=n;return br(e,(o,u)=>{r=Af(r,xn(t,o),u)}),r}function HD(n,t){if(jt(t))return Gs.empty();{const e=n.writeTree_.setTree(t,new Sn(null));return new Gs(e)}}function gv(n,t){return null!=Va(n,t)}function Va(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(cr(e.path,t)):null}function rb(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Dn,(r,o)=>{t.push(new Gt(r,o))}):n.writeTree_.children.inorderTraversal((r,o)=>{null!=o.value&&t.push(new Gt(r,o.value))}),t}function ar(n,t){if(jt(t))return n;{const e=Va(n,t);return new Gs(null!=e?new Sn(e):n.writeTree_.subtree(t))}}function mv(n){return n.writeTree_.isEmpty()}function ql(n,t){return ib(tn(),n.writeTree_,t)}function ib(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((o,u)=>{".priority"===o?((0,Z.hu)(null!==u.value,"Priority writes must always be leaf nodes"),r=u.value):e=ib(xn(n,o),u,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(xn(n,".priority"),r)),e}}function Zg(n,t){return bv(t,n)}function ab(n,t){if(n.snap)return ds(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&ds(xn(n.path,e),t))return!0;return!1}function GD(n){return n.visible}function yv(n,t,e){let r=Gs.empty();for(let o=0;o<n.length;++o){const u=n[o];if(t(u)){const h=u.path;let m;if(u.snap)ds(e,h)?(m=cr(e,h),r=Af(r,m,u.snap)):ds(h,e)&&(m=cr(h,e),r=Af(r,tn(),u.snap.getChild(m)));else{if(!u.children)throw(0,Z.g5)("WriteRecord should have .snap or .children");if(ds(e,h))m=cr(e,h),r=pv(r,m,u.children);else if(ds(h,e))if(m=cr(h,e),jt(m))r=pv(r,tn(),u.children);else{const E=(0,Z.DV)(u.children,Wt(m));if(E){const D=E.getChild(vn(m));r=Af(r,tn(),D)}}}}}return r}function ub(n,t,e,r,o){if(r||o){const u=ar(n.visibleWrites,t);return!o&&mv(u)?e:o||null!=e||gv(u,tn())?ql(yv(n.allWrites,function(D){return(D.visible||o)&&(!r||!~r.indexOf(D.writeId))&&(ds(D.path,t)||ds(t,D.path))},t),e||Bt.EMPTY_NODE):null}{const u=Va(n.visibleWrites,t);if(null!=u)return u;{const h=ar(n.visibleWrites,t);return mv(h)?e:null!=e||gv(h,tn())?ql(h,e||Bt.EMPTY_NODE):null}}}function Ev(n,t,e,r){return ub(n.writeTree,n.treePath,t,e,r)}function wv(n,t){return function vv(n,t,e){let r=Bt.EMPTY_NODE;const o=Va(n.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Dn,(u,h)=>{r=r.updateImmediateChild(u,h)}),r;if(e){const u=ar(n.visibleWrites,t);return e.forEachChild(Dn,(h,m)=>{const E=ql(ar(u,new ln(h)),m);r=r.updateImmediateChild(h,E)}),rb(u).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}return rb(ar(n.visibleWrites,t)).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}(n.writeTree,n.treePath,t)}function hb(n,t,e,r){return function Zl(n,t,e,r,o){(0,Z.hu)(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=xn(t,e);if(gv(n.visibleWrites,u))return null;{const h=ar(n.visibleWrites,u);return mv(h)?o.getChild(e):ql(h,o.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function Kg(n,t){return function db(n,t){return Va(n.visibleWrites,t)}(n.writeTree,xn(n.treePath,t))}function Yg(n,t,e){return function cb(n,t,e,r){const o=xn(t,e),u=Va(n.visibleWrites,o);return null!=u?u:r.isCompleteForChild(e)?ql(ar(n.visibleWrites,o),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function qD(n,t){return bv(xn(n.treePath,t),n.writeTree)}function bv(n,t){return{treePath:n,writeTree:t}}class ZD{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,Z.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,Z.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if("child_added"===e&&"child_removed"===u)this.changeMap.set(r,wf(r,t.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===u)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===u)this.changeMap.set(r,Hg(r,o.oldSnap));else if("child_changed"===e&&"child_added"===u)this.changeMap.set(r,Gl(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==u)throw(0,Z.g5)("Illegal combination of changes: "+t+" occurred after "+o);this.changeMap.set(r,wf(r,t.snapshotNode,o.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const KD=new class fb{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class Mf{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new uc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Yg(this.writes_,t,r)}}getChildAfterChild(t,e,r){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:dc(this.viewCache_),u=function zD(n,t,e,r,o,u){return function zo(n,t,e,r,o,u,h){let m;const E=ar(n.visibleWrites,t),D=Va(E,tn());if(null!=D)m=D;else{if(null==e)return[];m=ql(E,e)}if(m=m.withIndex(h),m.isEmpty()||m.isLeafNode())return[];{const k=[],N=h.getCompare(),oe=u?m.getReverseIteratorFrom(r,h):m.getIteratorFrom(r,h);let ve=oe.getNext();for(;ve&&k.length<o;)0!==N(ve,r)&&k.push(ve),ve=oe.getNext();return k}}(n.writeTree,n.treePath,t,e,r,o,u)}(this.writes_,o,e,1,r,t);return 0===u.length?null:u[0]}}function Cv(n,t,e,r,o,u){const h=t.eventCache;if(null!=Kg(r,e))return t;{let m,E;if(jt(e))if((0,Z.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const D=dc(t),N=wv(r,D instanceof Bt?D:Bt.EMPTY_NODE);m=n.filter.updateFullNode(t.eventCache.getNode(),N,u)}else{const D=Ev(r,dc(t));m=n.filter.updateFullNode(t.eventCache.getNode(),D,u)}else{const D=Wt(e);if(".priority"===D){(0,Z.hu)(1===Vl(e),"Can't have a priority with additional path components");const k=h.getNode();E=t.serverCache.getNode();const N=hb(r,e,k,E);m=null!=N?n.filter.updatePriority(k,N):h.getNode()}else{const k=vn(e);let N;if(h.isCompleteForChild(D)){E=t.serverCache.getNode();const oe=hb(r,e,h.getNode(),E);N=null!=oe?h.getNode().getImmediateChild(D).updateChild(k,oe):h.getNode().getImmediateChild(D)}else N=Yg(r,D,t.serverCache);m=null!=N?n.filter.updateChild(h.getNode(),D,N,k,o,u):h.getNode()}}return Sf(t,m,h.isFullyInitialized()||jt(e),n.filter.filtersNodes())}}function hc(n,t,e,r,o,u,h,m){const E=t.serverCache;let D;const k=h?n.filter:n.filter.getIndexedFilter();if(jt(e))D=k.updateFullNode(E.getNode(),r,null);else if(k.filtersNodes()&&!E.isFiltered()){const ve=E.getNode().updateChild(e,r);D=k.updateFullNode(E.getNode(),ve,null)}else{const ve=Wt(e);if(!E.isCompleteForPath(e)&&Vl(e)>1)return t;const Oe=vn(e),et=E.getNode().getImmediateChild(ve).updateChild(Oe,r);D=".priority"===ve?k.updatePriority(E.getNode(),et):k.updateChild(E.getNode(),ve,et,Oe,KD,null)}const N=tb(t,D,E.isFullyInitialized()||jt(e),k.filtersNodes());return Cv(n,N,e,o,new Mf(o,N,u),m)}function Sd(n,t,e,r,o,u,h){const m=t.eventCache;let E,D;const k=new Mf(o,t,u);if(jt(e))D=n.filter.updateFullNode(t.eventCache.getNode(),r,h),E=Sf(t,D,!0,n.filter.filtersNodes());else{const N=Wt(e);if(".priority"===N)D=n.filter.updatePriority(t.eventCache.getNode(),r),E=Sf(t,D,m.isFullyInitialized(),m.isFiltered());else{const oe=vn(e),ve=m.getNode().getImmediateChild(N);let Oe;if(jt(oe))Oe=r;else{const $e=k.getCompleteChild(N);Oe=null!=$e?".priority"===nc(oe)&&$e.getChild(Hs(oe)).isEmpty()?$e:$e.updateChild(oe,r):Bt.EMPTY_NODE}E=ve.equals(Oe)?t:Sf(t,n.filter.updateChild(m.getNode(),N,Oe,oe,k,h),m.isFullyInitialized(),n.filter.filtersNodes())}}return E}function Iv(n,t){return n.eventCache.isCompleteForChild(t)}function Dv(n,t,e){return e.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function Qg(n,t,e,r,o,u,h,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let D,E=t;D=jt(e)?r:new Sn(null).setTree(e,r);const k=t.serverCache.getNode();return D.children.inorderTraversal((N,oe)=>{if(k.hasChild(N)){const Oe=Dv(0,t.serverCache.getNode().getImmediateChild(N),oe);E=hc(n,E,new ln(N),Oe,o,u,h,m)}}),D.children.inorderTraversal((N,oe)=>{const ve=!t.serverCache.isCompleteForChild(N)&&void 0===oe.value;if(!k.hasChild(N)&&!ve){const $e=Dv(0,t.serverCache.getNode().getImmediateChild(N),oe);E=hc(n,E,new ln(N),$e,o,u,h,m)}}),E}class KS{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new uv(r.getIndex()),u=function zw(n){return n.loadsAllData()?new uv(n.getIndex()):n.hasLimit()?new UD(n):new bf(n)}(r);this.processor_=function pb(n){return{filter:n}}(u);const h=e.serverCache,m=e.eventCache,E=o.updateFullNode(Bt.EMPTY_NODE,h.getNode(),null),D=u.updateFullNode(Bt.EMPTY_NODE,m.getNode(),null),k=new uc(E,h.isFullyInitialized(),o.filtersNodes()),N=new uc(D,m.isFullyInitialized(),u.filtersNodes());this.viewCache_=qg(N,k),this.eventGenerator_=new fv(this.query_)}get query(){return this.query_}}function tT(n,t){const e=dc(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!jt(t)&&!e.getImmediateChild(Wt(t)).isEmpty())?e.getChild(t):null}function yb(n){return 0===n.eventRegistrations_.length}function nT(n,t,e){const r=[];if(e){(0,Z.hu)(null==t,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(e,o);h&&r.push(h)})}if(t){let o=[];for(let u=0;u<n.eventRegistrations_.length;++u){const h=n.eventRegistrations_[u];if(h.matches(t)){if(t.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(u+1));break}}else o.push(h)}n.eventRegistrations_=o}else n.eventRegistrations_=[];return r}function rT(n,t,e,r){t.type===$s.MERGE&&null!==t.source.queryId&&((0,Z.hu)(dc(n.viewCache_),"We should always have a full cache before handling merges"),(0,Z.hu)(cc(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,u=function YD(n,t,e,r,o){const u=new ZD;let h,m;if(e.type===$s.OVERWRITE){const D=e;D.source.fromUser?h=Sd(n,t,D.path,D.snap,r,o,u):((0,Z.hu)(D.source.fromServer,"Unknown source."),m=D.source.tagged||t.serverCache.isFiltered()&&!jt(D.path),h=hc(n,t,D.path,D.snap,r,o,m,u))}else if(e.type===$s.MERGE){const D=e;D.source.fromUser?h=function QD(n,t,e,r,o,u,h){let m=t;return r.foreach((E,D)=>{const k=xn(e,E);Iv(t,Wt(k))&&(m=Sd(n,m,k,D,o,u,h))}),r.foreach((E,D)=>{const k=xn(e,E);Iv(t,Wt(k))||(m=Sd(n,m,k,D,o,u,h))}),m}(n,t,D.path,D.children,r,o,u):((0,Z.hu)(D.source.fromServer,"Unknown source."),m=D.source.tagged||t.serverCache.isFiltered(),h=Qg(n,t,D.path,D.children,r,o,m,u))}else if(e.type===$s.ACK_USER_WRITE){const D=e;h=D.revert?function ZS(n,t,e,r,o,u){let h;if(null!=Kg(r,e))return t;{const m=new Mf(r,t,o),E=t.eventCache.getNode();let D;if(jt(e)||".priority"===Wt(e)){let k;if(t.serverCache.isFullyInitialized())k=Ev(r,dc(t));else{const N=t.serverCache.getNode();(0,Z.hu)(N instanceof Bt,"serverChildren would be complete if leaf node"),k=wv(r,N)}D=n.filter.updateFullNode(E,k,u)}else{const k=Wt(e);let N=Yg(r,k,t.serverCache);null==N&&t.serverCache.isCompleteForChild(k)&&(N=E.getImmediateChild(k)),D=null!=N?n.filter.updateChild(E,k,N,vn(e),m,u):t.eventCache.getNode().hasChild(k)?n.filter.updateChild(E,k,Bt.EMPTY_NODE,vn(e),m,u):E,D.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Ev(r,dc(t)),h.isLeafNode()&&(D=n.filter.updateFullNode(D,h,u)))}return h=t.serverCache.isFullyInitialized()||null!=Kg(r,tn()),Sf(t,D,h,n.filter.filtersNodes())}}(n,t,D.path,r,o,u):function JD(n,t,e,r,o,u,h){if(null!=Kg(o,e))return t;const m=t.serverCache.isFiltered(),E=t.serverCache;if(null!=r.value){if(jt(e)&&E.isFullyInitialized()||E.isCompleteForPath(e))return hc(n,t,e,E.getNode().getChild(e),o,u,m,h);if(jt(e)){let D=new Sn(null);return E.getNode().forEachChild(Go,(k,N)=>{D=D.set(new ln(k),N)}),Qg(n,t,e,D,o,u,m,h)}return t}{let D=new Sn(null);return r.foreach((k,N)=>{const oe=xn(e,k);E.isCompleteForPath(oe)&&(D=D.set(k,E.getNode().getChild(oe)))}),Qg(n,t,e,D,o,u,m,h)}}(n,t,D.path,D.affectedTree,r,o,u)}else{if(e.type!==$s.LISTEN_COMPLETE)throw(0,Z.g5)("Unknown operation type: "+e.type);h=function XD(n,t,e,r,o){const u=t.serverCache;return Cv(n,tb(t,u.getNode(),u.isFullyInitialized()||jt(e),u.isFiltered()),e,r,KD,o)}(n,t,e.path,r,u)}const E=u.getChanges();return function mb(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=cc(n);(e.length>0||!n.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&e.push(lv(cc(t)))}}(t,h,E),{viewCache:h,changes:E}}(n.processor_,o,t,e,r);return function gb(n,t){(0,Z.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,Z.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,u.viewCache),(0,Z.hu)(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,iT(n,u.changes,u.viewCache.eventCache.getNode(),null)}function iT(n,t,e,r){return function Xw(n,t,e,r){const o=[],u=[];return t.forEach(h=>{"child_changed"===h.type&&n.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(function BS(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(h.childName,h.snapshotNode))}),Tf(n,o,"child_removed",t,r,e),Tf(n,o,"child_added",t,r,e),Tf(n,o,"child_moved",u,r,e),Tf(n,o,"child_changed",t,r,e),Tf(n,o,"value",t,r,e),o}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let Jg,Rv;class Rf{constructor(){this.views=new Map}}function Ba(n,t,e,r){const o=t.source.queryId;if(null!==o){const u=n.views.get(o);return(0,Z.hu)(null!=u,"SyncTree gave us an op for an invalid query."),rT(u,t,e,r)}{let u=[];for(const h of n.views.values())u=u.concat(rT(h,t,e,r));return u}}function Tv(n,t,e,r,o){const h=n.views.get(t._queryIdentifier);if(!h){let m=Ev(e,o?r:null),E=!1;m?E=!0:r instanceof Bt?(m=wv(e,r),E=!1):(m=Bt.EMPTY_NODE,E=!1);const D=qg(new uc(m,E,!1),new uc(r,o,!1));return new KS(t,D)}return h}function Eb(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function qo(n,t){let e=null;for(const r of n.views.values())e=e||tT(r,t);return e}function Xg(n,t){return t._queryParams.loadsAllData()?Mv(n):n.views.get(t._queryIdentifier)}function Pf(n,t){return null!=Xg(n,t)}function fc(n){return null!=Mv(n)}function Mv(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let aT=1;class bb{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Sn(null),this.pendingWriteTree_=function WD(){return{visibleWrites:Gs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Pv(n,t,e,r,o){return function _v(n,t,e,r,o){(0,Z.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:o}),o&&(n.visibleWrites=Af(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,o),o?Rd(n,new zl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function ja(n,t,e=!1){const r=function ob(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function $D(n,t){const e=n.allWrites.findIndex(m=>m.writeId===t);(0,Z.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let o=r.visible,u=!1,h=n.allWrites.length-1;for(;o&&h>=0;){const m=n.allWrites[h];m.visible&&(h>=e&&ab(m,r.path)?o=!1:ds(r.path,m.path)&&(u=!0)),h--}return!!o&&(u?(function lb(n){n.visibleWrites=yv(n.allWrites,GD,tn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=HD(n.visibleWrites,r.path):br(r.children,E=>{n.visibleWrites=HD(n.visibleWrites,xn(r.path,E))}),!0))}(n.pendingWriteTree_,t)){let u=new Sn(null);return null!=r.snap?u=u.set(tn(),!0):br(r.children,h=>{u=u.set(new ln(h),!0)}),Rd(n,new Df(r.path,u,e))}return[]}function Ad(n,t,e){return Rd(n,new zl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function em(n,t,e,r){const o=t._path,u=n.syncPointTree_.get(o);let h=[];if(u&&("default"===t._queryIdentifier||Pf(u,t))){const m=function Av(n,t,e,r){const o=t._queryIdentifier,u=[];let h=[];const m=fc(n);if("default"===o)for(const[E,D]of n.views.entries())h=h.concat(nT(D,e,r)),yb(D)&&(n.views.delete(E),D.query._queryParams.loadsAllData()||u.push(D.query));else{const E=n.views.get(o);E&&(h=h.concat(nT(E,e,r)),yb(E)&&(n.views.delete(o),E.query._queryParams.loadsAllData()||u.push(E.query)))}return m&&!fc(n)&&u.push(new(function oT(){return(0,Z.hu)(Jg,"Reference.ts has not been loaded"),Jg}())(t._repo,t._path)),{removed:u,events:h}}(u,t,e,r);(function vb(n){return 0===n.views.size})(u)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const E=m.removed;h=m.events;const D=-1!==E.findIndex(N=>N._queryParams.loadsAllData()),k=n.syncPointTree_.findOnPath(o,(N,oe)=>fc(oe));if(D&&!k){const N=n.syncPointTree_.subtree(o);if(!N.isEmpty()){const oe=function eA(n){return n.fold((t,e,r)=>{if(e&&fc(e))return[Mv(e)];{let o=[];return e&&(o=Eb(e)),br(r,(u,h)=>{o=o.concat(h)}),o}})}(N);for(let ve=0;ve<oe.length;++ve){const Oe=oe[ve],$e=Oe.query,et=Ib(n,Oe);n.listenProvider_.startListening(rm($e),tm(n,$e),et.hashFn,et.onComplete)}}}!k&&E.length>0&&!r&&(D?n.listenProvider_.stopListening(rm(t),null):E.forEach(N=>{const oe=n.queryToTagMap.get(nm(N));n.listenProvider_.stopListening(rm(N),oe)})),function pT(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const o=nm(r),u=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(u)}}}(n,E)}return h}function xv(n,t,e){const r=t._path;let o=null,u=!1;n.syncPointTree_.foreachOnPath(r,(N,oe)=>{const ve=cr(N,r);o=o||qo(oe,ve),u=u||fc(oe)});let m,h=n.syncPointTree_.get(r);h?(u=u||fc(h),o=o||qo(h,tn())):(h=new Rf,n.syncPointTree_=n.syncPointTree_.set(r,h)),null!=o?m=!0:(m=!1,o=Bt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((oe,ve)=>{const Oe=qo(ve,tn());Oe&&(o=o.updateImmediateChild(oe,Oe))}));const E=Pf(h,t);if(!E&&!t._queryParams.loadsAllData()){const N=nm(t);(0,Z.hu)(!n.queryToTagMap.has(N),"View does not exist, but we have a tag");const oe=function tA(){return aT++}();n.queryToTagMap.set(N,oe),n.tagToQueryMap.set(oe,N)}let k=function Sv(n,t,e,r,o,u){const h=Tv(n,t,r,o,u);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,h),function YS(n,t){n.eventRegistrations_.push(t)}(h,e),function QS(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Dn,(u,h)=>{r.push(Gl(u,h))}),e.isFullyInitialized()&&r.push(lv(e.getNode())),iT(n,r,e.getNode(),t)}(h,e)}(h,t,e,Zg(n.pendingWriteTree_,r),o,m);if(!E&&!u){const N=Xg(h,t);k=k.concat(function nA(n,t,e){const r=t._path,o=tm(n,t),u=Ib(n,e),h=n.listenProvider_.startListening(rm(t),o,u.hashFn,u.onComplete),m=n.syncPointTree_.subtree(r);if(o)(0,Z.hu)(!fc(m.value),"If we're adding a query, it shouldn't be shadowed");else{const E=m.fold((D,k,N)=>{if(!jt(D)&&k&&fc(k))return[Mv(k).query];{let oe=[];return k&&(oe=oe.concat(Eb(k).map(ve=>ve.query))),br(N,(ve,Oe)=>{oe=oe.concat(Oe)}),oe}});for(let D=0;D<E.length;++D){const k=E[D];n.listenProvider_.stopListening(rm(k),tm(n,k))}}return h}(n,t,N))}return k}function Md(n,t,e){const o=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(t,(h,m)=>{const D=qo(m,cr(h,t));if(D)return D});return ub(o,t,u,e,!0)}function Rd(n,t){return hT(t,n.syncPointTree_,null,Zg(n.pendingWriteTree_,tn()))}function hT(n,t,e,r){if(jt(n.path))return fT(n,t,e,r);{const o=t.get(tn());null==e&&null!=o&&(e=qo(o,tn()));let u=[];const h=Wt(n.path),m=n.operationForChild(h),E=t.children.get(h);if(E&&m){const D=e?e.getImmediateChild(h):null,k=qD(r,h);u=u.concat(hT(m,E,D,k))}return o&&(u=u.concat(Ba(o,n,r,e))),u}}function fT(n,t,e,r){const o=t.get(tn());null==e&&null!=o&&(e=qo(o,tn()));let u=[];return t.children.inorderTraversal((h,m)=>{const E=e?e.getImmediateChild(h):null,D=qD(r,h),k=n.operationForChild(h);k&&(u=u.concat(fT(k,m,E,D)))}),o&&(u=u.concat(Ba(o,n,r,e))),u}function Ib(n,t){const e=t.query,r=tm(n,e);return{hashFn:()=>(function _b(n){return n.viewCache_.serverCache.getNode()}(t)||Bt.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return r?function cT(n,t,e){const r=Db(n,e);if(r){const o=Tb(r),u=o.path,h=o.queryId,m=cr(u,t);return Sb(n,u,new Wl(Jw(h),m))}return[]}(n,e._path,r):function uT(n,t){return Rd(n,new Wl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const u=function fD(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(o,e);return em(n,e,null,u)}}}}function tm(n,t){const e=nm(t);return n.queryToTagMap.get(e)}function nm(n){return n._path.toString()+"$"+n._queryIdentifier}function Db(n,t){return n.tagToQueryMap.get(t)}function Tb(n){const t=n.indexOf("$");return(0,Z.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new ln(n.substr(0,t))}}function Sb(n,t,e){const r=n.syncPointTree_.get(t);return(0,Z.hu)(r,"Missing sync point for query tag that we're tracking"),Ba(r,e,Zg(n.pendingWriteTree_,t),null)}function rm(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function wb(){return(0,Z.hu)(Rv,"Reference.ts has not been loaded"),Rv}())(n._repo,n._path):n}class Ab{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Ab(e)}node(){return this.node_}}class Mb{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=xn(this.path_,t);return new Mb(this.syncTree_,e)}node(){return Md(this.syncTree_,this.path_)}}const s=function(n,t,e){return n&&"object"==typeof n?((0,Z.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?a(n[".sv"],t,e):"object"==typeof n[".sv"]?l(n[".sv"],t):void(0,Z.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},a=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,Z.hu)(!1,"Unexpected server value: "+n)},l=function(n,t,e){n.hasOwnProperty("increment")||(0,Z.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,Z.hu)(!1,"Unexpected increment value: "+r);const o=t.node();if((0,Z.hu)(null!==o&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const h=o.getValue();return"number"!=typeof h?r:h+r},d=function(n,t,e,r){return y(t,new Mb(e,n),r)},p=function(n,t,e){return y(n,new Ab(t),e)};function y(n,t,e){const r=n.getPriority().val(),o=s(r,t.getImmediateChild(".priority"),e);let u;if(n.isLeafNode()){const h=n,m=s(h.getValue(),t,e);return m!==h.getValue()||o!==h.getPriority().val()?new sc(m,Tn(o)):n}{const h=n;return u=h,o!==h.getPriority().val()&&(u=u.updatePriority(new sc(o))),h.forEachChild(Dn,(m,E)=>{const D=y(E,t.getImmediateChild(m),e);D!==E&&(u=u.updateImmediateChild(m,D))}),u}}class w{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function C(n,t){let e=t instanceof ln?t:new ln(t),r=n,o=Wt(e);for(;null!==o;){const u=(0,Z.DV)(r.node.children,o)||{children:{},childCount:0};r=new w(o,r,u),e=vn(e),o=Wt(e)}return r}function A(n){return n.node.value}function L(n,t){n.node.value=t,lt(n)}function z(n){return n.node.childCount>0}function Te(n,t){br(n.node.children,(e,r)=>{t(new w(e,n,r))})}function Ue(n,t,e,r){e&&!r&&t(n),Te(n,o=>{Ue(o,t,!0,r)}),e&&r&&t(n)}function it(n){return new ln(null===n.parent?n.name:it(n.parent)+"/"+n.name)}function lt(n){null!==n.parent&&function Dt(n,t,e){const r=function ue(n){return void 0===A(n)&&!z(n)}(e),o=(0,Z.r3)(n.node.children,t);r&&o?(delete n.node.children[t],n.node.childCount--,lt(n)):!r&&!o&&(n.node.children[t]=e.node,n.node.childCount++,lt(n))}(n.parent,n.name,n)}const We=/[\[\].#$\/\u0000-\u001F\u007F]/,mt=/[\[\].#$\u0000-\u001F\u007F]/,Kt=10485760,fn=function(n){return"string"==typeof n&&0!==n.length&&!We.test(n)},Kl=function(n){return"string"==typeof n&&0!==n.length&&!mt.test(n)},pc=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!_d(n)||n&&"object"==typeof n&&(0,Z.r3)(n,".sv")},hs=function(n,t,e,r){r&&void 0===t||gc((0,Z.gK)(n,"value"),t,e)},gc=function(n,t,e){const r=e instanceof ln?new kg(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Bl(r));if("function"==typeof t)throw new Error(n+"contains a function "+Bl(r)+" with contents = "+t.toString());if(_d(t))throw new Error(n+"contains "+t.toString()+" "+Bl(r));if("string"==typeof t&&t.length>Kt/3&&(0,Z.ug)(t)>Kt)throw new Error(n+"contains a string greater than "+Kt+" utf8 bytes "+Bl(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let o=!1,u=!1;if(br(t,(h,m)=>{if(".value"===h)o=!0;else if(".priority"!==h&&".sv"!==h&&(u=!0,!fn(h)))throw new Error(n+" contains an invalid key ("+h+") "+Bl(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Fg(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,Z.ug)(t),Pw(n)})(r,h),gc(n,m,r),function OD(n){const t=n.parts_.pop();n.byteLength_-=(0,Z.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),o&&u)throw new Error(n+' contains ".value" child '+Bl(r)+" in addition to actual children.")}},im=function(n,t,e,r){if(r&&void 0===t)return;const o=(0,Z.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const u=[];br(t,(h,m)=>{const E=new ln(h);if(gc(o,m,xn(e,E)),".priority"===nc(E)&&!pc(m))throw new Error(o+"contains an invalid value for '"+E.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(E)}),function(n,t){let e,r;for(e=0;e<t.length;e++){r=t[e];const u=rc(r);for(let h=0;h<u.length;h++)if((".priority"!==u[h]||h!==u.length-1)&&!fn(u[h]))throw new Error(n+"contains an invalid key ("+u[h]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(PD);let o=null;for(e=0;e<t.length;e++){if(r=t[e],null!==o&&ds(o,r))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(o,u)},Of=function(n,t,e){if(!e||void 0!==t){if(_d(t))throw new Error((0,Z.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!pc(t))throw new Error((0,Z.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},mc=function(n,t,e,r){if(!(r&&void 0===e||fn(e)))throw new Error((0,Z.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},_c=function(n,t,e,r){if(!(r&&void 0===e||Kl(e)))throw new Error((0,Z.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Zo=function(n,t){if(".info"===Wt(t))throw new Error(n+" failed = Can't modify data under /.info/")},rA=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!fn(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Kl(n)}(e))throw new Error((0,Z.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class fR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Rb(n,t){let e=null;for(let r=0;r<t.length;r++){const o=t[r],u=o.getPath();null!==e&&!Xy(u,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:u}),e.events.push(o)}e&&n.eventLists_.push(e)}function gT(n,t,e){Rb(n,e),iA(n,r=>Xy(r,t))}function Ko(n,t,e){Rb(n,e),iA(n,r=>ds(r,t)||ds(t,r))}function iA(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const o=n.eventLists_[r];o&&(t(o.path)?(pR(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function pR(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();Fl&&wr("event: "+e.toString()),yd(r)}}}const sA="repo_interrupt";class mR{constructor(t,e,r,o){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wg(),this.transactionQueueTree_=new w,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function oA(n){const e=n.infoData_.getNode(new ln(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Fv(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:oA(n)})}function aA(n,t,e,r,o){n.dataUpdateCount++;const u=new ln(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let h=[];if(o)if(r){const E=(0,Z.UI)(e,D=>Tn(D));h=function XS(n,t,e,r){const o=Db(n,r);if(o){const u=Tb(o),h=u.path,m=u.queryId,E=cr(h,t),D=Sn.fromObject(e);return Sb(n,h,new lc(Jw(m),E,D))}return[]}(n.serverSyncTree_,u,E,o)}else{const E=Tn(e);h=function Ov(n,t,e,r){const o=Db(n,r);if(null!=o){const u=Tb(o),h=u.path,m=u.queryId,E=cr(h,t);return Sb(n,h,new zl(Jw(m),E,e))}return[]}(n.serverSyncTree_,u,E,o)}else if(r){const E=(0,Z.UI)(e,D=>Tn(D));h=function Cb(n,t,e){const r=Sn.fromObject(e);return Rd(n,new lc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,u,E)}else{const E=Tn(e);h=Ad(n.serverSyncTree_,u,E)}let m=u;h.length>0&&(m=om(n,u)),Ko(n.eventQueue_,m,h)}function lA(n,t){mT(n,"connected",t),!1===t&&function wR(n){sm(n,"onDisconnectEvents");const t=Fv(n),e=Wg();zg(n.onDisconnect_,tn(),(o,u)=>{const h=d(o,u,n.serverSyncTree_,t);Dd(e,o,h)});let r=[];zg(e,tn(),(o,u)=>{r=r.concat(Ad(n.serverSyncTree_,o,u));const h=ET(n,o);om(n,h)}),n.onDisconnect_=Wg(),Ko(n.eventQueue_,tn(),r)}(n)}function mT(n,t,e){const r=new ln("/.info/"+t),o=Tn(e);n.infoData_.updateSnapshot(r,o);const u=Ad(n.infoSyncTree_,r,o);Ko(n.eventQueue_,r,u)}function Pb(n){return n.nextWriteId_++}function _T(n,t,e,r,o){sm(n,"set",{path:t.toString(),value:e,priority:r});const u=Fv(n),h=Tn(e,r),m=Md(n.serverSyncTree_,t),E=p(h,m,u),D=Pb(n),k=Pv(n.serverSyncTree_,t,E,D,!0);Rb(n.eventQueue_,k),n.server_.put(t.toString(),h.val(!0),(oe,ve)=>{const Oe="ok"===oe;Oe||qr("set at "+t+" failed: "+oe);const $e=ja(n.serverSyncTree_,D,!Oe);Ko(n.eventQueue_,t,$e),Pd(0,o,oe,ve)});const N=ET(n,t);om(n,N),Ko(n.eventQueue_,N,[])}function bR(n,t,e){n.server_.onDisconnectCancel(t.toString(),(r,o)=>{"ok"===r&&Yw(n.onDisconnect_,t),Pd(0,e,r,o)})}function uA(n,t,e,r){const o=Tn(e);n.server_.onDisconnectPut(t.toString(),o.val(!0),(u,h)=>{"ok"===u&&Dd(n.onDisconnect_,t,o),Pd(0,r,u,h)})}function yT(n,t,e){let r;r=".info"===Wt(t._path)?em(n.infoSyncTree_,t,e):em(n.serverSyncTree_,t,e),gT(n.eventQueue_,t._path,r)}function cA(n){n.persistentConnection_&&n.persistentConnection_.interrupt(sA)}function sm(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),wr(e,...t)}function Pd(n,t,e,r){t&&yd(()=>{if("ok"===e)t(null);else{const o=(e||"error").toUpperCase();let u=o;r&&(u+=": "+r);const h=new Error(u);h.code=o,t(h)}})}function vT(n,t,e){return Md(n.serverSyncTree_,t,e)||Bt.EMPTY_NODE}function Ob(n,t=n.transactionQueueTree_){if(t||xb(n,t),A(t)){const e=hA(n,t);(0,Z.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function AR(n,t,e){const r=e.map(D=>D.currentWriteId),o=vT(n,t,r);let u=o;const h=o.hash();for(let D=0;D<e.length;D++){const k=e[D];(0,Z.hu)(0===k.status,"tryToSendTransactionQueue_: items in queue should all be run."),k.status=1,k.retryCount++;const N=cr(t,k.path);u=u.updateChild(N,k.currentOutputSnapshotRaw)}const m=u.val(!0),E=t;n.server_.put(E.toString(),m,D=>{sm(n,"transaction put response",{path:E.toString(),status:D});let k=[];if("ok"===D){const N=[];for(let oe=0;oe<e.length;oe++)e[oe].status=2,k=k.concat(ja(n.serverSyncTree_,e[oe].currentWriteId)),e[oe].onComplete&&N.push(()=>e[oe].onComplete(null,!0,e[oe].currentOutputSnapshotResolved)),e[oe].unwatcher();xb(n,C(n.transactionQueueTree_,t)),Ob(n,n.transactionQueueTree_),Ko(n.eventQueue_,t,k);for(let oe=0;oe<N.length;oe++)yd(N[oe])}else{if("datastale"===D)for(let N=0;N<e.length;N++)e[N].status=3===e[N].status?4:0;else{qr("transaction at "+E.toString()+" failed: "+D);for(let N=0;N<e.length;N++)e[N].status=4,e[N].abortReason=D}om(n,t)}},h)}(n,it(t),e)}else z(t)&&Te(t,e=>{Ob(n,e)})}function om(n,t){const e=dA(n,t),r=it(e);return function MR(n,t,e){if(0===t.length)return;const r=[];let o=[];const h=t.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const E=t[m],D=cr(e,E.path);let N,k=!1;if((0,Z.hu)(null!==D,"rerunTransactionsUnderNode_: relativePath should not be null."),4===E.status)k=!0,N=E.abortReason,o=o.concat(ja(n.serverSyncTree_,E.currentWriteId,!0));else if(0===E.status)if(E.retryCount>=25)k=!0,N="maxretry",o=o.concat(ja(n.serverSyncTree_,E.currentWriteId,!0));else{const oe=vT(n,E.path,h);E.currentInputSnapshot=oe;const ve=t[m].update(oe.val());if(void 0!==ve){gc("transaction failed: Data returned ",ve,E.path);let Oe=Tn(ve);"object"==typeof ve&&null!=ve&&(0,Z.r3)(ve,".priority")||(Oe=Oe.updatePriority(oe.getPriority()));const et=E.currentWriteId,_t=Fv(n),vt=p(Oe,oe,_t);E.currentOutputSnapshotRaw=Oe,E.currentOutputSnapshotResolved=vt,E.currentWriteId=Pb(n),h.splice(h.indexOf(et),1),o=o.concat(Pv(n.serverSyncTree_,E.path,vt,E.currentWriteId,E.applyLocally)),o=o.concat(ja(n.serverSyncTree_,et,!0))}else k=!0,N="nodata",o=o.concat(ja(n.serverSyncTree_,E.currentWriteId,!0))}Ko(n.eventQueue_,e,o),o=[],k&&(t[m].status=2,setTimeout(t[m].unwatcher,Math.floor(0)),t[m].onComplete&&r.push("nodata"===N?()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot):()=>t[m].onComplete(new Error(N),!1,null)))}xb(n,n.transactionQueueTree_);for(let m=0;m<r.length;m++)yd(r[m]);Ob(n,n.transactionQueueTree_)}(n,hA(n,e),r),r}function dA(n,t){let e,r=n.transactionQueueTree_;for(e=Wt(t);null!==e&&void 0===A(r);)r=C(r,e),e=Wt(t=vn(t));return r}function hA(n,t){const e=[];return fA(n,t,e),e.sort((r,o)=>r.order-o.order),e}function fA(n,t,e){const r=A(t);if(r)for(let o=0;o<r.length;o++)e.push(r[o]);Te(t,o=>{fA(n,o,e)})}function xb(n,t){const e=A(t);if(e){let r=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[r]=e[o],r++);e.length=r,L(t,e.length>0?e:void 0)}Te(t,r=>{xb(n,r)})}function ET(n,t){const e=it(dA(n,t)),r=C(n.transactionQueueTree_,t);return function Qe(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,o=>{wT(n,o)}),wT(n,r),Ue(r,o=>{wT(n,o)}),e}function wT(n,t){const e=A(t);if(e){const r=[];let o=[],u=-1;for(let h=0;h<e.length;h++)3===e[h].status||(1===e[h].status?((0,Z.hu)(u===h-1,"All SENT items should be at beginning of queue."),u=h,e[h].status=3,e[h].abortReason="set"):((0,Z.hu)(0===e[h].status,"Unexpected transaction status in abort"),e[h].unwatcher(),o=o.concat(ja(n.serverSyncTree_,e[h].currentWriteId,!0)),e[h].onComplete&&r.push(e[h].onComplete.bind(null,new Error("set"),!1,null))));-1===u?L(t,void 0):e.length=u+1,Ko(n.eventQueue_,it(t),o);for(let h=0;h<r.length;h++)yd(r[h])}}const bT=function(n,t){const e=OR(n),r=e.namespace;return"firebase.com"===e.domain&&jo(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&jo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&qr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new $y(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,t,"",r!==e.subdomain),path:new ln(e.pathString)}},OR=function(n){let t="",e="",r="",o="",u="",h=!0,m="https",E=443;if("string"==typeof n){let D=n.indexOf("//");D>=0&&(m=n.substring(0,D-1),n=n.substring(D+2));let k=n.indexOf("/");-1===k&&(k=n.length);let N=n.indexOf("?");-1===N&&(N=n.length),t=n.substring(0,Math.min(k,N)),k<N&&(o=function RR(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let o=e[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}(n.substring(k,N)));const oe=function PR(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):qr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,N)));D=t.indexOf(":"),D>=0?(h="https"===m||"wss"===m,E=parseInt(t.substring(D+1),10)):D=t.length;const ve=t.slice(0,D);if("localhost"===ve.toLowerCase())e="localhost";else if(ve.split(".").length<=2)e=ve;else{const Oe=t.indexOf(".");r=t.substring(0,Oe).toLowerCase(),e=t.substring(Oe+1),u=r}"ns"in oe&&(u=oe.ns)}return{host:t,port:E,domain:e,subdomain:r,secure:h,scheme:m,pathString:o,namespace:u}};class pA{constructor(t,e,r,o){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=o}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Z.Pz)(this.snapshot.exportVal())}}class gA{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class mA{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,Z.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class _A{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new Z.BH;return bR(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Zo("OnDisconnect.remove",this._path);const t=new Z.BH;return uA(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Zo("OnDisconnect.set",this._path),hs("OnDisconnect.set",t,this._path,!1);const e=new Z.BH;return uA(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Zo("OnDisconnect.setWithPriority",this._path),hs("OnDisconnect.setWithPriority",t,this._path,!1),Of("OnDisconnect.setWithPriority",e,!1);const r=new Z.BH;return function CR(n,t,e,r,o){const u=Tn(e,r);n.server_.onDisconnectPut(t.toString(),u.val(!0),(h,m)=>{"ok"===h&&Dd(n.onDisconnect_,t,u),Pd(0,o,h,m)})}(this._repo,this._path,t,e,r.wrapCallback(()=>{})),r.promise}update(t){Zo("OnDisconnect.update",this._path),im("OnDisconnect.update",t,this._path,!1);const e=new Z.BH;return function IR(n,t,e,r){if((0,Z.xb)(e))return wr("onDisconnect().update() called with empty data.  Don't do anything."),void Pd(0,r,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(o,u)=>{"ok"===o&&br(e,(h,m)=>{const E=Tn(m);Dd(n.onDisconnect_,xn(t,h),E)}),Pd(0,r,o,u)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class fs{constructor(t,e,r,o){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=o}get key(){return jt(this._path)?null:nc(this._path)}get ref(){return new Yo(this._repo,this._path)}get _queryIdentifier(){const t=hv(this._queryParams),e=ky(t);return"{}"===e?"default":e}get _queryObject(){return hv(this._queryParams)}isEqual(t){if(!((t=(0,Z.m9)(t))instanceof fs))return!1;const e=this._repo===t._repo,r=Xy(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function RD(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Nb(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Od(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Go){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ho)throw new Error(r);if("string"!=typeof t)throw new Error(o)}if(n.hasEnd()){if(n.getIndexEndName()!==$o)throw new Error(r);if("string"!=typeof e)throw new Error(o)}}else if(n.getIndex()===Dn){if(null!=t&&!pc(t)||null!=e&&!pc(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Z.hu)(n.getIndex()instanceof jg||n.getIndex()===Id,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function kb(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Yo extends fs{constructor(t,e){super(t,e,new Cf,!1)}get parent(){const t=Hs(this._path);return null===t?null:new Yo(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class xf{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new ln(t),r=Nf(this.ref,t);return new xf(this._node.getChild(e),r,Dn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,o)=>t(new xf(o,Nf(this.ref,r),Dn)))}hasChild(t){const e=new ln(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function yA(n,t){return(n=(0,Z.m9)(n))._checkNotDeleted("ref"),void 0!==t?Nf(n._root,t):n._root}function vA(n,t){(n=(0,Z.m9)(n))._checkNotDeleted("refFromURL");const e=bT(t,n._repo.repoInfo_.nodeAdmin);rA("refFromURL",e);const r=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&jo("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),yA(n,e.path.toString())}function Nf(n,t){return null===Wt((n=(0,Z.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),_c("child","path",e,!1)):_c("child","path",t,!1),new Yo(n._repo,xn(n._path,t));var e}function CT(n,t){n=(0,Z.m9)(n),Zo("set",n._path),hs("set",t,n._path,!1);const e=new Z.BH;return _T(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function LR(n,t){im("update",t,n._path,!1);const e=new Z.BH;return function ER(n,t,e,r){sm(n,"update",{path:t.toString(),value:e});let o=!0;const u=Fv(n),h={};if(br(e,(m,E)=>{o=!1,h[m]=d(xn(t,m),Tn(E),n.serverSyncTree_,u)}),o)wr("update() called with empty data.  Don't do anything."),Pd(0,r,"ok",void 0);else{const m=Pb(n),E=function lT(n,t,e,r){!function sb(n,t,e,r){(0,Z.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:r,visible:!0}),n.visibleWrites=pv(n.visibleWrites,t,e),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r);const o=Sn.fromObject(e);return Rd(n,new lc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}(n.serverSyncTree_,t,h,m);Rb(n.eventQueue_,E),n.server_.merge(t.toString(),e,(D,k)=>{const N="ok"===D;N||qr("update at "+t+" failed: "+D);const oe=ja(n.serverSyncTree_,m,!N),ve=oe.length>0?om(n,t):t;Ko(n.eventQueue_,ve,oe),Pd(0,r,D,k)}),br(e,D=>{const k=ET(n,xn(t,D));om(n,k)}),Ko(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function UR(n){return function vR(n,t){const e=function dT(n,t){const e=t._path;let r=null;n.syncPointTree_.foreachOnPath(e,(D,k)=>{const N=cr(D,e);r=r||qo(k,N)});let o=n.syncPointTree_.get(e);o?r=r||qo(o,tn()):(o=new Rf,n.syncPointTree_=n.syncPointTree_.set(e,o));const u=null!=r,h=u?new uc(r,!0,!1):null;return function eT(n){return cc(n.viewCache_)}(Tv(o,t,Zg(n.pendingWriteTree_,t._path),u?h.getNode():Bt.EMPTY_NODE,u))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(r=>{const o=Tn(r).withIndex(t._queryParams.getIndex()),u=Ad(n.serverSyncTree_,t._path,o);return gT(n.eventQueue_,t._path,u),Promise.resolve(o)},r=>(sm(n,"get for query "+(0,Z.Pz)(t)+" failed: "+r),Promise.reject(new Error(r))))}((n=(0,Z.m9)(n))._repo,n).then(t=>new xf(t,new Yo(n._repo,n._path),n._queryParams.getIndex()))}class Fb{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new pA("value",this,new xf(t.snapshotNode,new Yo(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new gA(this,t,e):null}matches(t){return t instanceof Fb&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Lb{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new gA(this,t,e):null}createEvent(t,e){(0,Z.hu)(null!=t.childName,"Child events should have a childName.");const r=Nf(new Yo(e._repo,e._path),t.childName),o=e._queryParams.getIndex();return new pA(t.type,this,new xf(t.snapshotNode,r,o),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Lb&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Lv(n,t,e,r,o){let u;if("object"==typeof r&&(u=void 0,o=r),"function"==typeof r&&(u=r),o&&o.onlyOnce){const E=e,D=(k,N)=>{yT(n._repo,n,m),E(k,N)};D.userCallback=e.userCallback,D.context=e.context,e=D}const h=new mA(e,u||void 0),m="value"===t?new Fb(h):new Lb(t,h);return function DR(n,t,e){let r;r=".info"===Wt(t._path)?xv(n.infoSyncTree_,t,e):xv(n.serverSyncTree_,t,e),gT(n.eventQueue_,t._path,r)}(n._repo,n,m),()=>yT(n._repo,n,m)}function IT(n,t,e,r){return Lv(n,"value",t,e,r)}function EA(n,t,e,r){return Lv(n,"child_added",t,e,r)}function wA(n,t,e,r){return Lv(n,"child_changed",t,e,r)}function bA(n,t,e,r){return Lv(n,"child_moved",t,e,r)}function CA(n,t,e,r){return Lv(n,"child_removed",t,e,r)}function IA(n,t,e){let r=null;const o=e?new mA(e):null;"value"===t?r=new Fb(o):t&&(r=new Lb(t,o)),yT(n._repo,n,r)}class Ha{}class DA extends Ha{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){hs("endAt",this._value,t._path,!0);const e=cv(t._queryParams,this._value,this._key);if(kb(e),Od(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new fs(t._repo,t._path,e,t._orderByCalled)}}class BR extends Ha{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){hs("endBefore",this._value,t._path,!1);const e=function Zw(n,t,e){let r,o;return n.index_===Go?("string"==typeof t&&(t=Ww(t)),o=cv(n,t,e)):(r=null==e?Ho:Ww(e),o=cv(n,t,r)),o.endBeforeSet_=!0,o}(t._queryParams,this._value,this._key);if(kb(e),Od(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new fs(t._repo,t._path,e,t._orderByCalled)}}class TA extends Ha{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){hs("startAt",this._value,t._path,!0);const e=$g(t._queryParams,this._value,this._key);if(kb(e),Od(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new fs(t._repo,t._path,e,t._orderByCalled)}}class $R extends Ha{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){hs("startAfter",this._value,t._path,!1);const e=function BD(n,t,e){let r;if(n.index_===Go)"string"==typeof t&&(t=ac(t)),r=$g(n,t,e);else{let o;o=null==e?$o:ac(e),r=$g(n,t,o)}return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(kb(e),Od(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new fs(t._repo,t._path,e,t._orderByCalled)}}class WR extends Ha{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new fs(t._repo,t._path,function VD(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class qR extends Ha{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new fs(t._repo,t._path,function qw(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class KR extends Ha{constructor(t){super(),this._path=t}_apply(t){Nb(t,"orderByChild");const e=new ln(this._path);if(jt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new jg(e),o=Gg(t._queryParams,r);return Od(o),new fs(t._repo,t._path,o,!0)}}class QR extends Ha{_apply(t){Nb(t,"orderByKey");const e=Gg(t._queryParams,Go);return Od(e),new fs(t._repo,t._path,e,!0)}}class XR extends Ha{_apply(t){Nb(t,"orderByPriority");const e=Gg(t._queryParams,Dn);return Od(e),new fs(t._repo,t._path,e,!0)}}class tP extends Ha{_apply(t){Nb(t,"orderByValue");const e=Gg(t._queryParams,Id);return Od(e),new fs(t._repo,t._path,e,!0)}}class rP extends Ha{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(hs("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new DA(this._value,this._key)._apply(new TA(this._value,this._key)._apply(t))}}function $a(n,...t){let e=(0,Z.m9)(n);for(const r of t)e=r._apply(e);return e}(function sT(n){(0,Z.hu)(!Jg,"__referenceConstructor has already been defined"),Jg=n})(Yo),function JS(n){(0,Z.hu)(!Rv,"__referenceConstructor has already been defined"),Rv=n}(Yo);const DT={};function AA(n,t,e,r,o){let u=r||n.options.databaseURL;void 0===u&&(n.options.projectId||jo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),wr("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let E,D,h=bT(u,o),m=h.repoInfo;typeof process<"u"&&process.env&&(D=process.env.FIREBASE_DATABASE_EMULATOR_HOST),D?(E=!0,u=`http://${D}?ns=${m.namespace}`,h=bT(u,o),m=h.repoInfo):E=!h.repoInfo.secure;const k=o&&E?new mf(mf.OWNER):new Vy(n.name,n.options,t);rA("Invalid Firebase Database URL",h),jt(h.path)||jo("Database URL must point to the root of a Firebase Database (not including a child path).");const N=function lP(n,t,e,r){let o=DT[t.name];o||(o={},DT[t.name]=o);let u=o[n.toURLString()];return u&&jo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new mR(n,false,e,r),o[n.toURLString()]=u,u}(m,n,k,new dw(n.name,e));return new cP(N,n)}class cP{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function _R(n,t,e){if(n.stats_=_w(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new If(n.repoInfo_,(r,o,u,h)=>{aA(n,r,o,u,h)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>lA(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Z.Pz)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new La(n.repoInfo_,t,(r,o,u,h)=>{aA(n,r,o,u,h)},r=>{lA(n,r)},r=>{!function yR(n,t){br(t,(e,r)=>{mT(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function yw(n,t){const e=n.toString();return Gy[e]||(Gy[e]=t()),Gy[e]}(n.repoInfo_,()=>new WS(n.stats_,n.server_)),n.infoData_=new Kw,n.infoSyncTree_=new bb({startListening:(r,o,u,h)=>{let m=[];const E=n.infoData_.getNode(r._path);return E.isEmpty()||(m=Ad(n.infoSyncTree_,r._path,E),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),mT(n,"connected",!1),n.serverSyncTree_=new bb({startListening:(r,o,u,h)=>(n.server_.listen(r,u,o,(m,E)=>{const D=h(m,E);Ko(n.eventQueue_,r._path,D)}),[]),stopListening:(r,o)=>{n.server_.unlisten(r,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yo(this._repo,tn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function aP(n,t){const e=DT[t];(!e||e[n.key]!==n)&&jo(`Database ${t}(${n.repoInfo_}) has already been deleted.`),cA(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&jo("Cannot call "+t+" on a deleted database.")}}function MA(){Cw.IS_TRANSPORT_INITIALIZED&&qr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function dP(){MA(),Ul.forceDisallow()}function hP(){MA(),wd.forceDisallow(),Ul.forceAllow()}function mP(n,t){Sg(n,t)}const yP={".sv":"timestamp"};class wP{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}La.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},La.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function _P(n){nw(xs.SDK_VERSION),(0,xs._registerComponent)(new Fo.wA("database",(t,{instanceIdentifier:e})=>AA(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,xs.registerVersion)(ew,"0.13.0",n),(0,xs.registerVersion)(ew,"0.13.0","esm2017")}();const DP=new $h.Yd("@firebase/database-compat"),RA=function(n){DP.warn("FIREBASE WARNING: "+n)};class AP{constructor(t){this._delegate=t}cancel(t){(0,Z.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Z.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),r=>t(r)),e}remove(t){(0,Z.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Z.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),r=>t(r)),e}set(t,e){(0,Z.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Z.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(t);return e&&r.then(()=>e(null),o=>e(o)),r}setWithPriority(t,e,r){(0,Z.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Z.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const o=this._delegate.setWithPriority(t,e);return r&&o.then(()=>r(null),u=>r(u)),o}update(t,e){if((0,Z.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let u=0;u<t.length;++u)o[""+u]=t[u];t=o,RA("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Z.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(t);return e&&r.then(()=>e(null),o=>e(o)),r}}class MP{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,Z.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class xd{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,Z.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Z.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Z.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Z.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,Z.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),_c("DataSnapshot.child","path",t,!1),new xd(this._database,this._delegate.child(t))}hasChild(t){return(0,Z.Dv)("DataSnapshot.hasChild",1,1,arguments.length),_c("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,Z.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,Z.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Z.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new xd(this._database,e)))}hasChildren(){return(0,Z.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Z.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Z.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ws(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ai{constructor(t,e){this.database=t,this._delegate=e}on(t,e,r,o){var u;(0,Z.Dv)("Query.on",2,4,arguments.length),(0,Z.Wj)("Query.on","callback",e,!1);const h=ai.getCancelAndContextArgs_("Query.on",r,o),m=(D,k)=>{e.call(h.context,new xd(this.database,D),k)};m.userCallback=e,m.context=h.context;const E=null===(u=h.cancel)||void 0===u?void 0:u.bind(h.context);switch(t){case"value":return IT(this._delegate,m,E),e;case"child_added":return EA(this._delegate,m,E),e;case"child_removed":return CA(this._delegate,m,E),e;case"child_changed":return wA(this._delegate,m,E),e;case"child_moved":return bA(this._delegate,m,E),e;default:throw new Error((0,Z.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,r){if((0,Z.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Z.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,Z.Wj)("Query.off","callback",e,!0),(0,Z.lb)("Query.off","context",r,!0),e){const o=()=>{};o.userCallback=e,o.context=r,IA(this._delegate,t,o)}else IA(this._delegate,t)}get(){return UR(this._delegate).then(t=>new xd(this.database,t))}once(t,e,r,o){(0,Z.Dv)("Query.once",1,4,arguments.length),(0,Z.Wj)("Query.once","callback",e,!0);const u=ai.getCancelAndContextArgs_("Query.once",r,o),h=new Z.BH,m=(D,k)=>{const N=new xd(this.database,D);e&&e.call(u.context,N,k),h.resolve(N)};m.userCallback=e,m.context=u.context;const E=D=>{u.cancel&&u.cancel.call(u.context,D),h.reject(D)};switch(t){case"value":IT(this._delegate,m,E,{onlyOnce:!0});break;case"child_added":EA(this._delegate,m,E,{onlyOnce:!0});break;case"child_removed":CA(this._delegate,m,E,{onlyOnce:!0});break;case"child_changed":wA(this._delegate,m,E,{onlyOnce:!0});break;case"child_moved":bA(this._delegate,m,E,{onlyOnce:!0});break;default:throw new Error((0,Z.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(t){return(0,Z.Dv)("Query.limitToFirst",1,1,arguments.length),new ai(this.database,$a(this._delegate,function zR(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new WR(n)}(t)))}limitToLast(t){return(0,Z.Dv)("Query.limitToLast",1,1,arguments.length),new ai(this.database,$a(this._delegate,function ZR(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new qR(n)}(t)))}orderByChild(t){return(0,Z.Dv)("Query.orderByChild",1,1,arguments.length),new ai(this.database,$a(this._delegate,function YR(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return _c("orderByChild","path",n,!1),new KR(n)}(t)))}orderByKey(){return(0,Z.Dv)("Query.orderByKey",0,0,arguments.length),new ai(this.database,$a(this._delegate,function JR(){return new QR}()))}orderByPriority(){return(0,Z.Dv)("Query.orderByPriority",0,0,arguments.length),new ai(this.database,$a(this._delegate,function eP(){return new XR}()))}orderByValue(){return(0,Z.Dv)("Query.orderByValue",0,0,arguments.length),new ai(this.database,$a(this._delegate,function nP(){return new tP}()))}startAt(t=null,e){return(0,Z.Dv)("Query.startAt",0,2,arguments.length),new ai(this.database,$a(this._delegate,function HR(n=null,t){return mc("startAt","key",t,!0),new TA(n,t)}(t,e)))}startAfter(t=null,e){return(0,Z.Dv)("Query.startAfter",0,2,arguments.length),new ai(this.database,$a(this._delegate,function GR(n,t){return mc("startAfter","key",t,!0),new $R(n,t)}(t,e)))}endAt(t=null,e){return(0,Z.Dv)("Query.endAt",0,2,arguments.length),new ai(this.database,$a(this._delegate,function VR(n,t){return mc("endAt","key",t,!0),new DA(n,t)}(t,e)))}endBefore(t=null,e){return(0,Z.Dv)("Query.endBefore",0,2,arguments.length),new ai(this.database,$a(this._delegate,function jR(n,t){return mc("endBefore","key",t,!0),new BR(n,t)}(t,e)))}equalTo(t,e){return(0,Z.Dv)("Query.equalTo",1,2,arguments.length),new ai(this.database,$a(this._delegate,function iP(n,t){return mc("equalTo","key",t,!0),new rP(n,t)}(t,e)))}toString(){return(0,Z.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Z.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,Z.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ai))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,r){const o={cancel:void 0,context:void 0};if(e&&r)o.cancel=e,(0,Z.Wj)(t,"cancel",o.cancel,!0),o.context=r,(0,Z.lb)(t,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,Z.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new Ws(this.database,new Yo(this._delegate._repo,this._delegate._path))}}class Ws extends ai{constructor(t,e){super(t,new fs(e._repo,e._path,new Cf,!1)),this.database=t,this._delegate=e}getKey(){return(0,Z.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,Z.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ws(this.database,Nf(this._delegate,t))}getParent(){(0,Z.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ws(this.database,t):null}getRoot(){return(0,Z.Dv)("Reference.root",0,0,arguments.length),new Ws(this.database,this._delegate.root)}set(t,e){(0,Z.Dv)("Reference.set",1,2,arguments.length),(0,Z.Wj)("Reference.set","onComplete",e,!0);const r=CT(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}update(t,e){if((0,Z.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let u=0;u<t.length;++u)o[""+u]=t[u];t=o,RA("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Zo("Reference.update",this._delegate._path),(0,Z.Wj)("Reference.update","onComplete",e,!0);const r=LR(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}setWithPriority(t,e,r){(0,Z.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Z.Wj)("Reference.setWithPriority","onComplete",r,!0);const o=function FR(n,t,e){if(Zo("setWithPriority",n._path),hs("setWithPriority",t,n._path,!1),Of("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new Z.BH;return _T(n._repo,n._path,t,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return r&&o.then(()=>r(null),u=>r(u)),o}remove(t){(0,Z.Dv)("Reference.remove",0,1,arguments.length),(0,Z.Wj)("Reference.remove","onComplete",t,!0);const e=function NR(n){return Zo("remove",n._path),CT(n,null)}(this._delegate);return t&&e.then(()=>t(null),r=>t(r)),e}transaction(t,e,r){(0,Z.Dv)("Reference.transaction",1,3,arguments.length),(0,Z.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,Z.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,Z.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const o=function bP(n,t,e){var r;if(n=(0,Z.m9)(n),Zo("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const o=null===(r=e?.applyLocally)||void 0===r||r,u=new Z.BH,m=IT(n,()=>{});return function SR(n,t,e,r,o,u){sm(n,"transaction on "+t);const h={path:t,update:e,onComplete:r,status:null,order:sw(),applyLocally:u,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=vT(n,t,void 0);h.currentInputSnapshot=m;const E=h.update(m.val());if(void 0===E)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{gc("transaction failed: Data returned ",E,h.path),h.status=0;const D=C(n.transactionQueueTree_,t),k=A(D)||[];let N;k.push(h),L(D,k),"object"==typeof E&&null!==E&&(0,Z.r3)(E,".priority")?(N=(0,Z.DV)(E,".priority"),(0,Z.hu)(pc(N),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):N=(Md(n.serverSyncTree_,t)||Bt.EMPTY_NODE).getPriority().val();const oe=Fv(n),ve=Tn(E,N),Oe=p(ve,m,oe);h.currentOutputSnapshotRaw=ve,h.currentOutputSnapshotResolved=Oe,h.currentWriteId=Pb(n);const $e=Pv(n.serverSyncTree_,t,Oe,h.currentWriteId,h.applyLocally);Ko(n.eventQueue_,t,$e),Ob(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(E,D,k)=>{let N=null;E?u.reject(E):(N=new xf(k,new Yo(n._repo,n._path),Dn),u.resolve(new wP(D,N)))},m,o),u.promise}(this._delegate,t,{applyLocally:r}).then(u=>new MP(u.committed,new xd(this.database,u.snapshot)));return e&&o.then(u=>e(null,u.committed,u.snapshot),u=>e(u,!1,null)),o}setPriority(t,e){(0,Z.Dv)("Reference.setPriority",1,2,arguments.length),(0,Z.Wj)("Reference.setPriority","onComplete",e,!0);const r=function kR(n,t){n=(0,Z.m9)(n),Zo("setPriority",n._path),Of("setPriority",t,!1);const e=new Z.BH;return _T(n._repo,xn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}push(t,e){(0,Z.Dv)("Reference.push",0,2,arguments.length),(0,Z.Wj)("Reference.push","onComplete",e,!0);const r=function xR(n,t){n=(0,Z.m9)(n),Zo("push",n._path),hs("push",t,n._path,!0);const e=oA(n._repo),r=Gw(e),o=Nf(n,r),u=Nf(n,r);let h;return h=null!=t?CT(u,t).then(()=>u):Promise.resolve(u),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}(this._delegate,t),o=r.then(h=>new Ws(this.database,h));e&&o.then(()=>e(null),h=>e(h));const u=new Ws(this.database,r);return u.then=o.then.bind(o),u.catch=o.catch.bind(o,void 0),u}onDisconnect(){return Zo("Reference.onDisconnect",this._delegate._path),new AP(new _A(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Uv{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:dP,forceLongPolling:hP}}useEmulator(t,e,r={}){!function fP(n,t,e,r={}){(n=(0,Z.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&jo("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let u;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&jo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new mf(mf.OWNER);else if(r.mockUserToken){const h="string"==typeof r.mockUserToken?r.mockUserToken:(0,Z.Sg)(r.mockUserToken,n.app.options.projectId);u=new mf(h)}!function oP(n,t,e,r){n.repoInfo_=new $y(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(o,t,e,u)}(this._delegate,t,e,r)}ref(t){if((0,Z.Dv)("database.ref",0,1,arguments.length),t instanceof Ws){const e=vA(this._delegate,t.toString());return new Ws(this,e)}{const e=yA(this._delegate,t);return new Ws(this,e)}}refFromURL(t){(0,Z.Dv)("database.refFromURL",1,1,arguments.length);const r=vA(this._delegate,t);return new Ws(this,r)}goOffline(){return(0,Z.Dv)("database.goOffline",0,0,arguments.length),function pP(n){(n=(0,Z.m9)(n))._checkNotDeleted("goOffline"),cA(n._repo)}(this._delegate)}goOnline(){return(0,Z.Dv)("database.goOnline",0,0,arguments.length),function gP(n){(n=(0,Z.m9)(n))._checkNotDeleted("goOnline"),function TR(n){n.persistentConnection_&&n.persistentConnection_.resume(sA)}(n._repo)}(this._delegate)}}Uv.ServerValue={TIMESTAMP:function vP(){return yP}(),increment:n=>function EP(n){return{".sv":{increment:n}}}(n)};var PP=Object.freeze({__proto__:null,initStandalone:function RP({app:n,url:t,version:e,customAuthImpl:r,namespace:o,nodeAdmin:u=!1}){nw(e);const h=new Fo.zt("auth-internal",new Fo.H0("database-standalone"));return h.setComponent(new Fo.wA("auth-internal",()=>r,"PRIVATE")),{instance:new Uv(AA(n,h,void 0,t,u),n),namespace:o}}});const OP=Uv.ServerValue;function PA(n){return null==n}function OA(n){return"function"==typeof n.set}function xA(n,t){return OA(t)?t:n.ref(t)}function NA(n,t){if(function NP(n){return"string"==typeof n}(n))return t.stringCase();if(OA(n))return t.firebaseCase();if(function kP(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Vv(n,t,e="on",r=J_.z){return new Vn.y(o=>{let u=null;return u=n[e](t,(h,m)=>{r.schedule(()=>{o.next({snapshot:h,prevKey:m})}),"once"===e&&r.schedule(()=>o.complete())},h=>{r.schedule(()=>o.error(h))}),"on"===e?{unsubscribe(){null!=u&&n.off(t,u)}}:{unsubscribe(){}}}).pipe((0,Ut.U)(o=>{const{snapshot:u,prevKey:h}=o;let m=null;return u.exists()&&(m=u.key),{type:t,payload:u,prevKey:h,key:m}}),(0,$C.B)())}function kA(n,t){const e=n.length;for(let r=0;r<e;r++)if(n[r].payload.key===t)return r;return-1}function UP(n,t){const{payload:e,prevKey:r,key:o}=t,u=kA(n,o),h=function LP(n,t){if(PA(t))return 0;{const e=kA(n,t);return-1===e?n.length:e+1}}(n,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let m=null;t.payload.forEach(E=>{const D={payload:E,type:"value",prevKey:m,key:E.key};return m=E.key,n=[...n,D],!1})}return n;case"child_added":if(u>-1){const m=n[u-1];(m&&m.key||null)!==r&&(n=n.filter(E=>E.payload.key!==e.key)).splice(h,0,t)}else{if(null==r)return[t,...n];(n=n.slice()).splice(h,0,t)}return n;case"child_removed":return n.filter(m=>m.payload.key!==e.key);case"child_changed":return n.map(m=>m.payload.key===o?t:m);case"child_moved":if(u>-1){const m=n.splice(u,1)[0];return(n=n.slice()).splice(h,0,m),n}return n;default:return n}}function FA(n){return(PA(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function LA(n,t,e){return function FP(n,t,e){return Vv(n,"value","once",e).pipe(xr(r=>{const o=[At(r)];return t.forEach(u=>o.push(Vv(n,u,"on",e))),(0,D_.T)(...o).pipe(hf(UP,[]))}),function Tg(n,t=Vu.y){return n=n??aD,(0,gi.e)((e,r)=>{let o,u=!0;e.subscribe((0,on.x)(r,h=>{const m=t(h);(u||!n(o,m))&&(u=!1,o=m,r.next(h))}))})}())}(n,t=FA(t),e)}function UA(n,t,e){const r=(t=FA(t)).map(o=>Vv(n,o,"on",e));return(0,D_.T)(...r)}function VA(n,t){return function(r,o){return NA(r,{stringCase:()=>n.child(r)[t](o),firebaseCase:()=>r[t](o),snapshotCase:()=>r.ref[t](o)})}}function HP(n){return function(e){return e?NA(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function BA(n,t){return function(){return Vv(n,"value","on",t)}}!function xP(n){n.INTERNAL.registerComponent(new Fo.wA("database-compat",(t,{instanceIdentifier:e})=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("database").getImmediate({identifier:e});return new Uv(o,r)},"PUBLIC").setServiceProps({Reference:Ws,Query:ai,Database:Uv,DataSnapshot:xd,enableLogging:mP,INTERNAL:PP,ServerValue:OP}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}(X_.Z);const WP=new c.OlP("angularfire2.realtimeDatabaseURL"),zP=new c.OlP("angularfire2.database.use-emulator");let Bv=(()=>{class n{constructor(e,r,o,u,h,m,E,D,k,N,oe,ve,Oe,$e,et){this.schedulers=m;const _t=E,vt=(0,$r.on)(e,h,r);D&&zu(vt,h,k,oe,ve,Oe,N,$e),this.database=(0,$r.cc)(`${vt.name}.database.${o}`,"AngularFireDatabase",vt.name,()=>{const Nt=h.runOutsideAngular(()=>vt.database(o||void 0));return _t&&Nt.useEmulator(..._t),Nt},[_t])}list(e,r){const o=this.schedulers.ngZone.runOutsideAngular(()=>xA(this.database,e));let u=o;return r&&(u=r(o)),function $P(n,t){const e=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:VA(r,"update"),set:VA(r,"set"),push:o=>r.push(o),remove:HP(r),snapshotChanges:o=>LA(n,o,e).pipe(bn.iC),stateChanges:o=>UA(n,o,e).pipe(bn.iC),auditTrail:o=>function VP(n,t,e){return function jP(n,t,e){return function BP(n,t){return Vv(n,"value","on",t).pipe((0,Ut.U)(e=>{let r;return e.payload.forEach(o=>(r=o.key,!1)),{data:e,lastKeyToLoad:r}}))}(n,e).pipe(function XE(...n){const t=(0,Ds.jO)(n);return(0,gi.e)((e,r)=>{const o=n.length,u=new Array(o);let h=n.map(()=>!1),m=!1;for(let E=0;E<o;E++)(0,go.Xf)(n[E]).subscribe((0,on.x)(r,D=>{u[E]=D,!m&&!h[E]&&(h[E]=!0,(m=h.every(Vu.y))&&(h=null))},lD.Z));e.subscribe((0,on.x)(r,E=>{if(m){const D=[E,...u];r.next(t?t(...D):D)}}))})}(t),(0,Ut.U)(([o,u])=>{const h=o.lastKeyToLoad,m=u.map(E=>E.key);return{actions:u,lastKeyToLoad:h,loadedKeys:m}}),function ff(n){return(0,gi.e)((t,e)=>{let r=!1,o=0;t.subscribe((0,on.x)(e,u=>(r||(r=!n(u,o++)))&&e.next(u)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,Ut.U)(o=>o.actions))}(n,UA(n,t).pipe(hf((o,u)=>[...o,u],[])),e)}(n,o,e).pipe(bn.iC),valueChanges:(o,u)=>LA(n,o,e).pipe((0,Ut.U)(m=>m.map(E=>u&&u.idField?Object.assign(Object.assign({},E.payload.val()),{[u.idField]:E.key}):E.payload.val())),bn.iC)}}(u,this)}object(e){return function GP(n,t){return{query:n,snapshotChanges:()=>BA(n,t.schedulers.outsideAngular)().pipe(bn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>BA(n,t.schedulers.outsideAngular)().pipe(bn.iC,(0,Ut.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>xA(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(c.LFG($r.Dh),c.LFG($r.xv,8),c.LFG(WP,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(bn.HU),c.LFG(zP,8),c.LFG(dd,8),c.LFG(Bu,8),c.LFG(ju,8),c.LFG(Hu,8),c.LFG($u,8),c.LFG(Gu,8),c.LFG(Wu,8),c.LFG(lg,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qP=(()=>{class n{constructor(){Nl.Z.registerVersion("angularfire",bn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Bv]}),n})();class Ga extends Or.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}var ZP=x(9672);function jA(...n){const t=(0,Ds.yG)(n),e=(0,Ds.jO)(n),{args:r,keys:o}=fu(n);if(0===r.length)return(0,dn.D)([],t);const u=new Vn.y(function KP(n,t,e=Vu.y){return r=>{HA(t,()=>{const{length:o}=n,u=new Array(o);let h=o,m=o;for(let E=0;E<o;E++)HA(t,()=>{const D=(0,dn.D)(n[E],t);let k=!1;D.subscribe((0,on.x)(r,N=>{u[E]=N,k||(k=!0,m--),m||r.next(e(u.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,t,o?h=>sr(o,h):Vu.y));return e?u.pipe(is(e)):u}function HA(n,t,e){n?(0,ZP.f)(e,n,t):t()}function jv(n,t){const e=(0,Wp.m)(n)?n:()=>n,r=o=>o.error(e());return new Vn.y(t?o=>t.schedule(r,0,o):r)}var Hv=x(8189);function TT(...n){return function YP(){return(0,Hv.J)(1)}()((0,dn.D)(n,(0,Ds.yG)(n)))}function $A(n){return new Vn.y(t=>{(0,go.Xf)(n()).subscribe(t)})}var am=x(515),GA=x(727);function ST(){return(0,gi.e)((n,t)=>{let e=null;n._refCount++;const r=(0,on.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,u=e;e=null,o&&(!u||o===u)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class WA extends Vn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,gi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new GA.w0;const e=this.getSubject();t.add(this.source.subscribe((0,on.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=GA.w0.EMPTY)}return t}refCount(){return ST()(this)}}function Nd(n){return(0,gi.e)((t,e)=>{let u,r=null,o=!1;r=t.subscribe((0,on.x)(e,void 0,void 0,h=>{u=(0,go.Xf)(n(h,Nd(n)(t))),r?(r.unsubscribe(),r=null,u.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(e))})}var Hi=x(5577);function $v(n,t){return(0,Wp.m)(t)?(0,Hi.z)(n,t,1):(0,Hi.z)(n,1)}function AT(n){return n<=0?()=>am.E:(0,gi.e)((t,e)=>{let r=[];t.subscribe((0,on.x)(e,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}var _i=x(8505);function Gv(n){return(0,gi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class yc{constructor(t,e){this.id=t,this.url=e}}class MT extends yc{constructor(t,e,r="imperative",o=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wv extends yc{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zA extends yc{constructor(t,e,r){super(t,e),this.reason=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class e1 extends yc{constructor(t,e,r){super(t,e),this.error=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class t1 extends yc{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n1 extends yc{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r1 extends yc{constructor(t,e,r,o,u){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class s1 extends yc{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o1 extends yc{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a1{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class l1{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class u1{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c1{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d1{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h1{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qA{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const qt="primary";class f1{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function lm(n){return new f1(n)}const ZA="ngNavigationCancelingError";function RT(n){const t=Error("NavigationCancelingError: "+n);return t[ZA]=!0,t}function g1(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const h=r[u],m=n[u];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Yl(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let u=0;u<e.length;u++)if(o=e[u],!KA(n[o],t[o]))return!1;return!0}function KA(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((o,u)=>r[u]===o)}return n===t}function YA(n){return Array.prototype.concat.apply([],n)}function QA(n){return n.length>0?n[n.length-1]:null}function li(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Wa(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,dn.D)(Promise.resolve(n)):At(n)}const y1={exact:function eM(n,t,e){if(!Ff(n.segments,t.segments)||!Ub(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!eM(n.children[r],t.children[r],e))return!1;return!0},subset:tM},JA={exact:function v1(n,t){return Yl(n,t)},subset:function E1(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>KA(n[e],t[e]))},ignored:()=>!0};function XA(n,t,e){return y1[e.paths](n.root,t.root,e.matrixParams)&&JA[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function tM(n,t,e){return nM(n,t,t.segments,e)}function nM(n,t,e,r){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!Ff(o,e)||t.hasChildren()||!Ub(o,e,r))}if(n.segments.length===e.length){if(!Ff(n.segments,e)||!Ub(n.segments,e,r))return!1;for(const o in t.children)if(!n.children[o]||!tM(n.children[o],t.children[o],r))return!1;return!0}{const o=e.slice(0,n.segments.length),u=e.slice(n.segments.length);return!!(Ff(n.segments,o)&&Ub(n.segments,o,r)&&n.children[qt])&&nM(n.children[qt],t,u,r)}}function Ub(n,t,e){return t.every((r,o)=>JA[e](n[o].parameters,r.parameters))}class kf{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lm(this.queryParams)),this._queryParamMap}toString(){return C1.serialize(this)}}class Xt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,li(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vb(this)}}class zv{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=lm(this.parameters)),this._parameterMap}toString(){return aM(this)}}function Ff(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class rM{}class iM{parse(t){const e=new O1(t);return new kf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${qv(t.root,!0)}`,r=function T1(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(o=>`${Bb(e)}=${Bb(o)}`).join("&"):`${Bb(e)}=${Bb(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function I1(n){return encodeURI(n)}(t.fragment)}`:""}`}}const C1=new iM;function Vb(n){return n.segments.map(t=>aM(t)).join("/")}function qv(n,t){if(!n.hasChildren())return Vb(n);if(t){const e=n.children[qt]?qv(n.children[qt],!1):"",r=[];return li(n.children,(o,u)=>{u!==qt&&r.push(`${u}:${qv(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function b1(n,t){let e=[];return li(n.children,(r,o)=>{o===qt&&(e=e.concat(t(r,o)))}),li(n.children,(r,o)=>{o!==qt&&(e=e.concat(t(r,o)))}),e}(n,(r,o)=>o===qt?[qv(n.children[qt],!1)]:[`${o}:${qv(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[qt]?`${Vb(n)}/${e[0]}`:`${Vb(n)}/(${e.join("//")})`}}function sM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bb(n){return sM(n).replace(/%3B/gi,";")}function PT(n){return sM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jb(n){return decodeURIComponent(n)}function oM(n){return jb(n.replace(/\+/g,"%20"))}function aM(n){return`${PT(n.path)}${function D1(n){return Object.keys(n).map(t=>`;${PT(t)}=${PT(n[t])}`).join("")}(n.parameters)}`}const S1=/^[^\/()?;=#]+/;function Hb(n){const t=n.match(S1);return t?t[0]:""}const A1=/^[^=?&#]+/,R1=/^[^&#]+/;class O1{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[qt]=new Xt(t,e)),r}parseSegment(){const t=Hb(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new zv(jb(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Hb(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=Hb(this.remaining);o&&(r=o,this.capture(r))}t[jb(e)]=jb(r)}parseQueryParam(t){const e=function M1(n){const t=n.match(A1);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const h=function P1(n){const t=n.match(R1);return t?t[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=oM(e),u=oM(r);if(t.hasOwnProperty(o)){let h=t[o];Array.isArray(h)||(h=[h],t[o]=h),h.push(u)}else t[o]=u}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Hb(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):t&&(u=qt);const h=this.parseChildren();e[u]=1===Object.keys(h).length?h[qt]:new Xt([],h),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class lM{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=OT(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=OT(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=xT(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return xT(t,this._root).map(e=>e.value)}}function OT(n,t){if(n===t.value)return t;for(const e of t.children){const r=OT(n,e);if(r)return r}return null}function xT(n,t){if(n===t.value)return[t];for(const e of t.children){const r=xT(n,e);if(r.length)return r.unshift(t),r}return[]}class vc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function um(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class uM extends lM{constructor(t,e){super(t),this.snapshot=e,NT(this,t)}toString(){return this.snapshot.toString()}}function cM(n,t){const e=function x1(n,t){const h=new $b([],{},{},"",{},qt,t,null,n.root,-1,{});return new hM("",new vc(h,[]))}(n,t),r=new Ga([new zv("",{})]),o=new Ga({}),u=new Ga({}),h=new Ga({}),m=new Ga(""),E=new cm(r,o,h,m,u,qt,t,e.root);return E.snapshot=e.root,new uM(new vc(E,[]),e)}class cm{constructor(t,e,r,o,u,h,m,E){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=m,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ut.U)(t=>lm(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ut.U)(t=>lm(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dM(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const o=e[r],u=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function N1(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class $b{constructor(t,e,r,o,u,h,m,E,D,k,N,oe){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=m,this.routeConfig=E,this._urlSegment=D,this._lastPathIndex=k,this._correctedLastPathIndex=oe??k,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hM extends lM{constructor(t,e){super(e),this.url=t,NT(this,e)}toString(){return fM(this._root)}}function NT(n,t){t.value._routerState=n,t.children.forEach(e=>NT(n,e))}function fM(n){const t=n.children.length>0?` { ${n.children.map(fM).join(", ")} } `:"";return`${n.value}${t}`}function kT(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Yl(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Yl(t.params,e.params)||n.params.next(e.params),function m1(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Yl(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Yl(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function FT(n,t){const e=Yl(n.params,t.params)&&function w1(n,t){return Ff(n,t)&&n.every((e,r)=>Yl(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||FT(n.parent,t.parent))}function Zv(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const o=function F1(n,t,e){return t.children.map(r=>{for(const o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Zv(n,r,o);return Zv(n,r)})}(n,t,e);return new vc(r,o)}{if(n.shouldAttach(t.value)){const u=n.retrieve(t.value);if(null!==u){const h=u.route;return h.value._futureSnapshot=t.value,h.children=t.children.map(m=>Zv(n,m)),h}}const r=function L1(n){return new cm(new Ga(n.url),new Ga(n.params),new Ga(n.queryParams),new Ga(n.fragment),new Ga(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(u=>Zv(n,u));return new vc(r,o)}}function Gb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Kv(n){return"object"==typeof n&&null!=n&&n.outlets}function LT(n,t,e,r,o){let u={};if(r&&li(r,(m,E)=>{u[E]=Array.isArray(m)?m.map(D=>`${D}`):`${m}`}),n===t)return new kf(e,u,o);const h=pM(n,t,e);return new kf(h,u,o)}function pM(n,t,e){const r={};return li(n.children,(o,u)=>{r[u]=o===t?e:pM(o,t,e)}),new Xt(n.segments,r)}class gM{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Gb(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(Kv);if(o&&o!==QA(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class UT{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function mM(n,t,e){if(n||(n=new Xt([],{})),0===n.segments.length&&n.hasChildren())return Wb(n,t,e);const r=function $1(n,t,e){let r=0,o=t;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return u;const h=n.segments[o],m=e[r];if(Kv(m))break;const E=`${m}`,D=r<e.length-1?e[r+1]:null;if(o>0&&void 0===E)break;if(E&&D&&"object"==typeof D&&void 0===D.outlets){if(!yM(E,D,h))return u;r+=2}else{if(!yM(E,{},h))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Xt(n.segments.slice(0,r.pathIndex),{});return u.children[qt]=new Xt(n.segments.slice(r.pathIndex),n.children),Wb(u,0,o)}return r.match&&0===o.length?new Xt(n.segments,{}):r.match&&!n.hasChildren()?VT(n,t,e):r.match?Wb(n,0,o):VT(n,t,e)}function Wb(n,t,e){if(0===e.length)return new Xt(n.segments,{});{const r=function H1(n){return Kv(n[0])?n[0].outlets:{[qt]:n}}(e),o={};return li(r,(u,h)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[h]=mM(n.children[h],t,u))}),li(n.children,(u,h)=>{void 0===r[h]&&(o[h]=u)}),new Xt(n.segments,o)}}function VT(n,t,e){const r=n.segments.slice(0,t);let o=0;for(;o<e.length;){const u=e[o];if(Kv(u)){const E=G1(u.outlets);return new Xt(r,E)}if(0===o&&Gb(e[0])){r.push(new zv(n.segments[t].path,_M(e[0]))),o++;continue}const h=Kv(u)?u.outlets[qt]:`${u}`,m=o<e.length-1?e[o+1]:null;h&&m&&Gb(m)?(r.push(new zv(h,_M(m))),o+=2):(r.push(new zv(h,{})),o++)}return new Xt(r,{})}function G1(n){const t={};return li(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=VT(new Xt([],{}),0,e))}),t}function _M(n){const t={};return li(n,(e,r)=>t[r]=`${e}`),t}function yM(n,t,e){return n==e.path&&Yl(t,e.parameters)}class W1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yv,this.attachRef=null}}class Yv{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new W1,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let BT=(()=>{class n{constructor(e,r,o,u,h){this.parentContexts=e,this.location=r,this.changeDetector=u,this.environmentInjector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=o||qt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const o=this.location,h=e._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,E=new z1(e,m,o.injector);if(r&&function q1(n){return!!n.resolveComponentFactory}(r)){const D=r.resolveComponentFactory(h);this.activated=o.createComponent(D,o.length,E)}else this.activated=o.createComponent(h,{index:o.length,injector:E,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Yv),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class z1{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===cm?this.route:t===Yv?this.childContexts:this.parent.get(t,e)}}let vM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&c._UZ(0,"router-outlet")},dependencies:[BT],encapsulation:2}),n})();function EM(n,t){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function HT(n){const t=n.children&&n.children.map(HT),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==qt&&(e.component=vM),e}function Qo(n){return n.outlet||qt}function wM(n,t){const e=n.filter(r=>Qo(r)===t);return e.push(...n.filter(r=>Qo(r)!==t)),e}function bM(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class J1{constructor(t,e,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),kT(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const o=um(e);t.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,o[h],r),delete o[h]}),li(o,(u,h)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(t,e,r){const o=t.value,u=e?e.value:null;if(o===u)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(t,e,h.children)}else this.deactivateChildRoutes(t,e,r);else u&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,u=um(t);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);if(r&&r.outlet){const h=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:h,route:t,contexts:m})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,u=um(t);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const o=um(e);t.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new h1(u.value.snapshot))}),t.children.length&&this.forwardEvent(new c1(t.value.snapshot))}activateRoutes(t,e,r){const o=t.value,u=e?e.value:null;if(kT(o),o===u)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,h.children)}else this.activateChildRoutes(t,e,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),kT(m.route.value),this.activateChildRoutes(t,null,h.children)}else{const m=bM(o.snapshot),E=m?.get(c._Vd)??null;h.attachRef=null,h.route=o,h.resolver=E,h.injector=m,h.outlet&&h.outlet.activateWith(o,h.injector),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,r)}}function kd(n){return"function"==typeof n}function Lf(n){return n instanceof kf}const Qv=Symbol("INITIAL_VALUE");function Jv(){return xr(n=>jA(n.map(t=>t.pipe((0,$p.q)(1),function QP(...n){const t=(0,Ds.yG)(n);return(0,gi.e)((e,r)=>{(t?TT(n,e,t):TT(n,e)).subscribe(r)})}(Qv)))).pipe(hf((t,e)=>{let r=!1;return e.reduce((o,u,h)=>o!==Qv?o:(u===Qv&&(r=!0),r||!1!==u&&h!==e.length-1&&!Lf(u)?o:u),t)},Qv),sd(t=>t!==Qv),(0,Ut.U)(t=>Lf(t)?t:!0===t),(0,$p.q)(1)))}const CM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zb(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...CM}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||g1)(e,n,t);if(!o)return{...CM};const u={};li(o.posParams,(m,E)=>{u[E]=m.path});const h=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:h,positionalParamSegments:o.posParams??{}}}function qb(n,t,e,r,o="corrected"){if(e.length>0&&function oO(n,t,e){return e.some(r=>Zb(n,t,r)&&Qo(r)!==qt)}(n,e,r)){const h=new Xt(t,function sO(n,t,e,r){const o={};o[qt]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const u of e)if(""===u.path&&Qo(u)!==qt){const h=new Xt([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,o[Qo(u)]=h}return o}(n,t,r,new Xt(e,n.children)));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function aO(n,t,e){return e.some(r=>Zb(n,t,r))}(n,e,r)){const h=new Xt(n.segments,function iO(n,t,e,r,o,u){const h={};for(const m of r)if(Zb(n,e,m)&&!o[Qo(m)]){const E=new Xt([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===u?n.segments.length:t.length,h[Qo(m)]=E}return{...o,...h}}(n,t,e,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:e}}const u=new Xt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}function Zb(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function IM(n,t,e,r){return!!(Qo(n)===r||r!==qt&&Zb(t,e,n))&&("**"===n.path||zb(t,n,e).matched)}function DM(n,t,e){return 0===t.length&&!n.children[e]}class Kb{constructor(t){this.segmentGroup=t||null}}class TM{constructor(t){this.urlTree=t}}function Xv(n){return jv(new Kb(n))}function SM(n){return jv(new TM(n))}class dO{constructor(t,e,r,o,u){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0}apply(){const t=qb(this.urlTree.root,[],[],this.config).segmentGroup,e=new Xt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,qt).pipe((0,Ut.U)(u=>this.createUrlTree($T(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Nd(u=>{if(u instanceof TM)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Kb?this.noMatchError(u):u}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,qt).pipe((0,Ut.U)(o=>this.createUrlTree($T(o),t.queryParams,t.fragment))).pipe(Nd(o=>{throw o instanceof Kb?this.noMatchError(o):o}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const o=t.segments.length>0?new Xt([],{[qt]:t}):t;return new kf(o,e,r)}expandSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,Ut.U)(u=>new Xt([],u))):this.expandSegment(t,r,e,r.segments,o,!0)}expandChildren(t,e,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,dn.D)(o).pipe($v(u=>{const h=r.children[u],m=wM(e,u);return this.expandSegmentGroup(t,m,h,u).pipe((0,Ut.U)(E=>({segment:E,outlet:u})))}),hf((u,h)=>(u[h.outlet]=h.segment,u),{}),function JP(n,t){const e=arguments.length>=2;return r=>r.pipe(n?sd((o,u)=>n(o,u,r)):Vu.y,AT(1),e?No(t):Gp(()=>new Hp))}())}expandSegment(t,e,r,o,u,h){return(0,dn.D)(r).pipe($v(m=>this.expandSegmentAgainstRoute(t,e,r,m,o,u,h).pipe(Nd(D=>{if(D instanceof Kb)return At(null);throw D}))),ko(m=>!!m),Nd((m,E)=>{if(m instanceof Hp||"EmptyError"===m.name)return DM(e,o,u)?At(new Xt([],{})):Xv(e);throw m}))}expandSegmentAgainstRoute(t,e,r,o,u,h,m){return IM(o,e,u,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,u,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,o,u,h):Xv(e):Xv(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,u,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?SM(u):this.lineralizeSegments(r,u).pipe((0,Hi.z)(h=>{const m=new Xt(h,{});return this.expandSegment(t,m,e,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,u,h){const{matched:m,consumedSegments:E,remainingSegments:D,positionalParamSegments:k}=zb(e,o,u);if(!m)return Xv(e);const N=this.applyRedirectCommands(E,o.redirectTo,k);return o.redirectTo.startsWith("/")?SM(N):this.lineralizeSegments(o,N).pipe((0,Hi.z)(oe=>this.expandSegment(t,e,r,oe.concat(D),h,!1)))}matchSegmentAgainstRoute(t,e,r,o,u){if("**"===r.path)return t=EM(r,t),r.loadChildren?(r._loadedRoutes?At({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe((0,Ut.U)(N=>(r._loadedRoutes=N.routes,r._loadedInjector=N.injector,new Xt(o,{})))):At(new Xt(o,{}));const{matched:h,consumedSegments:m,remainingSegments:E}=zb(e,r,o);return h?(t=EM(r,t),this.getChildConfig(t,r,o).pipe((0,Hi.z)(k=>{const N=k.injector??t,oe=k.routes,{segmentGroup:ve,slicedSegments:Oe}=qb(e,m,E,oe),$e=new Xt(ve.segments,ve.children);if(0===Oe.length&&$e.hasChildren())return this.expandChildren(N,oe,$e).pipe((0,Ut.U)(Nt=>new Xt(m,Nt)));if(0===oe.length&&0===Oe.length)return At(new Xt(m,{}));const et=Qo(r)===u;return this.expandSegment(N,$e,oe,Oe,et?qt:u,!0).pipe((0,Ut.U)(vt=>new Xt(m.concat(vt.segments),vt.children)))}))):Xv(e)}getChildConfig(t,e,r){return e.children?At({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?At({routes:e._loadedRoutes,injector:e._loadedInjector}):this.runCanLoadGuards(t,e,r).pipe((0,Hi.z)(o=>o?this.configLoader.loadChildren(t,e).pipe((0,_i.b)(u=>{e._loadedRoutes=u.routes,e._loadedInjector=u.injector})):function uO(n){return jv(RT(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):At({routes:[],injector:t})}runCanLoadGuards(t,e,r){const o=e.canLoad;return o&&0!==o.length?At(o.map(h=>{const m=t.get(h);let E;if(function eO(n){return n&&kd(n.canLoad)}(m))E=m.canLoad(e,r);else{if(!kd(m))throw new Error("Invalid CanLoad guard");E=m(e,r)}return Wa(E)})).pipe(Jv(),(0,_i.b)(h=>{if(!Lf(h))return;const m=RT(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,Ut.U)(h=>!0===h)):At(!0)}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return At(r);if(o.numberOfChildren>1||!o.children[qt])return jv(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));o=o.children[qt]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,o){const u=this.createSegmentGroup(t,e.root,r,o);return new kf(u,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return li(t,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=e[m]}else r[u]=o}),r}createSegmentGroup(t,e,r,o){const u=this.createSegments(t,e.segments,r,o);let h={};return li(e.children,(m,E)=>{h[E]=this.createSegmentGroup(t,m,r,o)}),new Xt(u,h)}createSegments(t,e,r,o){return e.map(u=>u.path.startsWith(":")?this.findPosParam(t,u,o):this.findOrReturn(u,r))}findPosParam(t,e,r){const o=r[e.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return o}findOrReturn(t,e){let r=0;for(const o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}}function $T(n){const t={};for(const r of Object.keys(n.children)){const u=$T(n.children[r]);(u.segments.length>0||u.hasChildren())&&(t[r]=u)}return function hO(n){if(1===n.numberOfChildren&&n.children[qt]){const t=n.children[qt];return new Xt(n.segments.concat(t.segments),t.children)}return n}(new Xt(n.segments,t))}class AM{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Yb{constructor(t,e){this.component=t,this.route=e}}function pO(n,t,e){const r=n._root;return e0(r,t?t._root:null,e,[r.value])}function Qb(n,t,e){return(bM(t)??e).get(n)}function e0(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=um(t);return n.children.forEach(h=>{(function mO(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,h=t?t.value:null,m=e?e.getContext(n.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const E=function _O(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ff(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ff(n.url,t.url)||!Yl(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!FT(n,t)||!Yl(n.queryParams,t.queryParams);default:return!FT(n,t)}}(h,u,u.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new AM(r)):(u.data=h.data,u._resolvedData=h._resolvedData),e0(n,t,u.component?m?m.children:null:e,r,o),E&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Yb(m.outlet.component,h))}else h&&t0(t,m,o),o.canActivateChecks.push(new AM(r)),e0(n,null,u.component?m?m.children:null:e,r,o)})(h,u[h.value.outlet],e,r.concat([h.value]),o),delete u[h.value.outlet]}),li(u,(h,m)=>t0(h,e.getContext(m),o)),o}function t0(n,t,e){const r=um(n),o=n.value;li(r,(u,h)=>{t0(u,o.component?t?t.children.getContext(h):null:t,e)}),e.canDeactivateChecks.push(new Yb(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}class TO{}function RM(n){return new Vn.y(t=>t.error(n))}class AO{constructor(t,e,r,o,u,h){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h}recognize(){const t=qb(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,qt);if(null===e)return null;const r=new $b([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},qt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new vc(r,e),u=new hM(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(t){const e=t.value,r=dM(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const u of Object.keys(e.children)){const h=e.children[u],m=wM(t,u),E=this.processSegmentGroup(m,h,u);if(null===E)return null;r.push(...E)}const o=PM(r);return function MO(n){n.sort((t,e)=>t.value.outlet===qt?-1:e.value.outlet===qt?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}processSegment(t,e,r,o){for(const u of t){const h=this.processSegmentAgainstRoute(u,e,r,o);if(null!==h)return h}return DM(e,r,o)?[]:null}processSegmentAgainstRoute(t,e,r,o){if(t.redirectTo||!IM(t,e,r,o))return null;let u,h=[],m=[];if("**"===t.path){const ve=r.length>0?QA(r).parameters:{},Oe=xM(e)+r.length;u=new $b(r,ve,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kM(t),Qo(t),t.component??t._loadedComponent??null,t,OM(e),Oe,FM(t),Oe)}else{const ve=zb(e,t,r);if(!ve.matched)return null;h=ve.consumedSegments,m=ve.remainingSegments;const Oe=xM(e)+h.length;u=new $b(h,ve.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kM(t),Qo(t),t.component??t._loadedComponent??null,t,OM(e),Oe,FM(t),Oe)}const E=function RO(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:D,slicedSegments:k}=qb(e,h,m,E.filter(ve=>void 0===ve.redirectTo),this.relativeLinkResolution);if(0===k.length&&D.hasChildren()){const ve=this.processChildren(E,D);return null===ve?null:[new vc(u,ve)]}if(0===E.length&&0===k.length)return[new vc(u,[])];const N=Qo(t)===o,oe=this.processSegment(E,D,k,N?qt:o);return null===oe?null:[new vc(u,oe)]}}function PO(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function PM(n){const t=[],e=new Set;for(const r of n){if(!PO(r)){t.push(r);continue}const o=t.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):t.push(r)}for(const r of e){const o=PM(r.children);t.push(new vc(r.value,o))}return t.filter(r=>!e.has(r))}function OM(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function xM(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function kM(n){return n.data||{}}function FM(n){return n.resolve||{}}const GT=Symbol("RouteTitle");function LM(n){return"string"==typeof n.title||null===n.title}function Jb(n){return xr(t=>{const e=n(t);return e?(0,dn.D)(e).pipe((0,Ut.U)(()=>t)):At(t)})}class BO extends class VO{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const WT=new c.OlP("ROUTES");let zT=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return At(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Wa(e.loadComponent()).pipe((0,_i.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=u}),Gv(()=>{this.componentLoaders.delete(e)})),o=new WA(r,()=>new Or.x).pipe(ST());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return At({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Ut.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let E,D,k=!1;Array.isArray(m)?D=m:(E=m.create(e).injector,D=YA(E.get(WT,[],c.XFs.Self|c.XFs.Optional)));return{routes:D.map(HT),injector:E}}),Gv(()=>{this.childrenLoaders.delete(r)})),h=new WA(u,()=>new Or.x).pipe(ST());return this.childrenLoaders.set(r,h),h}loadModuleFactoryOrRoutes(e){return Wa(e()).pipe((0,Hi.z)(r=>r instanceof c.YKP||Array.isArray(r)?At(r):(0,dn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class HO{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function GO(n){throw n}function WO(n,t,e){return t.parse("/")}function VM(n,t){return At(null)}const zO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kr=(()=>{class n{constructor(e,r,o,u,h,m,E){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Or.x,this.errorHandler=GO,this.malformedUriErrorHandler=WO,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:VM,afterPreactivation:VM},this.urlHandlingStrategy=new HO,this.routeReuseStrategy=new BO,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=h.get(zT),this.configLoader.onLoadEndListener=oe=>this.triggerEvent(new l1(oe)),this.configLoader.onLoadStartListener=oe=>this.triggerEvent(new a1(oe)),this.ngModule=h.get(c.h0i),this.console=h.get(c.c2e);const N=h.get(c.R0b);this.isNgZoneEnabled=N instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function _1(){return new kf(new Xt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=cM(this.currentUrlTree,this.rootComponentType),this.transitions=new Ga({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(sd(o=>0!==o.id),(0,Ut.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),xr(o=>{let u=!1,h=!1;return At(o).pipe((0,_i.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),xr(m=>{const E=this.browserUrlTree.toString(),D=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return BM(m.source)&&(this.browserUrlTree=m.extractedUrl),At(m).pipe(xr(N=>{const oe=this.transitions.getValue();return r.next(new MT(N.id,this.serializeUrl(N.extractedUrl),N.source,N.restoredState)),oe!==this.transitions.getValue()?am.E:Promise.resolve(N)}),function fO(n,t,e,r){return xr(o=>function cO(n,t,e,r,o){return new dO(n,t,e,r,o).apply()}(n,t,e,o.extractedUrl,r).pipe((0,Ut.U)(u=>({...o,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,_i.b)(N=>{this.currentNavigation={...this.currentNavigation,finalUrl:N.urlAfterRedirects}}),function OO(n,t,e,r,o){return(0,Hi.z)(u=>function SO(n,t,e,r,o="emptyOnly",u="legacy"){try{const h=new AO(n,t,e,r,o,u).recognize();return null===h?RM(new TO):At(h)}catch(h){return RM(h)}}(n,t,u.urlAfterRedirects,e(u.urlAfterRedirects),r,o).pipe((0,Ut.U)(h=>({...u,targetSnapshot:h}))))}(this.rootComponentType,this.config,N=>this.serializeUrl(N),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,_i.b)(N=>{if("eager"===this.urlUpdateStrategy){if(!N.extras.skipLocationChange){const ve=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl);this.setBrowserUrl(ve,N)}this.browserUrlTree=N.urlAfterRedirects}const oe=new t1(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);r.next(oe)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:oe,extractedUrl:ve,source:Oe,restoredState:$e,extras:et}=m,_t=new MT(oe,this.serializeUrl(ve),Oe,$e);r.next(_t);const vt=cM(ve,this.rootComponentType).snapshot;return At({...m,targetSnapshot:vt,urlAfterRedirects:ve,extras:{...et,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),am.E}),Jb(m=>{const{targetSnapshot:E,id:D,extractedUrl:k,rawUrl:N,extras:{skipLocationChange:oe,replaceUrl:ve}}=m;return this.hooks.beforePreactivation(E,{navigationId:D,appliedUrlTree:k,rawUrlTree:N,skipLocationChange:!!oe,replaceUrl:!!ve})}),(0,_i.b)(m=>{const E=new n1(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,Ut.U)(m=>({...m,guards:pO(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function yO(n,t){return(0,Hi.z)(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:h}}=e;return 0===h.length&&0===u.length?At({...e,guardsResult:!0}):function vO(n,t,e,r){return(0,dn.D)(n).pipe((0,Hi.z)(o=>function DO(n,t,e,r,o){const u=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return u&&0!==u.length?At(u.map(m=>{const E=Qb(m,t,o);let D;if(function rO(n){return n&&kd(n.canDeactivate)}(E))D=Wa(E.canDeactivate(n,t,e,r));else{if(!kd(E))throw new Error("Invalid CanDeactivate guard");D=Wa(E(n,t,e,r))}return D.pipe(ko())})).pipe(Jv()):At(!0)}(o.component,o.route,e,t,r)),ko(o=>!0!==o,!0))}(h,r,o,n).pipe((0,Hi.z)(m=>m&&function X1(n){return"boolean"==typeof n}(m)?function EO(n,t,e,r){return(0,dn.D)(t).pipe($v(o=>TT(function bO(n,t){return null!==n&&t&&t(new u1(n)),At(!0)}(o.route.parent,r),function wO(n,t){return null!==n&&t&&t(new d1(n)),At(!0)}(o.route,r),function IO(n,t,e){const r=t[t.length-1],u=t.slice(0,t.length-1).reverse().map(h=>function gO(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(h)).filter(h=>null!==h).map(h=>$A(()=>At(h.guards.map(E=>{const D=Qb(E,h.node,e);let k;if(function nO(n){return n&&kd(n.canActivateChild)}(D))k=Wa(D.canActivateChild(r,n));else{if(!kd(D))throw new Error("Invalid CanActivateChild guard");k=Wa(D(r,n))}return k.pipe(ko())})).pipe(Jv())));return At(u).pipe(Jv())}(n,o.path,e),function CO(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return At(!0);const o=r.map(u=>$A(()=>{const h=Qb(u,t,e);let m;if(function tO(n){return n&&kd(n.canActivate)}(h))m=Wa(h.canActivate(t,n));else{if(!kd(h))throw new Error("Invalid CanActivate guard");m=Wa(h(t,n))}return m.pipe(ko())}));return At(o).pipe(Jv())}(n,o.route,e))),ko(o=>!0!==o,!0))}(r,u,n,t):At(m)),(0,Ut.U)(m=>({...e,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,_i.b)(m=>{if(Lf(m.guardsResult)){const D=RT(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw D.url=m.guardsResult,D}const E=new r1(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),sd(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Jb(m=>{if(m.guards.canActivateChecks.length)return At(m).pipe((0,_i.b)(E=>{const D=new s1(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}),xr(E=>{let D=!1;return At(E).pipe(function xO(n,t){return(0,Hi.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return At(e);let u=0;return(0,dn.D)(o).pipe($v(h=>function NO(n,t,e,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!LM(o)&&(u[GT]=o.title),function kO(n,t,e,r){const o=function FO(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return At({});const u={};return(0,dn.D)(o).pipe((0,Hi.z)(h=>function LO(n,t,e,r){const o=Qb(n,t,r);return Wa(o.resolve?o.resolve(t,e):o(t,e))}(n[h],t,e,r).pipe(ko(),(0,_i.b)(m=>{u[h]=m}))),AT(1),function XP(n){return(0,Ut.U)(()=>n)}(u),Nd(h=>h instanceof Hp?am.E:jv(h)))}(u,n,t,r).pipe((0,Ut.U)(h=>(n._resolvedData=h,n.data=dM(n,e).resolve,o&&LM(o)&&(n.data[GT]=o.title),null)))}(h.route,r,n,t)),(0,_i.b)(()=>u++),AT(1),(0,Hi.z)(h=>u===o.length?At(e):am.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,_i.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,_i.b)(E=>{const D=new o1(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}))}),Jb(m=>{const{targetSnapshot:E,id:D,extractedUrl:k,rawUrl:N,extras:{skipLocationChange:oe,replaceUrl:ve}}=m;return this.hooks.afterPreactivation(E,{navigationId:D,appliedUrlTree:k,rawUrlTree:N,skipLocationChange:!!oe,replaceUrl:!!ve})}),Jb(m=>{const E=D=>{const k=[];D.routeConfig?.loadComponent&&!D.routeConfig._loadedComponent&&k.push(this.configLoader.loadComponent(D.routeConfig).pipe((0,_i.b)(N=>{D.component=N}),(0,Ut.U)(()=>{})));for(const N of D.children)k.push(...E(N));return k};return jA(E(m.targetSnapshot.root)).pipe(No(),(0,$p.q)(1))}),(0,Ut.U)(m=>{const E=function k1(n,t,e){const r=Zv(n,t._root,e?e._root:void 0);return new uM(r,t)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return{...m,targetRouterState:E}}),(0,_i.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,t,e)=>(0,Ut.U)(r=>(new J1(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,_i.b)({next(){u=!0},complete(){u=!0}}),Gv(()=>{u||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Nd(m=>{if(h=!0,function p1(n){return n&&n[ZA]}(m)){const E=Lf(m.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const D=new zA(o.id,this.serializeUrl(o.extractedUrl),m.message);if(r.next(D),E){const k=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),N={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||BM(o.source)};this.scheduleNavigation(k,"imperative",null,N,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new e1(o.id,this.serializeUrl(o.extractedUrl),m);r.next(E);try{o.resolve(this.errorHandler(m))}catch(D){o.reject(D)}}return am.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},u=e.state?.navigationId?e.state:null;if(u){const m={...u};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,r,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(HT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:u,fragment:h,queryParamsHandling:m,preserveFragment:E}=r,D=o||this.routerState.root,k=E?this.currentUrlTree.fragment:h;let N=null;switch(m){case"merge":N={...this.currentUrlTree.queryParams,...u};break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=u||null}return null!==N&&(N=this.removeEmptyProps(N)),function U1(n,t,e,r,o){if(0===e.length)return LT(t.root,t.root,t.root,r,o);const u=function V1(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new gM(!0,0,n);let t=0,e=!1;const r=n.reduce((o,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return li(u.outlets,(E,D)=>{m[D]="string"==typeof E?E.split("/"):E}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===h?(u.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?e=!0:".."===m?t++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new gM(e,t,r)}(e);return u.toRoot()?LT(t.root,t.root,new Xt([],{}),r,o):function h(E){const D=function B1(n,t,e,r){return n.isAbsolute?new UT(t.root,!0,0):-1===r?new UT(e,e===t.root,0):function j1(n,t,e){let r=n,o=t,u=e;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new UT(r,!1,o-u)}(e,r+(Gb(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,t,n.snapshot?._urlSegment,E),k=D.processChildren?Wb(D.segmentGroup,D.index,u.commands):mM(D.segmentGroup,D.index,u.commands);return LT(t.root,D.segmentGroup,k,r,o)}(n.snapshot?._lastPathIndex)}(D,this.currentUrlTree,e,N,k??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=Lf(e)?e:this.parseUrl(e),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function ZO(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?{...zO}:!1===r?{...qO}:r,Lf(e))return XA(this.currentUrlTree,e,o);const u=this.parseUrl(e);return XA(this.currentUrlTree,u,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const u=e[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Wv(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,u,h){if(this.disposed)return Promise.resolve(!1);let m,E,D;h?(m=h.resolve,E=h.reject,D=h.promise):D=new Promise((oe,ve)=>{m=oe,E=ve});const k=++this.navigationId;let N;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),N=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):N=0,this.setTransition({id:k,targetPageId:N,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:u,resolve:m,reject:E,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(oe=>Promise.reject(oe))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const o=new zA(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function BM(n){return"imperative"!==n}let qT=(()=>{class n{constructor(e,r,o,u,h){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=h,this.commands=null,this.onChanges=new Or.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==e?r.setAttribute(o,"tabindex",e):r.removeAttribute(o,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:(0,c.D6c)(this.skipLocationChange),replaceUrl:(0,c.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,c.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Kr),c.Y36(cm),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&c.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})(),Xb=(()=>{class n{constructor(e,r,o){this.router=e,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new Or.x,this.subscription=e.events.subscribe(u=>{u instanceof Wv&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,o,u,h){if(0!==e||r||o||u||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:(0,c.D6c)(this.skipLocationChange),replaceUrl:(0,c.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,c.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Kr),c.Y36(cm),c.Y36(ae))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&c.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&e&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})(),jM=(()=>{class n{constructor(e,r,o,u,h,m){this.router=e,this.element=r,this.renderer=o,this.cdr=u,this.link=h,this.linkWithHref=m,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=e.events.subscribe(E=>{E instanceof Wv&&this.update()})}ngAfterContentInit(){At(this.links.changes,this.linksWithHrefs.changes,At(null)).pipe((0,Hv.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,dn.D)(e).pipe((0,Hv.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const r=function KO(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&e.isActive(o.urlTree,r)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Kr),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(qT,8),c.Y36(Xb,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,r,o){if(1&e&&(c.Suo(o,qT,5),c.Suo(o,Xb,5)),2&e){let u;c.iGM(u=c.CRH())&&(r.links=u),c.iGM(u=c.CRH())&&(r.linksWithHrefs=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[c.TTD]}),n})();class HM{buildTitle(t){let e,r=t.root;for(;void 0!==r;)e=this.getResolvedTitleForRoute(r)??e,r=r.children.find(o=>o.outlet===qt);return e}getResolvedTitleForRoute(t){return t.data[GT]}}let YO=(()=>{class n extends HM{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ac))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $M{}class GM{preload(t,e){return At(null)}}let WM=(()=>{class n{constructor(e,r,o,u,h){this.router=e,this.injector=o,this.preloadingStrategy=u,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(sd(e=>e instanceof Wv),$v(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,c.MMx)(u.providers,e,`Route: ${u.path}`));const h=u._injector??e,m=u._loadedInjector??h;u.loadChildren&&!u._loadedRoutes||u.loadComponent&&!u._loadedComponent?o.push(this.preloadConfig(h,u)):(u.children||u._loadedRoutes)&&o.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,dn.D)(o).pipe((0,Hv.J)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):At(null);const u=o.pipe((0,Hi.z)(h=>null===h?At(void 0):(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,this.processRoutes(h.injector??e,h.routes))));if(r.loadComponent&&!r._loadedComponent){const h=this.loader.loadComponent(r);return(0,dn.D)([u,h]).pipe((0,Hv.J)())}return u})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Kr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG($M),c.LFG(zT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ZT=(()=>{class n{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof MT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Wv&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof qA&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new qA(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Uf=new c.OlP("ROUTER_CONFIGURATION"),zM=new c.OlP("ROUTER_FORROOT_GUARD"),JO=[we,{provide:rM,useClass:iM},{provide:Kr,useFactory:function rx(n,t,e,r,o,u,h={},m,E,D,k){const N=new Kr(null,n,t,e,r,o,YA(u));return D&&(N.urlHandlingStrategy=D),k&&(N.routeReuseStrategy=k),N.titleStrategy=E??m,function ix(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(h,N),N},deps:[rM,Yv,we,c.zs3,c.Sil,WT,Uf,YO,[HM,new c.FiY],[class jO{},new c.FiY],[class UO{},new c.FiY]]},Yv,{provide:cm,useFactory:function sx(n){return n.routerState.root},deps:[Kr]},WM,GM,class QO{preload(t,e){return e().pipe(Nd(()=>At(null)))}},{provide:Uf,useValue:{enableTracing:!1}},zT];function XO(){return new c.PXZ("Router",Kr)}let qM=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[JO,ZM(e),{provide:zM,useFactory:nx,deps:[[Kr,new c.FiY,new c.tp0]]},{provide:Uf,useValue:r||{}},{provide:ae,useFactory:tx,deps:[Y,[new c.tBr(ke),new c.FiY],Uf]},{provide:ZT,useFactory:ex,deps:[Kr,to,Uf]},{provide:$M,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:GM},{provide:c.PXZ,multi:!0,useFactory:XO},[KT,{provide:c.ip1,multi:!0,useFactory:ox,deps:[KT]},{provide:KM,useFactory:ax,deps:[KT]},{provide:c.tb,multi:!0,useExisting:KM}]]}}static forChild(e){return{ngModule:n,providers:[ZM(e)]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(zM,8),c.LFG(Kr,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function ex(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new ZT(n,t,e)}function tx(n,t,e={}){return e.useHash?new xe(n,t):new Ge(n,t)}function nx(n){return"guarded"}function ZM(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:WT,multi:!0,useValue:n}]}let KT=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Or.x}appInitializer(){return this.injector.get(O,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),u=this.injector.get(Kr),h=this.injector.get(Uf);return"disabled"===h.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabledBlocking"===h.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?At(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(e){const r=this.injector.get(Uf),o=this.injector.get(WM),u=this.injector.get(ZT),h=this.injector.get(Kr),m=this.injector.get(c.z2F);e===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),u.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function ox(n){return n.appInitializer.bind(n)}function ax(n){return n.bootstrapListener.bind(n)}const KM=new c.OlP("Router Initializer");var eC,ux=new Uint8Array(16);function cx(){if(!eC&&!(eC=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return eC(ux)}const dx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,fx=function hx(n){return"string"==typeof n&&dx.test(n)};for(var ui=[],YT=0;YT<256;++YT)ui.push((YT+256).toString(16).substr(1));const _x=function mx(n,t,e){var r=(n=n||{}).random||(n.rng||cx)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){e=e||0;for(var o=0;o<16;++o)t[e+o]=r[o];return t}return function px(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(ui[n[t+0]]+ui[n[t+1]]+ui[n[t+2]]+ui[n[t+3]]+"-"+ui[n[t+4]]+ui[n[t+5]]+"-"+ui[n[t+6]]+ui[n[t+7]]+"-"+ui[n[t+8]]+ui[n[t+9]]+"-"+ui[n[t+10]]+ui[n[t+11]]+ui[n[t+12]]+ui[n[t+13]]+ui[n[t+14]]+ui[n[t+15]]).toLowerCase();if(!fx(e))throw TypeError("Stringified UUID is invalid");return e}(r)},YM=["toast-component",""];function yx(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){c.CHM(e);const o=c.oxw();return c.KtG(o.remove())}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA()()}}function vx(n,t){if(1&n&&(c.ynx(0),c._uU(1),c.BQk()),2&n){const e=c.oxw(2);c.xp6(1),c.hij("[",e.duplicatesCount+1,"]")}}function Ex(n,t){if(1&n&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,vx,2,1,"ng-container",4),c.qZA()),2&n){const e=c.oxw();c.Tol(e.options.titleClass),c.uIk("aria-label",e.title),c.xp6(1),c.hij(" ",e.title," "),c.xp6(1),c.Q6J("ngIf",e.duplicatesCount)}}function wx(n,t){if(1&n&&c._UZ(0,"div",7),2&n){const e=c.oxw();c.Tol(e.options.messageClass),c.Q6J("innerHTML",e.message,c.oJD)}}function bx(n,t){if(1&n&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&n){const e=c.oxw();c.Tol(e.options.messageClass),c.uIk("aria-label",e.message),c.xp6(1),c.hij(" ",e.message," ")}}function Cx(n,t){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Udp("width",e.width+"%")}}class Rx{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class tC{constructor(t,e,r,o,u,h){this.toastId=t,this.config=e,this.message=r,this.title=o,this.toastType=u,this.toastRef=h,this._onTap=new Or.x,this._onAction=new Or.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const JM=new c.OlP("ToastConfig");class Ox{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new Or.x,this._activate=new Or.x,this._manualClose=new Or.x,this._resetTimeout=new Or.x,this._countDuplicate=new Or.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class xx{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,r){return t===tC?this._toastPackage:this._parentInjector.get(t,e,r)}}class Nx extends class Px{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,r){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=r}attachComponentPortal(t,e){const r=this._componentFactoryResolver.resolveComponentFactory(t.component);let o;return o=r.create(t.injector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(o),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(o)),o}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class kx{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let Fx=(()=>{class n{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(j))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lx=(()=>{class n{constructor(e,r,o,u){this._overlayContainer=e,this._componentFactoryResolver=r,this._appRef=o,this._document=u,this._paneElements=new Map}create(e,r){return this._createOverlayRef(this.getPaneElement(e,r))}getPaneElement(e="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[e]||(this._paneElements.get(r)[e]=this._createPaneElement(e,r)),this._paneElements.get(r)[e]}_createPaneElement(e,r){const o=this._document.createElement("div");return o.id="toast-container",o.classList.add(e),o.classList.add("toast-container"),r?r.getContainerElement().appendChild(o):this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalHost(e){return new Nx(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new kx(this._createPortalHost(e))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Fx),c.LFG(c._Vd),c.LFG(c.z2F),c.LFG(j))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vf=(()=>{class n{constructor(e,r,o,u,h){this.overlay=r,this._injector=o,this.sanitizer=u,this.ngZone=h,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,r,o={},u=""){return this._preBuildNotification(u,e,r,this.applyConfig(o))}success(e,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,r,this.applyConfig(o))}error(e,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,r,this.applyConfig(o))}info(e,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,r,this.applyConfig(o))}warning(e,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,r,this.applyConfig(o))}clear(e){for(const r of this.toasts)if(void 0!==e){if(r.toastId===e)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(e){const r=this._findToast(e);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const o=this.toasts[this.currentlyActive].toastRef;o.isInactive()||(this.currentlyActive=this.currentlyActive+1,o.activate())}return!0}findDuplicate(e="",r="",o,u){const{includeTitleDuplicates:h}=this.toastrConfig;for(const m of this.toasts){const E=h&&m.title===e;if((!h||E)&&m.message===r)return m.toastRef.onDuplicate(o,u),m}return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===e)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(e,r,o,u){return u.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,r,o,u)):this._buildNotification(e,r,o,u)}_buildNotification(e,r,o,u){if(!u.toastComponent)throw new Error("toastComponent required");const h=this.findDuplicate(o,r,this.toastrConfig.resetTimeoutOnDuplicate&&u.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&o||r)&&this.toastrConfig.preventDuplicates&&null!==h)return h;this.previousToastMessage=r;let m=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(m=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const E=this.overlay.create(u.positionClass,this.overlayContainer);this.index=this.index+1;let D=r;r&&u.enableHtml&&(D=this.sanitizer.sanitize(c.q3G.HTML,r));const k=new Ox(E),N=new tC(this.index,u,D,o,e,k),oe=new xx(N,this._injector),ve=new Rx(u.toastComponent,oe),Oe=E.attach(ve,this.toastrConfig.newestOnTop);k.componentInstance=Oe.instance;const $e={toastId:this.index,title:o||"",message:r||"",toastRef:k,onShown:k.afterActivate(),onHidden:k.afterClosed(),onTap:N.onTap(),onAction:N.onAction(),portal:Oe};return m||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{$e.toastRef.activate()})),this.toasts.push($e),$e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(JM),c.LFG(Lx),c.LFG(c.zs3),c.LFG(po),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ux={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(e,r,o){this.toastrService=e,this.toastPackage=r,this.ngZone=o,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(u=>{this.duplicatesCount=u})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),r)):this.timeout=setTimeout(()=>e(),r)}outsideInterval(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),r)):this.intervalId=setInterval(()=>e(),r)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Vf),c.Y36(tC),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,r){1&e&&c.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&e&&(c.d8E("@flyInOut",r.state),c.Tol(r.toastClasses),c.Udp("display",r.displayStyle))},attrs:YM,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,r){1&e&&(c.YNc(0,yx,3,0,"button",0),c.YNc(1,Ex,3,5,"div",1),c.YNc(2,wx,1,3,"div",2),c.YNc(3,bx,2,4,"div",3),c.YNc(4,Cx,2,2,"div",4)),2&e&&(c.Q6J("ngIf",r.options.closeButton),c.xp6(1),c.Q6J("ngIf",r.title),c.xp6(1),c.Q6J("ngIf",r.message&&r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.message&&!r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.options.progressBar))},dependencies:[_s],encapsulation:2,data:{animation:[yh("flyInOut",[Pu("inactive",Mo({opacity:0})),Pu("active",Mo({opacity:1})),Pu("removed",Mo({opacity:0})),wn("inactive => active",vp("{{ easeTime }}ms {{ easing }}")),wn("active => removed",vp("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let Vx=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[{provide:JM,useValue:{default:Ux,config:e}}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ki]]}),n})(),dm=(()=>{class n{constructor(e){this.auth=e}signUp(e,r){return this.auth.createUserWithEmailAndPassword(e,r)}signIn(e,r){return this.auth.signInWithEmailAndPassword(e,r)}getUser(){return this.auth.authState}signOut(){return this.auth.signOut()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(dd))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var $i=(()=>{return(n=$i||($i={}))[n.Up=1]="Up",n[n.Down=3]="Down",n[n.Right=6]="Right",n[n.Left=8]="Left",n[n.UpMirrored=2]="UpMirrored",n[n.DownMirrored=4]="DownMirrored",n[n.LeftMirrored=5]="LeftMirrored",n[n.RightMirrored=7]="RightMirrored",n[n.Default=0]="Default",n[n.NotJpeg=-1]="NotJpeg",n[n.NotDefined=-2]="NotDefined",$i;var n})();class Bn{}Bn.getOrientation=n=>new Promise((t,e)=>{try{const r=new FileReader;r.onload=()=>{const o=new DataView(r.result);if(!o.byteLength||65496!==o.getUint16(0,!1))return t($i.NotDefined);const u=o.byteLength;let h=2;for(;h<u;){const m=o.getUint16(h,!1);if(h+=2,65505===m){if(1165519206!==o.getUint32(h+=2,!1))return t($i.NotJpeg);const E=18761===o.getUint16(h+=6,!1);h+=o.getUint32(h+4,E);const D=o.getUint16(h,E);h+=2;for(let k=0;k<D;k++)if(274===o.getUint16(h+12*k,E))return t(o.getUint16(h+12*k+8,E))}else{if(65280!=(65280&m))break;h+=o.getUint16(h,!1)}}return t($i.NotJpeg)},r.readAsArrayBuffer(n)}catch{return e($i.Default)}}),Bn.uploadFile=(n,t=!0,e=!1)=>new Promise(function(r,o){const u=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);Promise.resolve(u).then(h=>h?Bn.generateUploadInputNative(window.document,t,e):Bn.generateUploadInputRenderer(n,t,e)).then(h=>{const m=h?Array.from(h):[],E=m.map(N=>Bn.getOrientation(N)),D=m.map(N=>Bn.fileToDataURL(N));let k=[];Promise.all(E).then(N=>(k=N,Promise.all(D))).then(N=>{const oe=N.map((ve,Oe)=>({image:ve.dataUrl,orientation:k[Oe],fileName:ve.fileName}));r(t?oe:oe[0])})}).catch(h=>o(h))}),Bn.fileToDataURL=n=>new Promise((t,e)=>{const r=new FileReader;r.onload=o=>{t({dataUrl:o.target.result,fileName:n.name})};try{r.readAsDataURL(n)}catch(o){e(`ngx-image-compress - probably no file have been selected: ${o}`)}}),Bn.generateUploadInputRenderer=(n,t=!0,e=!1)=>{let r=!1;return new Promise((o,u)=>{const h=n.createElement("input");n.setStyle(h,"display","none"),n.setProperty(h,"type","file"),n.setProperty(h,"accept","image/*"),t&&n.setProperty(h,"multiple","true"),n.listen(h,"click",m=>{m.target.value=""}),n.listen(h,"change",m=>{r=!0,o(m.target.files)}),e&&window.addEventListener("focus",()=>{setTimeout(()=>{r||u(new Error("file upload on blur - no file selected"))},300)},{once:!0}),h.click()})},Bn.generateUploadInputNative=(n,t=!0,e=!1)=>{let r=!1;return new Promise((o,u)=>{const h=n.createElement("input");h.id="upload-input"+new Date,h.style.display="none",h.setAttribute("type","file"),t&&h.setAttribute("multiple","true"),n.body.appendChild(h),h.addEventListener("change",()=>{r=!0,o(h.files),n.body.removeChild(n.getElementById(h.id))},{once:!0}),e&&window.addEventListener("focus",()=>{setTimeout(()=>{!r&&n.getElementById(h.id)&&(u(new Error("file upload on blur - no file selected")),n.body.removeChild(n.getElementById(h.id)))},300)},{once:!0}),h.click()})},Bn.compress=(n,t,e,r=50,o=50,u=0,h=0)=>new Promise(function(m,E){o/=100,r/=100;const D=new Image;D.onload=()=>{const k=e.createElement("canvas"),N=k.getContext("2d");if(!N)return E("No canvas context available");let oe=D.naturalWidth,ve=D.naturalHeight;if(!CSS.supports("image-orientation","from-image")&&(t===$i.Right||t===$i.Left)){const Nt=oe;oe=ve,ve=Nt}r=Math.min(r,u?u/oe:1,h?h/ve:1),k.width=oe*r,k.height=ve*r;const et=Math.PI/180;CSS.supports("image-orientation","from-image")||t===$i.Up?N.drawImage(D,0,0,k.width,k.height):t===$i.Right?(N.save(),N.rotate(90*et),N.translate(0,-k.width),N.drawImage(D,0,0,k.height,k.width),N.restore()):t===$i.Left?(N.save(),N.rotate(-90*et),N.translate(-k.width,0),N.drawImage(D,0,0,k.height,k.width),N.restore()):t===$i.Down?(N.save(),N.rotate(180*et),N.translate(-k.width,-k.height),N.drawImage(D,0,0,k.width,k.height),N.restore()):N.drawImage(D,0,0,k.width,k.height);const _t=n.substr(5,n.split(";")[0].length-5),vt=k.toDataURL(_t,o);m(vt)},D.onerror=k=>E(k),D.src=n}),Bn.byteCount=n=>encodeURI(n).split(/%..|./).length-1,Bn.getImageMaxSize=function(){var n=(0,vr.Z)(function*(t,e,r){const u=E=>(E/1024/1024).toFixed(2);e&&console.debug("NgxImageCompress - Opening upload window");let m,h=yield Bn.uploadFile(r,!1);for(let E=0;E<10;E++){const D=Bn.byteCount(h.image);m=yield Bn.compress(h.image,h.orientation,r,50,100);const k=Bn.byteCount(m);if(console.debug("NgxImageCompress -","Compression from",u(D),"MB to",u(k),"MB"),k>=D)throw 0===E?(e&&console.debug("NgxImageCompress -","File can't be reduced at all - returning the original",u(D),"MB large"),h.image):(e&&console.debug("NgxImageCompress -","File can't be reduced more - returning the best we can, which is ",u(D),"MB large"),h.image);if(k<1024*t*1024)return e&&console.debug("NgxImageCompress -","Here your file",u(k),"MB large"),m;if(9===E)throw e&&console.debug("NgxImageCompress -","File can't reach the desired size after",10,"tries. Returning file ",u(D),"MB large"),h.image;e&&console.debug("NgxImageCompress -","Reached",u(k),"MB large. Trying another time after",E+1,"times"),h.image=m}throw e&&console.debug("NgxImageCompress - Unexpected error"),""});return function(t,e,r){return n.apply(this,arguments)}}();let jx=(()=>{class n{constructor(e){this.DOC_ORIENTATION=$i,this.render=e.createRenderer(null,null)}byteCount(e){return Bn.byteCount(e)}getOrientation(e){return Bn.getOrientation(e)}uploadFile(){return Bn.uploadFile(this.render,!1)}uploadMultipleFiles(){return Bn.uploadFile(this.render,!0)}uploadFileOrReject(){return Bn.uploadFile(this.render,!1,!0)}uploadMultipleFilesOrReject(){return Bn.uploadFile(this.render,!0,!0)}compressFile(e,r,o=50,u=50,h=0,m=0){return Bn.compress(e,r,this.render,o,u,h,m)}uploadAndGetImageWithMaxSize(e=1,r=!1){return Bn.getImageMaxSize(e,r,this.render)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hx(n,t){1&n&&(c.TgZ(0,"div",22),c._uU(1," Upload finished "),c.qZA())}function $x(n,t){1&n&&(c.TgZ(0,"h3",23),c._uU(1," Image Preview "),c.TgZ(2,"div"),c._UZ(3,"img",24),c.qZA()())}function Gx(n,t){if(1&n&&c._UZ(0,"img",25),2&n){const e=c.oxw();c.Q6J("src",e.picture,c.LSH)}}let Wx=(()=>{class n{constructor(e,r,o,u,h,m){this.db=e,this.strorage=r,this.toastr=o,this.router=h,this.imageCompress=m,this.locationName="",this.description="",this.picture="",this.user=null,this.uploadPercent=0,u.getUser().subscribe(E=>{this.db.object(`/users/${E.uid}`).valueChanges().subscribe(D=>{this.user=D})})}ngOnInit(){}onSubmit(){const e=_x();this.db.object(`/posts/${e}`).set({id:e,locationName:this.locationName,description:this.description,picture:this.picture,by:this.user.name,instaId:this.user.instaUserName,date:Date.now()}).then(()=>{this.toastr.success("Post added successfully"),this.router.navigateByUrl("/")}).catch(r=>{this.toastr.error("Oopsss")})}uploadFile(e){var r=this;return(0,vr.Z)(function*(){const o=e.target.files[0],u=o.name,h=r.strorage.ref(u),m=r.strorage.upload(u,o);m.percentageChanges().subscribe(E=>{r.uploadPercent=E}),m.snapshotChanges().pipe(Gv(()=>{h.getDownloadURL().subscribe(E=>{r.picture=E,r.toastr.success("Image upload Success")})})).subscribe()})()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Bv),c.Y36(Py),c.Y36(Vf),c.Y36(dm),c.Y36(Kr),c.Y36(jx))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-addpost"]],decls:37,vars:14,consts:[[1,"main","row","mt-5","mb-3","d-flex","justify-content-center"],[1,"col-6"],[1,"card","border-primary"],[1,"card-header","bg-secondary","text-large","text-white","text-center"],[1,"card-body",3,"ngSubmit"],[1,"form-group"],["for","locationName",1,"mb-2"],[2,"color","red"],["type","text","id","locationName","name","locationName","placeholder","Enter Name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","mt-4"],["for","description",1,"mb-2"],["type","text","rows","5","id","description","name","description","required","","placeholder","some description",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center","mb-4","mt-2"],["for","imagepicker",1,"mb-2"],["type","file","name","image","id","imagepicker","accept","image/*","multiple","{false}",1,"form-control-file",3,"change"],[1,"text-info","text-center",3,"hidden"],["class","text-success text-uppercase text-center",4,"ngIf"],[1,"text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"col","col-md-6","mt-5"],["class","text-light text-center mt-5 text-uppercase",4,"ngIf"],["alt","","class","img-fluid",3,"src",4,"ngIf"],[1,"text-success","text-uppercase","text-center"],[1,"text-light","text-center","mt-5","text-uppercase"],["src","../../../assets/image.png","width","25%","alt","",2,"margin","5%"],["alt","",1,"img-fluid",3,"src"]],template:function(e,r){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c._uU(4),c.ALo(5,"uppercase"),c.qZA(),c.TgZ(6,"form",4),c.NdJ("ngSubmit",function(){return r.onSubmit()}),c.TgZ(7,"div",5)(8,"label",6),c._uU(9,"Location Name "),c.TgZ(10,"span",7),c._uU(11,"*"),c.qZA()(),c.TgZ(12,"input",8),c.NdJ("ngModelChange",function(u){return r.locationName=u}),c.qZA()(),c.TgZ(13,"div",9)(14,"label",10),c._uU(15,"Description "),c.TgZ(16,"span",7),c._uU(17,"*"),c.qZA()(),c.TgZ(18,"textarea",11),c.NdJ("ngModelChange",function(u){return r.description=u}),c.qZA()(),c.TgZ(19,"div",12)(20,"label",13),c._uU(21," Add Photo (File size should be less than 2MB) "),c.TgZ(22,"span",7),c._uU(23,"*"),c.qZA()(),c.TgZ(24,"input",14),c.NdJ("change",function(u){return r.uploadFile(u)}),c.qZA(),c.TgZ(25,"div",15),c._uU(26),c.ALo(27,"number"),c._UZ(28,"br"),c._uU(29," Please wait a little... "),c.qZA(),c.YNc(30,Hx,2,0,"div",16),c.qZA(),c.TgZ(31,"div",17)(32,"button",18),c._uU(33," Submit Post "),c.qZA()()()()(),c.TgZ(34,"div",19),c.YNc(35,$x,4,0,"h3",20),c.YNc(36,Gx,1,1,"img",21),c.qZA()()),2&e&&(c.xp6(4),c.hij(" ",c.lcZ(5,9,"Add Your awesome Post")," "),c.xp6(8),c.Q6J("ngModel",r.locationName),c.xp6(6),c.Q6J("ngModel",r.description),c.xp6(7),c.Q6J("hidden",!r.uploadPercent||100==r.uploadPercent),c.xp6(1),c.hij(" uploading ",c.xi3(27,11,r.uploadPercent,"1.0-0")," % of 100% "),c.xp6(4),c.Q6J("ngIf",100==r.uploadPercent),c.xp6(2),c.Q6J("disabled",!r.picture),c.xp6(3),c.Q6J("ngIf",!r.picture),c.xp6(1),c.Q6J("ngIf",r.picture))},dependencies:[_s,Du,ba,Ss,wo,Ma,Ni,Ta,qa,Dr]}),n})(),zx=(()=>{class n{constructor(e,r){this.db=e,this.auth=r,this.upvote=0,this.downvote=0,this.auth.getUser().subscribe(o=>{this.uid=o?.uid})}ngOnInit(){}ngOnChanges(){this.post.vote&&Object.values(this.post.vote).map(e=>{e.upvote&&(this.upvote+=1),e.downvote&&(this.downvote+=1)})}upvotePost(){console.log("UPVOTING"),this.db.object(`/posts/${this.post.id}/vote/${this.uid}`).set({upvote:1})}downvotePost(){console.log("DOWNVOTING"),this.db.object(`/posts/${this.post.id}/vote/${this.uid}`).set({downvote:1})}getInstaUrl(){return`https://instagram.com/${this.post.instaId}`}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Bv),c.Y36(dm))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-post"]],inputs:{post:"post"},features:[c.TTD],decls:31,vars:11,consts:[[1,"card","mb-3","border-secondary"],[1,"card-header"],[1,"instagram-post-top"],[1,"instagram-post-avatar"],["src","../../../assets/programmer.png"],[1,"instagram-post-name"],[1,"instagram-post-title"],[1,"instagram-post-date"],[1,"instagram-post-bookmark"],[1,"th","th-bookmark-1-o"],["href","#","target","_blank"],["height","500","width","auto",1,"card-img-top","img-fluid",3,"src"],[1,"card-body"],[1,"instagram-post-desc"],[1,"card-footer","bg-transparent","border-secondary","d-flex","justify-content-around","align-content-center"],[1,"text-primary","d-flex","align-items-center","gap-2",3,"click"],["src","../../../assets/thumbs-up.png","width","30","height","30","alt","",1,"d-inline-block","align-top"],[1,"text-secondary","d-flex","align-items-center","gap-2",3,"click"],["src","../../../assets/dislike.png","width","30","height","30","alt","",1,"d-inline-block","align-top"],["target","_blank",1,"text-primary","d-flex","align-items-center","gap-2",3,"href"],["src","../../../assets/chat.png","width","30","height","30","alt","",1,"d-inline-block","align-top"]],template:function(e,r){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c._UZ(4,"img",4),c.qZA(),c.TgZ(5,"div",5),c._uU(6),c.qZA(),c.TgZ(7,"div",6),c._uU(8),c.qZA(),c.TgZ(9,"div",7),c._uU(10),c.ALo(11,"date"),c.qZA(),c.TgZ(12,"div",8),c._UZ(13,"span",9),c.qZA()()(),c.TgZ(14,"a",10),c._UZ(15,"img",11),c.qZA(),c.TgZ(16,"div",12)(17,"div",13)(18,"div")(19,"small"),c._uU(20),c.qZA(),c._uU(21),c.qZA()()(),c.TgZ(22,"div",14)(23,"div",15),c.NdJ("click",function(){return r.upvotePost()}),c._UZ(24,"img",16),c._uU(25),c.qZA(),c.TgZ(26,"div",17),c.NdJ("click",function(){return r.downvotePost()}),c._UZ(27,"img",18),c._uU(28),c.qZA(),c.TgZ(29,"a",19),c._UZ(30,"img",20),c.qZA()()()),2&e&&(c.xp6(6),c.hij(" ",r.post.by," "),c.xp6(2),c.hij(" ",r.post.locationName," "),c.xp6(2),c.hij(" ",c.lcZ(11,9,r.post.date)," "),c.xp6(5),c.Q6J("src",r.post.picture,c.LSH),c.xp6(5),c.Oqu(r.post.by),c.xp6(1),c.hij(" ",r.post.description," "),c.xp6(4),c.hij(" ",r.upvote," "),c.xp6(3),c.hij(" ",r.downvote," "),c.xp6(1),c.Q6J("href",r.getInstaUrl(),c.LSH))},dependencies:[Ud],styles:['@import"https://fonts.googleapis.com/css?family=Just+Another+Hand|Lato:400,400i,700,700i|Montserrat+Alternates:400,400i,700,700i|Montserrat:400,400i,700,700i|Permanent+Marker|Shadows+Into+Light|Rock+Salt";.clear[_ngcontent-%COMP%]{clear:both}.instagram-template[_ngcontent-%COMP%]{position:relative;width:550px;height:auto;padding-bottom:60px;background-color:#f9f9f9;margin:0 auto;cursor:default}.instagram-inner[_ngcontent-%COMP%]{position:relative;margin:20px}.instagram-top[_ngcontent-%COMP%]{position:relative;height:160px;padding:20px 0}.instagram-avatar[_ngcontent-%COMP%]{position:absolute;border-radius:100%;height:100px;width:100px;overflow:hidden;top:30px;left:10px}.instagram-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100px;min-height:100px;max-width:100px;min-width:100px;overflow:hidden}.instagram-name[_ngcontent-%COMP%]{position:relative;left:140px;top:10px;font-family:montserrat;font-weight:lighter;font-size:28px;color:#aeaeae}.instagram-numbers[_ngcontent-%COMP%]{position:absolute;left:116px;top:58px}.instagram-numbers[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative;display:inline-block;min-width:120px;text-align:center;font-family:montserrat alternates;font-size:12px;color:#505050}.instagram-numbers[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#aeaeae}.instagram-desc[_ngcontent-%COMP%]{position:absolute;height:55px;width:300px;overflow:hidden;padding:8px;background:#ffffff;top:80px;left:144px}.instagram-desc[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:5px;text-align:justify;font-family:montserrat;font-size:9px;color:#909090}.instagram-desc[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#e1cbcf;font-size:10px}.instagram-body[_ngcontent-%COMP%]{position:relative;margin:20px auto;width:370px}.instagram-images[_ngcontent-%COMP%]{position:relative;height:370px;width:370px;margin:0 auto;overflow:hidden}.instagram-images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:120px;min-width:120px;max-height:120px;min-height:120px;overflow:hidden}.instagram-post[_ngcontent-%COMP%]{position:relative;height:100%;width:440px;margin:0 auto;background-color:#fff;overflow:hidden;cursor:default}.instagram-post-top[_ngcontent-%COMP%]{position:relative;height:55px;overflow:hidden}.instagram-post-avatar[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;height:40px;width:40px;overflow:hidden;border-radius:100%}.instagram-post-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}.instagram-post-name[_ngcontent-%COMP%]{position:absolute;top:16px;left:58px;font-family:montserrat alternates;font-weight:700;color:#000;font-size:13px}.instagram-post-title[_ngcontent-%COMP%]{position:absolute;left:59px;top:34px;font-family:montserrat;text-transform:normal;font-size:10px}.instagram-post-date[_ngcontent-%COMP%]{position:absolute;right:56px;top:25px;font-family:montserrat alternates;font-size:9px;font-weight:700;color:#9c9999}.instagram-post-bookmark[_ngcontent-%COMP%]{position:absolute;right:20px;top:18px;font-size:24px;color:#cecece}.instagram-post-image[_ngcontent-%COMP%]{position:relative}.instagram-post-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:440px;min-width:440px;max-height:370px;min-height:370px;overflow:hidden}.instagram-post-desc[_ngcontent-%COMP%]{position:relative;margin:0 auto;overflow:hidden}.instagram-post-desc[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative;font-family:montserrat;font-size:11px;color:#3b3b3b}.instagram-post-desc[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:inline-block;margin-right:3px;font-family:montserrat alternates;font-size:13px;font-weight:700;color:#2775f4}.instagram-post-desc[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e1cbcf}.instagram-post-icons[_ngcontent-%COMP%]{position:absolute;width:200px;height:30px;left:44px;margin-top:10px;overflow:hidden}.instagram-post-icons[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin-right:8px;font-size:20px;color:#cecece}.instagram-post-likes[_ngcontent-%COMP%]{position:absolute;right:50px;margin-top:13px;text-align:right;font-family:montserrat alternates;font-size:12px;font-weight:700;color:#aeaeae}.instagram-post-likes[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#e1cbcf}.instagram-post-comment[_ngcontent-%COMP%]{position:relative;width:350px;height:20px;padding-top:18px;margin:40px auto 0;border-top:1px solid #dedede}.instagram-post-comment[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-family:montserrat;font-size:12px;color:#909090}.instagram-post-comment[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;position:absolute;right:0px;margin-top:-10px;font-size:30px}']}),n})(),qx=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-user"]],inputs:{user:"user"},decls:9,vars:5,consts:[[1,"card","mb-3","mt-4","horizontal-display"],[1,"d-flex","justify-content-center","align-items-center"],[1,"rounded-circle","ml-2",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(e,r){1&e&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"img",2),c.qZA(),c.TgZ(3,"div",3)(4,"h5",4),c._uU(5),c.ALo(6,"uppercase"),c.qZA(),c.TgZ(7,"p",5),c._uU(8),c.qZA()()()),2&e&&(c.xp6(2),c.Q6J("src",r.user.picture,c.LSH),c.xp6(3),c.Oqu(c.lcZ(6,3,r.user.name)),c.xp6(3),c.Oqu(r.user.bio))},dependencies:[qa],styles:[".horizontal-display[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;flex-direction:row}img[_ngcontent-%COMP%]{height:80px;width:80px;margin-right:4px}"]}),n})();function Zx(n,t){1&n&&(c.TgZ(0,"div",3),c._UZ(1,"div",4),c.qZA())}function Kx(n,t){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"app-post",9),c.qZA()),2&n){const e=t.$implicit;c.xp6(1),c.Q6J("post",e)}}function Yx(n,t){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"app-user",10),c.qZA()),2&n){const e=t.$implicit;c.xp6(1),c.Q6J("user",e)}}function Qx(n,t){if(1&n&&(c.TgZ(0,"div",5)(1,"div",6),c.YNc(2,Kx,2,1,"div",7),c.qZA(),c.TgZ(3,"div",6)(4,"p",8),c._uU(5,"Recent new User"),c.qZA(),c.YNc(6,Yx,2,1,"div",7),c.qZA()()),2&n){const e=c.oxw();c.xp6(2),c.Q6J("ngForOf",e.posts),c.xp6(4),c.Q6J("ngForOf",e.users)}}let Jx=(()=>{class n{constructor(e,r){this.db=e,this.toastr=r,this.users=[],this.posts=[],this.isLoading=!1,this.isLoading=!0,e.object("/users").valueChanges().subscribe(o=>{o?(console.log(Object.values(o)),this.users=Object.values(o),this.isLoading=!1):(r.error("NO user found"),this.users=[],this.isLoading=!1)}),e.object("/posts").valueChanges().subscribe(o=>{o?(this.posts=Object.values(o).sort((u,h)=>h.date-u.date),this.isLoading=!1):(r.error("NO post to display"),this.posts=[],this.isLoading=!1)})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Bv),c.Y36(Vf))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:4,vars:2,consts:[[1,"container"],["class","d-flex justify-content-center align-items-center min-vh-100",4,"ngIf","ngIfElse"],["Content",""],[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],["role","status",1,"spinner-border","text-light",2,"width","3rem","height","3rem"],[1,"row","m-md-5","d-flex","justify-content-center"],[1,"col-md-4"],[4,"ngFor","ngForOf"],[1,"text-light","text-uppercase","text-center"],[1,"mb-5",3,"post"],[3,"user"]],template:function(e,r){if(1&e&&(c.TgZ(0,"div",0),c.YNc(1,Zx,2,0,"div",1),c.YNc(2,Qx,7,2,"ng-template",null,2,c.W1O),c.qZA()),2&e){const o=c.MAs(3);c.xp6(1),c.Q6J("ngIf",r.isLoading)("ngIfElse",o)}},dependencies:[Js,_s,zx,qx]}),n})(),Xx=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-pagenotfound"]],decls:2,vars:0,template:function(e,r){1&e&&(c.TgZ(0,"p"),c._uU(1,"pagenotfound works!"),c.qZA())}}),n})(),eN=(()=>{class n{constructor(e,r,o){this.auth=e,this.toastr=r,this.router=o}ngOnInit(){}onSubmit(e){const{email:r,password:o}=e.form.value;this.auth.signIn(r,o).then(u=>{this.toastr.success("Sign In success"),this.router.navigateByUrl("/")}).catch(u=>{this.toastr.error(u.message,"",{closeButton:!0})})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(dm),c.Y36(Vf),c.Y36(Kr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-signin"]],decls:24,vars:0,consts:[[1,"container"],[1,"row","mt-5"],[1,"col","col-md-6","offset-md-3"],[1,"card"],[1,"card-header","text-center","text-info","text-uppercase"],[1,"card-body"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group","row"],["for","email",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","email","id","email","name","email","placeholder","Enter Email","ngModel","","required","",1,"form-control"],["for","password",1,"col-sm-3","col-form-label"],["type","password","id","password","name","password","placeholder","Enter password","ngModel","","required","",1,"form-control"],["id","emailHelp",1,"form-text","text-muted"],[1,"text-center"],["type","submit",1,"btn","btn-primary"]],template:function(e,r){if(1&e){const o=c.EpF();c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),c._uU(5," Sign In Please "),c.qZA(),c.TgZ(6,"div",5)(7,"form",6,7),c.NdJ("ngSubmit",function(){c.CHM(o);const h=c.MAs(8);return c.KtG(r.onSubmit(h))}),c.TgZ(9,"div",8)(10,"label",9),c._uU(11,"Email"),c.qZA(),c.TgZ(12,"div",10),c._UZ(13,"input",11),c.qZA()(),c.TgZ(14,"div",8)(15,"label",12),c._uU(16,"Password"),c.qZA(),c.TgZ(17,"div",10),c._UZ(18,"input",13),c.TgZ(19,"small",14),c._uU(20,"Minimum length of the password should be 6 or more"),c.qZA()()(),c.TgZ(21,"div",15)(22,"button",16),c._uU(23," Sign In "),c.qZA()()()()()()()()}},dependencies:[Du,ba,Ss,wo,Ma,Ni,Ta]}),n})();const tN={quality:.2,width:800,height:600,autoRotate:!0};function nN(n,t){1&n&&(c.TgZ(0,"div",31),c._uU(1," Upload finished "),c.qZA())}const rN=x(4282);let iN=(()=>{class n{constructor(e,r,o,u,h){this.auth=e,this.router=r,this.db=o,this.storage=u,this.toastr=h,this.href="",this.picture="https://cdn-icons.flaticon.com/png/512/5349/premium/5349022.png?token=exp=1654804068~hmac=8eb5d049a267e3963aacbe8c8ab5abe6",this.uploadPercent=null}ngOnInit(){this.picture=window.location.href.replace("/signup","/assets/programmer.png")}onSubmit(e){const{email:r,password:o,username:u,country:h,bio:m,name:E}=e.form.value;this.auth.signUp(r,o).then(D=>{console.log(D);const{uid:k}=D.user;this.db.object(`/users/${k}`).set({id:k,name:E,email:r,instaUserName:u,country:h,bio:m,picture:this.picture})}).then(()=>{this.router.navigateByUrl("/"),this.toastr.success("SignUp Success")}).catch(D=>{this.toastr.error("Signup failed")})}uploadFile(e){var r=this;return(0,vr.Z)(function*(){const o=e.target.files[0];let u=yield rN(o,tN);const h=o.name,m=r.storage.ref(h),E=r.storage.upload(h,u);E.percentageChanges().subscribe(D=>{r.uploadPercent=D}),E.snapshotChanges().pipe(Gv(()=>{m.getDownloadURL().subscribe(D=>{r.picture=D,r.toastr.success("image upload success")})})).subscribe()})()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(dm),c.Y36(Kr),c.Y36(Bv),c.Y36(Py),c.Y36(Vf))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-signup"]],decls:67,vars:7,consts:[[1,"container"],[1,"row","mt-5","mb-3"],[1,"col-md-6","offset-md-3"],[1,"card","border-primary"],[1,"card-header","text-center","text-info","text-uppercase"],[1,"card-body"],[3,"ngSubmit"],["f","ngForm"],[1,"text-center","mb-4","d-flex","flex-column",2,"cursor","pointer"],["for","imagepicker",1,""],["src","../../../assets/plus.png","width","20%","height","50%","alt","",1,"profile"],[1,"mt-2"],["type","file","name","image","id","imagepicker","accept","image/*","multiple","{false}","hidden","",1,"hidden",3,"change"],[1,"text-white","text-center",3,"hidden"],["class","text-success text-uppercase text-center mb-3",4,"ngIf"],[1,"form-group","row","mb-3"],["for","name",1,"col-sm-3","col-form-label"],[2,"color","red"],[1,"col-sm-9"],["type","name","id","name","name","name","placeholder","Enter Name","required","","ngModel","",1,"form-control"],["for","email",1,"col-sm-3","col-form-label"],["type","email","id","email","name","email","placeholder","Enter Email","required","","ngModel","",1,"form-control"],["for","password",1,"col-sm-3","col-form-label"],["type","password","id","password","name","password","placeholder","Enter password","required","","ngModel","",1,"form-control"],["id","emailHelp",1,"form-text","text-muted"],[1,"form-group","row","mb-2"],["type","text","id","username","name","username","placeholder","Enter your handle of instagram","required","","ngModel","",1,"form-control"],["type","text","id","country","name","country","placeholder","Your Country","required","","ngModel","",1,"form-control"],["type","text","id","bio","name","bio","placeholder","some bio about you","required","","ngModel","",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-success","text-uppercase","text-center","mb-3"]],template:function(e,r){if(1&e){const o=c.EpF();c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),c._uU(5," Sign Up Please "),c.qZA(),c.TgZ(6,"div",5)(7,"form",6,7),c.NdJ("ngSubmit",function(){c.CHM(o);const h=c.MAs(8);return c.KtG(r.onSubmit(h))}),c.TgZ(9,"div")(10,"div",8)(11,"label",9),c._UZ(12,"img",10),c.TgZ(13,"div",11),c._uU(14," Add Profile Photo "),c.qZA()(),c.TgZ(15,"input",12),c.NdJ("change",function(h){return r.uploadFile(h)}),c.qZA()(),c.TgZ(16,"div",13),c._uU(17),c.ALo(18,"number"),c.qZA(),c.YNc(19,nN,2,0,"div",14),c.qZA(),c.TgZ(20,"div",15)(21,"label",16),c._uU(22,"Name "),c.TgZ(23,"span",17),c._uU(24,"*"),c.qZA()(),c.TgZ(25,"div",18),c._UZ(26,"input",19),c.qZA()(),c.TgZ(27,"div",15)(28,"label",20),c._uU(29,"Email "),c.TgZ(30,"span",17),c._uU(31,"*"),c.qZA()(),c.TgZ(32,"div",18),c._UZ(33,"input",21),c.qZA()(),c.TgZ(34,"div",15)(35,"label",22),c._uU(36,"Password "),c.TgZ(37,"span",17),c._uU(38,"*"),c.qZA()(),c.TgZ(39,"div",18),c._UZ(40,"input",23),c.TgZ(41,"small",24),c._uU(42,"Minimum length of the password should be 6 or more"),c.qZA()()(),c.TgZ(43,"div",25)(44,"label",20),c._uU(45,"Instagram username "),c.TgZ(46,"span",17),c._uU(47,"*"),c.qZA()(),c.TgZ(48,"div",18),c._UZ(49,"input",26),c.qZA()(),c.TgZ(50,"div",15)(51,"label",20),c._uU(52,"Country "),c.TgZ(53,"span",17),c._uU(54,"*"),c.qZA()(),c.TgZ(55,"div",18),c._UZ(56,"input",27),c.qZA()(),c.TgZ(57,"div",15)(58,"label",20),c._uU(59,"Bio "),c.TgZ(60,"span",17),c._uU(61,"*"),c.qZA()(),c.TgZ(62,"div",18),c._UZ(63,"textarea",28),c.qZA()(),c.TgZ(64,"div",29)(65,"button",30),c._uU(66," Sign Up "),c.qZA()()()()()()()()}if(2&e){const o=c.MAs(8);c.xp6(16),c.Q6J("hidden",!r.uploadPercent||100==r.uploadPercent),c.xp6(1),c.hij(" uploading ",c.xi3(18,4,r.uploadPercent,"1.0-0")," % of 100% "),c.xp6(2),c.Q6J("ngIf",100==r.uploadPercent),c.xp6(46),c.Q6J("disabled",!o.form.valid)}},dependencies:[_s,Du,ba,Ss,wo,Ma,Ni,Ta,Dr]}),n})();var XM=x(9635);const eR=(0,Ut.U)(n=>!!n),QT=(0,Ut.U)(n=>!!n);let n0=(()=>{class n{constructor(e,r){this.router=e,this.auth=r,this.canActivate=(o,u)=>{const h=o.data.authGuardPipe||(()=>QT);return this.auth.user.pipe((0,$p.q)(1),h(o,u),(0,Ut.U)(m=>"boolean"==typeof m?m:Array.isArray(m)?this.router.createUrlTree(m):this.router.parseUrl(m)))}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Kr),c.LFG(dd))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const tR=()=>{return n=["signin"],(0,XM.z)(eR,(0,Ut.U)(t=>t||n));var n},nR=()=>{return n=[""],(0,XM.z)(eR,(0,Ut.U)(t=>t&&n||!0));var n},cN=[{path:"signin",component:eN,canActivate:[n0],data:{authGuardPipe:nR}},{path:"signup",component:iN,canActivate:[n0],data:{authGuardPipe:nR}},{path:"addpost",component:Wx,canActivate:[n0],data:{authGuardPipe:tR}},{path:"",component:Jx,canActivate:[n0],data:{authGuardPipe:tR}},{path:"**",component:Xx}];let dN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[qM.forRoot(cN),qM]}),n})();function hN(n,t){if(1&n&&(c.TgZ(0,"div",8),c._UZ(1,"img",9),c._uU(2),c.qZA()),2&n){const e=c.oxw();c.xp6(2),c.hij(" ",e.email," ")}}const fN=function(){return["/addpost"]};function pN(n,t){1&n&&(c.TgZ(0,"a",10),c._uU(1," Add Post "),c._UZ(2,"img",11),c.qZA()),2&n&&c.Q6J("routerLink",c.DdM(1,fN))}const gN=function(){return["/signin"]};function mN(n,t){1&n&&(c.TgZ(0,"a",12),c._uU(1,"Sign In"),c.qZA()),2&n&&c.Q6J("routerLink",c.DdM(1,gN))}const _N=function(){return["/signup"]};function yN(n,t){1&n&&(c.TgZ(0,"a",12),c._uU(1,"Sign Up"),c.qZA()),2&n&&c.Q6J("routerLink",c.DdM(1,_N))}function vN(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"a",13),c.NdJ("click",function(){c.CHM(e);const o=c.oxw();return c.KtG(o.handleSignOut())}),c._uU(1,"Log Out"),c.qZA()}}const EN=function(){return["/"]};let wN=(()=>{class n{constructor(e,r,o){this.auth=e,this.router=r,this.toastr=o,e.getUser().subscribe(u=>{console.log("USER IS:",u),this.email=u?.email})}ngOnInit(){}handleSignOut(){var e=this;return(0,vr.Z)(function*(){try{yield e.auth.signOut(),e.router.navigateByUrl("/signin"),e.toastr.info("Logout success"),e.email=null}catch{e.toastr.error("Problem in signout")}})()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(dm),c.Y36(Kr),c.Y36(Vf))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],decls:11,vars:7,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-light","d-flex"],[1,"navbar-brand","text-primary","fw-bold","ms-4",3,"routerLink"],["src","../../../assets/gdsc3.png","width","30","height","30","alt","",1,"d-inline-block","align-top"],[1,"ml-auto","ms-md-auto","gap-2","mx-3","d-flex","align-items-center"],["class","navbar-text float-left text-success fw-bold d-flex align-items-center gap-2",4,"ngIf"],["class","nav-item nav-link btn border-primary rounded fw-bold text-primary d-flex align-items-center gap-2 p-2",3,"routerLink",4,"ngIf"],["routerLinkActive","active","class","nav-item nav-link text-primary border-primary fw-bold",3,"routerLink",4,"ngIf"],["class","nav-item nav-link text-light fw-bold btn btn-warning p-2",3,"click",4,"ngIf"],[1,"navbar-text","float-left","text-success","fw-bold","d-flex","align-items-center","gap-2"],["src","../../../assets/programmer.png","width","30","height","30","alt","",1,"d-inline-block","align-top"],[1,"nav-item","nav-link","btn","border-primary","rounded","fw-bold","text-primary","d-flex","align-items-center","gap-2","p-2",3,"routerLink"],["src","../../../assets/plus.png","width","23","height","23","alt","",1,"d-inline-block","align-top"],["routerLinkActive","active",1,"nav-item","nav-link","text-primary","border-primary","fw-bold",3,"routerLink"],[1,"nav-item","nav-link","text-light","fw-bold","btn","btn-warning","p-2",3,"click"]],template:function(e,r){1&e&&(c.TgZ(0,"nav",0)(1,"a",1),c._UZ(2,"img",2),c._uU(3," GDSC Social Network "),c._UZ(4,"img",2),c.qZA(),c.TgZ(5,"div",3),c.YNc(6,hN,3,1,"div",4),c.YNc(7,pN,3,2,"a",5),c.YNc(8,mN,2,2,"a",6),c.YNc(9,yN,2,2,"a",6),c.YNc(10,vN,2,0,"a",7),c.qZA()()),2&e&&(c.xp6(1),c.Q6J("routerLink",c.DdM(6,EN)),c.xp6(5),c.Q6J("ngIf",r.email),c.xp6(1),c.Q6J("ngIf",r.email),c.xp6(1),c.Q6J("ngIf",!r.email),c.xp6(1),c.Q6J("ngIf",!r.email),c.xp6(1),c.Q6J("ngIf",r.email))},dependencies:[_s,Xb,jM],styles:[".active[_ngcontent-%COMP%]{border-bottom:1px solid #fff}"]}),n})(),bN=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-footer"]],decls:8,vars:0,consts:[[1,"container-fluid","bg-secondary"],[1,"row","p-2"],[1,"col-4","text-center","text-white"],[1,"col-8","text-center","text-white"],["target","_blank","href","https://www.linkedin.com/in/geetansh-agrawal-1b8a27190/",1,"text-light","fw-bold","text-decoration-none"],["src","../../../assets/linkedin-logo-png-2026.png","alt","","width","20px"]],template:function(e,r){1&e&&(c.TgZ(0,"footer",0)(1,"div",1)(2,"div",2),c._uU(3," GDSC Social App "),c.qZA(),c.TgZ(4,"div",3)(5,"a",4),c._uU(6,' App created by "Geetansh Agrawal" '),c._UZ(7,"img",5),c.qZA()()()())}}),n})(),CN=(()=>{class n{constructor(e){this.auth=e,this.title="SocialMediaApp"}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(dm))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"bg-dark"],[1,"container","min-vh-100"]],template:function(e,r){1&e&&(c.TgZ(0,"div",0),c._UZ(1,"app-header"),c.TgZ(2,"div",1),c._UZ(3,"router-outlet"),c.qZA(),c._UZ(4,"app-footer"),c.qZA())},dependencies:[BT,wN,bN]}),n})();const rR_firebase={apiKey:"AIzaSyDqiG0RCMB9Y7KW0BhSrtr27d427M-tLqc",authDomain:"socialmediaapp-3b9c8.firebaseapp.com",databaseURL:"https://socialmediaapp-3b9c8-default-rtdb.firebaseio.com",projectId:"socialmediaapp-3b9c8",storageBucket:"socialmediaapp-3b9c8.appspot.com",messagingSenderId:"42050856229",appId:"1:42050856229:web:57cf5764dff4860dad66cc",measurementId:"G-H2MKYRQJHC"};let IN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[CN]}),n.\u0275inj=c.cJS({providers:[],imports:[al,dN,pp,al,HC,$r.hO.initializeApp(rR_firebase),uE,qP,NS,Vx.forRoot()]}),n})();(0,c.G48)(),Hd().bootstrapModule(IN).catch(n=>console.error(n))},4282:module=>{var be;window,be=function(){return function(Xe){var be={};function x(c){if(be[c])return be[c].exports;var Q=be[c]={i:c,l:!1,exports:{}};return Xe[c].call(Q.exports,Q,Q.exports,x),Q.l=!0,Q.exports}return x.m=Xe,x.c=be,x.d=function(c,Q,V){x.o(c,Q)||Object.defineProperty(c,Q,{enumerable:!0,get:V})},x.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},x.t=function(c,Q){if(1&Q&&(c=x(c)),8&Q||4&Q&&"object"==typeof c&&c&&c.__esModule)return c;var V=Object.create(null);if(x.r(V),Object.defineProperty(V,"default",{enumerable:!0,value:c}),2&Q&&"string"!=typeof c)for(var W in c)x.d(V,W,function(ie){return c[ie]}.bind(null,W));return V},x.n=function(c){var Q=c&&c.__esModule?function(){return c.default}:function(){return c};return x.d(Q,"a",Q),Q},x.o=function(c,Q){return Object.prototype.hasOwnProperty.call(c,Q)},x.p="",x(x.s=22)}([function(Xe,be,x){"use strict";(function(c){function Q($){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})($)}function V($,O,U){for(var ee=[],Ae=0;Ae<U&&O+Ae<$.byteLength;Ae++)ee.push($.getUint8(O+Ae));return ie(ee)}function W($,O,U){for(var ee=[],Ae=0;Ae<U&&O+Ae<$.byteLength;Ae+=2)ee.push($.getUint16(O+Ae));return ie(ee)}function ie($){return $.map(function(O){return String.fromCharCode(O)}).join("")}function he(){for(var $=1;$<arguments.length;$++)for(var O in arguments[$])arguments[0][O]=arguments[$][O];return arguments[0]}function j($,O,U){var ee=!1;Object.defineProperty($,O,{get:function(){return ee||(ee=!0,Object.defineProperty($,O,{configurable:!0,enumerable:!0,value:U.apply($),writable:!0})),$[O]},configurable:!0,enumerable:!0})}function Y($){return typeof btoa<"u"?btoa(Array.prototype.reduce.call(new Uint8Array($),function(O,U){return O+String.fromCharCode(U)},"")):void 0!==c?void 0!==Q(c.from)?c.from($).toString("base64"):new c($).toString("base64"):void 0}x.d(be,"c",function(){return V}),x.d(be,"e",function(){return W}),x.d(be,"d",function(){return ie}),x.d(be,"f",function(){return he}),x.d(be,"a",function(){return j}),x.d(be,"b",function(){return Y})}).call(this,x(10).Buffer)},function(Xe,be,x){"use strict";be.a={USE_FILE:!0,USE_PNG_FILE:!0,USE_EXIF:!0,USE_IPTC:!0,USE_XMP:!0,USE_ICC:!0,USE_MPF:!0,USE_THUMBNAIL:!0,USE_TIFF:!0,USE_JPEG:!0,USE_PNG:!0,USE_HEIC:!0,USE_WEBP:!0}},function(Xe,be,x){"use strict";var c=x(4),Q={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8,13:4},V={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10,IFD:13};function W(j,Y){return j.getUint8(Y)}function ie(j,Y,$){return j.getUint32(Y,$===c.a.LITTLE_ENDIAN)}function he(j,Y,$){return j.getInt32(Y,$===c.a.LITTLE_ENDIAN)}be.a={getAsciiValue:function(j){return j.map(function(Y){return String.fromCharCode(Y)})},getByteAt:W,getAsciiAt:function(j,Y){return j.getUint8(Y)},getShortAt:function(j,Y,$){return j.getUint16(Y,$===c.a.LITTLE_ENDIAN)},getLongAt:ie,getRationalAt:function(j,Y,$){return[ie(j,Y,$),ie(j,Y+4,$)]},getUndefinedAt:function(j,Y){return W(j,Y)},getSlongAt:he,getSrationalAt:function(j,Y,$){return[he(j,Y,$),he(j,Y+4,$)]},getIfdPointerAt:function(j,Y,$){return ie(j,Y,$)},typeSizes:Q,tagTypes:V,getTypeSize:function(j){if(void 0===V[j])throw new Error("No such type found.");return Q[V[j]]}}},function(Xe,be,x){"use strict";function c(W){return W.map(function(ie){return String.fromCharCode(ie)}).join("")}function Q(W){if(W.length>=8){var ie=c(W.slice(0,8));if("ASCII\0\0\0"===ie)return c(W.slice(8));if("JIS\0\0\0\0\0"===ie)return"[JIS encoded text]";if("UNICODE\0"===ie)return"[Unicode encoded text]";if("\0\0\0\0\0\0\0\0"===ie)return"[Undefined encoding]"}return"Undefined"}function V(W){return W[0][0]/W[0][1]+W[1][0]/W[1][1]/60+W[2][0]/W[2][1]/3600}x.d(be,"c",function(){return c}),x.d(be,"b",function(){return Q}),x.d(be,"a",function(){return V})},function(Xe,be,x){"use strict";be.a={BIG_ENDIAN:19789,LITTLE_ENDIAN:18761,getByteOrder:function(c,Q){if(18761===c.getUint16(Q))return 18761;if(19789===c.getUint16(Q))return 19789;throw new Error("Illegal byte order value. Faulty image.")}}},function(Xe,be,x){"use strict";function c(Q){this.name="MetadataMissingError",this.message=Q||"No Exif data",this.stack=(new Error).stack}c.prototype=new Error,be.a={MetadataMissingError:c}},function(Xe,be,x){"use strict";var c=x(1),Q=x(0),V=x(4),W=x(2),ie={LightSource:function(b){return 1===b?"Daylight":2===b?"Fluorescent":3===b?"Tungsten (incandescent light)":4===b?"Flash":9===b?"Fine weather":10===b?"Cloudy weather":11===b?"Shade":12===b?"Daylight fluorescent (D 5700 \u2013 7100K)":13===b?"Day white fluorescent (N 4600 \u2013 5400K)":14===b?"Cool white fluorescent (W 3900 \u2013 4500K)":15===b?"White fluorescent (WW 3200 \u2013 3700K)":17===b?"Standard light A":18===b?"Standard light B":19===b?"Standard light C":20===b?"D55":21===b?"D65":22===b?"D75":23===b?"D50":24===b?"ISO studio tungsten":255===b?"Other light source":"Unknown"}},he={11:"ProcessingSoftware",254:{name:"SubfileType",description:function(b){return{0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image",3:"Single page of multi-page reduced-resolution image",4:"Transparency mask",5:"Transparency mask of reduced-resolution image",6:"Transparency mask of multi-page image",7:"Transparency mask of reduced-resolution multi-page image",65537:"Alternate reduced-resolution image",4294967295:"Invalid"}[b]||"Unknown"}},255:{name:"OldSubfileType",description:function(b){return{0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image"}[b]||"Unknown"}},256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:{name:"Thresholding",description:function(b){return{1:"No dithering or halftoning",2:"Ordered dither or halfton",3:"Randomized dither"}[b]||"Unknown"}},264:"CellWidth",265:"CellLength",266:{name:"FillOrder",description:function(b){return{1:"Normal",2:"Reversed"}[b]||"Unknown"}},269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(b){return 1===b?"top-left":2===b?"top-right":3===b?"bottom-right":4===b?"bottom-left":5===b?"left-top":6===b?"right-top":7===b?"right-bottom":8===b?"left-bottom":"Undefined"}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:{name:"XResolution",description:function(b){return""+Math.round(b[0]/b[1])}},283:{name:"YResolution",description:function(b){return""+Math.round(b[0]/b[1])}},284:"PlanarConfiguration",285:"PageName",286:{name:"XPosition",description:function(b){return""+Math.round(b[0]/b[1])}},287:{name:"YPosition",description:function(b){return""+Math.round(b[0]/b[1])}},290:{name:"GrayResponseUnit",description:function(b){return{1:"0.1",2:"0.001",3:"0.0001",4:"1e-05",5:"1e-06"}[b]||"Unknown"}},296:{name:"ResolutionUnit",description:function(b){return 2===b?"inches":3===b?"centimeters":"Unknown"}},297:"PageNumber",301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:{name:"WhitePoint",description:function(b){return b.map(function(G){return"".concat(G[0],"/").concat(G[1])}).join(", ")}},319:{name:"PrimaryChromaticities",description:function(b){return b.map(function(G){return"".concat(G[0],"/").concat(G[1])}).join(", ")}},321:"HalftoneHints",322:"TileWidth",323:"TileLength",330:"A100DataOffset",332:{name:"InkSet",description:function(b){return{1:"CMYK",2:"Not CMYK"}[b]||"Unknown"}},337:"TargetPrinter",338:{name:"ExtraSamples",description:function(b){return{0:"Unspecified",1:"Associated Alpha",2:"Unassociated Alpha"}[b]||"Unknown"}},339:{name:"SampleFormat",description:function(b){var G={1:"Unsigned",2:"Signed",3:"Float",4:"Undefined",5:"Complex int",6:"Complex float"};return Array.isArray(b)?b.map(function(X){return G[X]||"Unknown"}).join(", "):"Unknown"}},513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:{name:"YCbCrCoefficients",description:function(b){return b.map(function(G){return""+G[0]/G[1]}).join("/")}},530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(b){return 1===b?"centered":2===b?"co-sited":"undefined "+b}},532:{name:"ReferenceBlackWhite",description:function(b){return b.map(function(G){return""+G[0]/G[1]}).join(", ")}},700:"ApplicationNotes",18246:"Rating",18249:"RatingPercent",33432:{name:"Copyright",description:function(b){return b.join("; ")}},33550:"PixelScale",33723:"IPTC-NAA",33920:"IntergraphMatrix",33922:"ModelTiePoint",34118:"SEMInfo",34264:"ModelTransform",34377:"PhotoshopSettings",34665:"Exif IFD Pointer",34675:"ICC_Profile",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34853:"GPS Info IFD Pointer",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",42112:"GDALMetadata",42113:"GDALNoData",50341:"PrintIM",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50739:"ShadowScale",50741:{name:"MakerNoteSafety",description:function(b){return{0:"Unsafe",1:"Safe"}[b]||"Unknown"}},50778:{name:"CalibrationIlluminant1",description:ie.LightSource},50779:{name:"CalibrationIlluminant2",description:ie.LightSource},50781:"RawDataUniqueID",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50885:"SRawType",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:{name:"ProfileEmbedPolicy",description:function(b){return{0:"Allow Copying",1:"Embed if Used",2:"Never Embed",3:"No Restrictions"}[b]||"Unknown"}},50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:{name:"PreviewColorSpace",description:function(b){return{1:"Gray Gamma 2.2",2:"sRGB",3:"Adobe RGB",4:"ProPhoto RGB"}[b]||"Unknown"}},50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:{name:"ProfileHueSatMapEncoding",description:function(b){return{0:"Linear",1:"sRGB"}[b]||"Unknown"}},51108:{name:"ProfileLookTableEncoding",description:function(b){return{0:"Linear",1:"sRGB"}[b]||"Unknown"}},51109:"BaselineExposureOffset",51110:{name:"DefaultBlackRender",description:function(b){return{0:"Auto",1:"None"}[b]||"Unknown"}},51111:"NewRawImageDigest",51112:"RawToPreviewGain"},j=x(3);function $(b,G){(null==G||G>b.length)&&(G=b.length);for(var X=0,ye=new Array(G);X<G;X++)ye[X]=b[X];return ye}var O={33434:{name:"ExposureTime",description:function(b){return 0!==b[0]?"1/".concat(Math.round(b[1]/b[0])):"0/".concat(b[1])}},33437:{name:"FNumber",description:function(b){return"f/".concat(b[0]/b[1])}},34850:{name:"ExposureProgram",description:function(b){return 0===b?"Undefined":1===b?"Manual":2===b?"Normal program":3===b?"Aperture priority":4===b?"Shutter priority":5===b?"Creative program":6===b?"Action program":7===b?"Portrait mode":8===b?"Landscape mode":9===b?"Bulb":"Unknown"}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(){return"[Raw OECF table data]"}},34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:{name:"SensitivityType",description:function(b){return{1:"Standard Output Sensitivity",2:"Recommended Exposure Index",3:"ISO Speed",4:"Standard Output Sensitivity and Recommended Exposure Index",5:"Standard Output Sensitivity and ISO Speed",6:"Recommended Exposure Index and ISO Speed",7:"Standard Output Sensitivity, Recommended Exposure Index and ISO Speed"}[b]||"Unknown"}},34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:{name:"ExifVersion",description:function(b){return Object(j.c)(b)}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",36873:"GooglePlusUploadCode",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(b){return b.map(function(G){return 49===G?"Y":50===G?"Cb":51===G?"Cr":52===G?"R":53===G?"G":54===G?"B":void 0}).join("")}},37122:"CompressedBitsPerPixel",37377:{name:"ShutterSpeedValue",description:function(b){return"1/".concat(Math.round(Math.pow(2,b[0]/b[1])))}},37378:{name:"ApertureValue",description:function(b){return Math.pow(Math.sqrt(2),b[0]/b[1]).toFixed(2)}},37379:"BrightnessValue",37380:"ExposureBiasValue",37381:{name:"MaxApertureValue",description:function(b){return Math.pow(Math.sqrt(2),b[0]/b[1]).toFixed(2)}},37382:{name:"SubjectDistance",description:function(b){return b[0]/b[1]+" m"}},37383:{name:"MeteringMode",description:function(b){return 1===b?"Average":2===b?"CenterWeightedAverage":3===b?"Spot":4===b?"MultiSpot":5===b?"Pattern":6===b?"Partial":255===b?"Other":"Unknown"}},37384:{name:"LightSource",description:ie.LightSource},37385:{name:"Flash",description:function(b){return 0===b?"Flash did not fire":1===b?"Flash fired":5===b?"Strobe return light not detected":7===b?"Strobe return light detected":9===b?"Flash fired, compulsory flash mode":13===b?"Flash fired, compulsory flash mode, return light not detected":15===b?"Flash fired, compulsory flash mode, return light detected":16===b?"Flash did not fire, compulsory flash mode":24===b?"Flash did not fire, auto mode":25===b?"Flash fired, auto mode":29===b?"Flash fired, auto mode, return light not detected":31===b?"Flash fired, auto mode, return light detected":32===b?"No flash function":65===b?"Flash fired, red-eye reduction mode":69===b?"Flash fired, red-eye reduction mode, return light not detected":71===b?"Flash fired, red-eye reduction mode, return light detected":73===b?"Flash fired, compulsory flash mode, red-eye reduction mode":77===b?"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected":79===b?"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected":89===b?"Flash fired, auto mode, red-eye reduction mode":93===b?"Flash fired, auto mode, return light not detected, red-eye reduction mode":95===b?"Flash fired, auto mode, return light detected, red-eye reduction mode":"Unknown"}},37386:{name:"FocalLength",description:function(b){return b[0]/b[1]+" mm"}},37393:"ImageNumber",37394:{name:"SecurityClassification",description:function(b){return{C:"Confidential",R:"Restricted",S:"Secret",T:"Top Secret",U:"Unclassified"}[b]||"Unknown"}},37395:"ImageHistory",37396:{name:"SubjectArea",description:function(b){return 2===b.length?"Location; X: ".concat(b[0],", Y: ").concat(b[1]):3===b.length?"Circle; X: ".concat(b[0],", Y: ").concat(b[1],", diameter: ").concat(b[2]):4===b.length?"Rectangle; X: ".concat(b[0],", Y: ").concat(b[1],", width: ").concat(b[2],", height: ").concat(b[3]):"Unknown"}},37500:{name:"MakerNote",description:function(){return"[Raw maker note data]"}},37510:{name:"UserComment",description:j.b},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37888:{name:"AmbientTemperature",description:function(b){return b[0]/b[1]+" \xb0C"}},37889:{name:"Humidity",description:function(b){return b[0]/b[1]+" %"}},37890:{name:"Pressure",description:function(b){return b[0]/b[1]+" hPa"}},37891:{name:"WaterDepth",description:function(b){return b[0]/b[1]+" m"}},37892:{name:"Acceleration",description:function(b){return b[0]/b[1]+" mGal"}},37893:{name:"CameraElevationAngle",description:function(b){return b[0]/b[1]+" \xb0"}},40960:{name:"FlashpixVersion",description:function(b){return b.map(function(G){return String.fromCharCode(G)}).join("")}},40961:{name:"ColorSpace",description:function(b){return 1===b?"sRGB":65535===b?"Uncalibrated":"Unknown"}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(b){return 2===b?"inches":3===b?"centimeters":"Unknown"}},41492:{name:"SubjectLocation",description:function(b){var G=function Y(b,G){return function(X){if(Array.isArray(X))return X}(b)||function(X,ye){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(X)){var Me=[],De=!0,Le=!1,Ye=void 0;try{for(var Je,ze=X[Symbol.iterator]();!(De=(Je=ze.next()).done)&&(Me.push(Je.value),!ye||Me.length!==ye);De=!0);}catch(S){Le=!0,Ye=S}finally{try{De||null==ze.return||ze.return()}finally{if(Le)throw Ye}}return Me}}(b,G)||function(X,ye){if(X){if("string"==typeof X)return $(X,ye);var Me=Object.prototype.toString.call(X).slice(8,-1);if("Object"===Me&&X.constructor&&(Me=X.constructor.name),"Map"===Me||"Set"===Me)return Array.from(X);if("Arguments"===Me||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Me))return $(X,ye)}}(b,G)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(b,2),ye=G[1];return"X: ".concat(G[0],", Y: ").concat(ye)}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(b){return 1===b?"Undefined":2===b?"One-chip color area sensor":3===b?"Two-chip color area sensor":4===b?"Three-chip color area sensor":5===b?"Color sequential area sensor":7===b?"Trilinear sensor":8===b?"Color sequential linear sensor":"Unknown"}},41728:{name:"FileSource",description:function(b){return 3===b?"DSC":"Unknown"}},41729:{name:"SceneType",description:function(b){return 1===b?"A directly photographed image":"Unknown"}},41730:{name:"CFAPattern",description:function(){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(b){return 0===b?"Normal process":1===b?"Custom process":"Unknown"}},41986:{name:"ExposureMode",description:function(b){return 0===b?"Auto exposure":1===b?"Manual exposure":2===b?"Auto bracket":"Unknown"}},41987:{name:"WhiteBalance",description:function(b){return 0===b?"Auto white balance":1===b?"Manual white balance":"Unknown"}},41988:{name:"DigitalZoomRatio",description:function(b){return 0===b[0]?"Digital zoom was not used":""+b[0]/b[1]}},41989:{name:"FocalLengthIn35mmFilm",description:function(b){return 0===b?"Unknown":b}},41990:{name:"SceneCaptureType",description:function(b){return 0===b?"Standard":1===b?"Landscape":2===b?"Portrait":3===b?"Night scene":"Unknown"}},41991:{name:"GainControl",description:function(b){return 0===b?"None":1===b?"Low gain up":2===b?"High gain up":3===b?"Low gain down":4===b?"High gain down":"Unknown"}},41992:{name:"Contrast",description:function(b){return 0===b?"Normal":1===b?"Soft":2===b?"Hard":"Unknown"}},41993:{name:"Saturation",description:function(b){return 0===b?"Normal":1===b?"Low saturation":2===b?"High saturation":"Unknown"}},41994:{name:"Sharpness",description:function(b){return 0===b?"Normal":1===b?"Soft":2===b?"Hard":"Unknown"}},41995:{name:"DeviceSettingDescription",description:function(){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(b){return 1===b?"Macro":2===b?"Close view":3===b?"Distant view":"Unknown"}},42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:{name:"LensSpecification",description:function(b){var G="".concat(b[0][0]/b[0][1],"-").concat(b[1][0]/b[1][1]," mm");return 0===b[3][1]?"".concat(G," f/?"):"".concat(G," f/").concat(1/(b[2][1]/b[2][1]/(b[3][0]/b[3][1])))}},42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42080:{name:"CompositeImage",description:function(b){return{1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}[b]||"Unknown"}},42081:"SourceImageNumberOfCompositeImage",42082:"SourceExposureTimesOfCompositeImage",42240:"Gamma",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"};function ee(b,G){(null==G||G>b.length)&&(G=b.length);for(var X=0,ye=new Array(G);X<G;X++)ye[X]=b[X];return ye}var Ae={0:{name:"GPSVersionID",description:function(b){return 2===b[0]&&2===b[1]&&0===b[2]&&0===b[3]?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(b){var G=b.join("");return"N"===G?"North latitude":"S"===G?"South latitude":"Unknown"}},2:{name:"GPSLatitude",description:j.a},3:{name:"GPSLongitudeRef",description:function(b){var G=b.join("");return"E"===G?"East longitude":"W"===G?"West longitude":"Unknown"}},4:{name:"GPSLongitude",description:j.a},5:{name:"GPSAltitudeRef",description:function(b){return 0===b?"Sea level":1===b?"Sea level reference (negative value)":"Unknown"}},6:{name:"GPSAltitude",description:function(b){return b[0]/b[1]+" m"}},7:{name:"GPSTimeStamp",description:function(b){return b.map(function(G){var X=function U(b,G){return function(X){if(Array.isArray(X))return X}(b)||function(X,ye){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(X)){var Me=[],De=!0,Le=!1,Ye=void 0;try{for(var Je,ze=X[Symbol.iterator]();!(De=(Je=ze.next()).done)&&(Me.push(Je.value),!ye||Me.length!==ye);De=!0);}catch(S){Le=!0,Ye=S}finally{try{De||null==ze.return||ze.return()}finally{if(Le)throw Ye}}return Me}}(b,G)||function(X,ye){if(X){if("string"==typeof X)return ee(X,ye);var Me=Object.prototype.toString.call(X).slice(8,-1);if("Object"===Me&&X.constructor&&(Me=X.constructor.name),"Map"===Me||"Set"===Me)return Array.from(X);if("Arguments"===Me||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Me))return ee(X,ye)}}(b,G)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(G,2),ye=X[0]/X[1];return/^\d(\.|$)/.test("".concat(ye))?"0".concat(ye):ye}).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(b){var G=b.join("");return"A"===G?"Measurement in progress":"V"===G?"Measurement Interoperability":"Unknown"}},10:{name:"GPSMeasureMode",description:function(b){var G=b.join("");return"2"===G?"2-dimensional measurement":"3"===G?"3-dimensional measurement":"Unknown"}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(b){var G=b.join("");return"K"===G?"Kilometers per hour":"M"===G?"Miles per hour":"N"===G?"Knots":"Unknown"}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(b){var G=b.join("");return"T"===G?"True direction":"M"===G?"Magnetic direction":"Unknown"}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(b){var G=b.join("");return"T"===G?"True direction":"M"===G?"Magnetic direction":"Unknown"}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(b){var G=b.join("");return"N"===G?"North latitude":"S"===G?"South latitude":"Unknown"}},20:{name:"GPSDestLatitude",description:function(b){return b[0][0]/b[0][1]+b[1][0]/b[1][1]/60+b[2][0]/b[2][1]/3600}},21:{name:"GPSDestLongitudeRef",description:function(b){var G=b.join("");return"E"===G?"East longitude":"W"===G?"West longitude":"Unknown"}},22:{name:"GPSDestLongitude",description:function(b){return b[0][0]/b[0][1]+b[1][0]/b[1][1]/60+b[2][0]/b[2][1]/3600}},23:{name:"GPSDestBearingRef",description:function(b){var G=b.join("");return"T"===G?"True direction":"M"===G?"Magnetic direction":"Unknown"}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(b){var G=b.join("");return"K"===G?"Kilometers":"M"===G?"Miles":"N"===G?"Knots":"Unknown"}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:j.b},28:{name:"GPSAreaInformation",description:j.b},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(b){return 0===b?"Measurement without differential correction":1===b?"Differential correction applied":"Unknown"}},31:"GPSHPositioningError"},Re={1:"InteroperabilityIndex",2:{name:"InteroperabilityVersion",description:function(b){return Object(j.c)(b)}},4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight"},J={45056:{name:"MPFVersion",description:function(b){return Object(j.c)(b)}},45057:"NumberOfImages",45058:"MPEntry",45059:"ImageUIDList",45060:"TotalFrames"},q=Object(Q.f)({},he,O),ae={"0th":q,exif:q,gps:Ae,interoperability:Re,mpf:c.a.USE_MPF?J:{}},_e={1:W.a.getByteAt,2:W.a.getAsciiAt,3:W.a.getShortAt,4:W.a.getLongAt,5:W.a.getRationalAt,7:W.a.getUndefinedAt,9:W.a.getSlongAt,10:W.a.getSrationalAt,13:W.a.getIfdPointerAt};function ke(b,G,X){return G+W.a.getLongAt(b,G+4,X)}function Se(b,G,X,ye){if(ye===V.a.LITTLE_ENDIAN){for(var Me=0,De=0;De<X;De++)Me+=b[G+De]<<8*De;return Me}for(var Le=0,Ye=0;Ye<X;Ye++)Le+=b[G+Ye]<<8*(X-1-Ye);return Le}function Be(b){var G=[b>>31&1,b>>30&1,b>>29&1],X=[];return G[0]&&X.push("Dependent Parent Image"),G[1]&&X.push("Dependent Child Image"),G[2]&&X.push("Representative Image"),{value:G,description:X.join(", ")||"None"}}function je(b){var G=b>>24&7;return{value:G,description:0===G?"JPEG":"Unknown"}}function P(b){var G=16777215&b;return{value:G,description:{196608:"Baseline MP Primary Image",65537:"Large Thumbnail (VGA equivalent)",65538:"Large Thumbnail (Full HD equivalent)",131073:"Multi-Frame Image (Panorama)",131074:"Multi-Frame Image (Disparity)",131075:"Multi-Frame Image (Multi-Angle)",0:"Undefined"}[G]||"Unknown"}}function ne(b){return 0===b}function K(b,G,X,ye,Me){var R,B,ge,De=W.a.getTypeSize("SHORT"),Le={},Ye=(R=b,ge=Me,(B=ye)+W.a.getTypeSize("SHORT")<=R.byteLength?W.a.getShortAt(R,B,ge):0);ye+=De;for(var Je=0;Je<Ye&&!(ye+12>b.byteLength);Je++){var ze=se(b,G,X,ye,Me);void 0!==ze&&(Le[ze.name]={id:ze.id,value:ze.value,description:ze.description}),ye+=12}if(c.a.USE_THUMBNAIL&&ye<b.byteLength-W.a.getTypeSize("LONG")){var S=W.a.getLongAt(b,ye,Me);0!==S&&(Le.Thumbnail=K(b,G,X,X+S,Me))}return Le}function se(b,G,X,ye,Me){var De,Le=W.a.getTypeSize("SHORT"),Ye=Le+W.a.getTypeSize("SHORT"),Je=Ye+W.a.getTypeSize("LONG"),ze=W.a.getShortAt(b,ye,Me),S=W.a.getShortAt(b,ye+Le,Me),R=W.a.getLongAt(b,ye+Ye,Me);if(void 0!==W.a.typeSizes[S]){if(W.a.typeSizes[S]*R<=W.a.getTypeSize("LONG"))De=re(b,ye+Je,S,R,Me);else{var B=W.a.getLongAt(b,ye+Je,Me);De=X+B+W.a.typeSizes[S]*R<=b.byteLength?re(b,X+B,S,R,Me,33723===ze):"<faulty value>"}S===W.a.tagTypes.ASCII&&(De=function(Ee){try{return Ee.map(function(Ke){return decodeURIComponent(escape(Ke))})}catch{return Ee}}(De=function(Ee){for(var Ke=[],dt=0,Vt=0;Vt<Ee.length;Vt++)"\0"!==Ee[Vt]?(void 0===Ke[dt]&&(Ke[dt]=""),Ke[dt]+=Ee[Vt]):dt++;return Ke}(De)));var ge="undefined-".concat(ze),fe=De;if(void 0!==ae[G][ze])if(void 0!==ae[G][ze].name&&void 0!==ae[G][ze].description){ge=ae[G][ze].name;try{fe=ae[G][ze].description(De)}catch{fe=Ie(De)}}else S===W.a.tagTypes.RATIONAL||S===W.a.tagTypes.SRATIONAL?(ge=ae[G][ze],fe=""+De[0]/De[1]):(ge=ae[G][ze],fe=Ie(De));return{id:ze,name:ge,value:De,description:fe}}}function re(b,G,X,ye,Me){var De=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Le=[];De&&(ye*=W.a.typeSizes[X],X=W.a.tagTypes.BYTE);for(var Ye=0;Ye<ye;Ye++)Le.push(_e[X](b,G,Me)),G+=W.a.typeSizes[X];return X===W.a.tagTypes.ASCII?Le=W.a.getAsciiValue(Le):1===Le.length&&(Le=Le[0]),Le}function Ie(b){return b instanceof Array?b.join(", "):b}be.a={read:function(b,G){var Me,De,Le,X=V.a.getByteOrder(b,G),ye=K(Me=b,"0th",De=G,ke(Me,De,Le=X),Le);return function we(b,G,X,ye){return void 0!==b["Interoperability IFD Pointer"]?Object(Q.f)(b,K(G,"interoperability",X,X+b["Interoperability IFD Pointer"].value,ye)):b}(ye=function xe(b,G,X,ye){return void 0!==b["GPS Info IFD Pointer"]?Object(Q.f)(b,K(G,"gps",X,X+b["GPS Info IFD Pointer"].value,ye)):b}(ye=function Ge(b,G,X,ye){return void 0!==b["Exif IFD Pointer"]?Object(Q.f)(b,K(G,"exif",X,X+b["Exif IFD Pointer"].value,ye)):b}(ye,b,G,X),b,G,X),b,G,X)},readMpf:function(b,G){var X=V.a.getByteOrder(b,G);return function(Me,De,Le,Ye){if(!Le.MPEntry)return Le;for(var Je=[],ze=0;ze<Math.ceil(Le.MPEntry.value.length/16);ze++){Je[ze]={};var S=Se(Le.MPEntry.value,16*ze,W.a.getTypeSize("LONG"),Ye);Je[ze].ImageFlags=Be(S),Je[ze].ImageFormat=je(S),Je[ze].ImageType=P(S);var R=Se(Le.MPEntry.value,16*ze+4,W.a.getTypeSize("LONG"),Ye);Je[ze].ImageSize={value:R,description:""+R};var B=ne(ze)?0:Se(Le.MPEntry.value,16*ze+8,W.a.getTypeSize("LONG"),Ye)+De;Je[ze].ImageOffset={value:B,description:""+B};var ge=Se(Le.MPEntry.value,16*ze+12,W.a.getTypeSize("SHORT"),Ye);Je[ze].DependentImage1EntryNumber={value:ge,description:""+ge};var fe=Se(Le.MPEntry.value,16*ze+14,W.a.getTypeSize("SHORT"),Ye);Je[ze].DependentImage2EntryNumber={value:fe,description:""+fe},Je[ze].image=Me.buffer.slice(B,B+R),Object(Q.a)(Je[ze],"base64",function(){return Object(Q.b)(this.image)})}return Le.Images=Je,Le}(b,G,K(b,"mpf",G,ke(b,G,X),X),X)}}},function(Xe,be,x){"use strict";var c=x(3),Q={iptc:{256:{name:"Model Version",description:function(J){return((J[0]<<8)+J[1]).toString()}},261:{name:"Destination",repeatable:!0},276:{name:"File Format",description:function(J){return((J[0]<<8)+J[1]).toString()}},278:{name:"File Format Version",description:function(J){return((J[0]<<8)+J[1]).toString()}},286:"Service Identifier",296:"Envelope Number",306:"Product ID",316:"Envelope Priority",326:{name:"Date Sent",description:V},336:{name:"Time Sent",description:W},346:{name:"Coded Character Set",description:ie,encoding_name:ie},356:"UNO",376:{name:"ARM Identifier",description:function(J){return((J[0]<<8)+J[1]).toString()}},378:{name:"ARM Version",description:function(J){return((J[0]<<8)+J[1]).toString()}},512:{name:"Record Version",description:function(J){return((J[0]<<8)+J[1]).toString()}},515:"Object Type Reference",516:"Object Attribute Reference",517:"Object Name",519:"Edit Status",520:{name:"Editorial Update",description:function(J){return"01"===Object(c.c)(J)?"Additional Language":"Unknown"}},522:"Urgency",524:{name:"Subject Reference",repeatable:!0,description:function(J){var q=Object(c.c)(J).split(":");return q[2]+(q[3]?"/"+q[3]:"")+(q[4]?"/"+q[4]:"")}},527:"Category",532:{name:"Supplemental Category",repeatable:!0},534:"Fixture Identifier",537:{name:"Keywords",repeatable:!0},538:{name:"Content Location Code",repeatable:!0},539:{name:"Content Location Name",repeatable:!0},542:"Release Date",547:"Release Time",549:"Expiration Date",550:"Expiration Time",552:"Special Instructions",554:{name:"Action Advised",description:function(J){var q=Object(c.c)(J);return"01"===q?"Object Kill":"02"===q?"Object Replace":"03"===q?"Object Append":"04"===q?"Object Reference":"Unknown"}},557:{name:"Reference Service",repeatable:!0},559:{name:"Reference Date",repeatable:!0},562:{name:"Reference Number",repeatable:!0},567:{name:"Date Created",description:V},572:{name:"Time Created",description:W},574:{name:"Digital Creation Date",description:V},575:{name:"Digital Creation Time",description:W},577:"Originating Program",582:"Program Version",587:{name:"Object Cycle",description:function(J){var q=Object(c.c)(J);return"a"===q?"morning":"p"===q?"evening":"b"===q?"both":"Unknown"}},592:{name:"By-line",repeatable:!0},597:{name:"By-line Title",repeatable:!0},602:"City",604:"Sub-location",607:"Province/State",612:"Country/Primary Location Code",613:"Country/Primary Location Name",615:"Original Transmission Reference",617:"Headline",622:"Credit",627:"Source",628:"Copyright Notice",630:{name:"Contact",repeatable:!0},632:"Caption/Abstract",634:{name:"Writer/Editor",repeatable:!0},637:{name:"Rasterized Caption",description:function(J){return J}},642:"Image Type",643:{name:"Image Orientation",description:function(J){var q=Object(c.c)(J);return"P"===q?"Portrait":"L"===q?"Landscape":"S"===q?"Square":"Unknown"}},647:"Language Identifier",662:{name:"Audio Type",description:function(J){var q=Object(c.c)(J),ae=q.charAt(0),_e=q.charAt(1),ke="";return"1"===ae?ke+="Mono":"2"===ae&&(ke+="Stereo"),"A"===_e?ke+=", actuality":"C"===_e?ke+=", question and answer session":"M"===_e?ke+=", music, transmitted by itself":"Q"===_e?ke+=", response to a question":"R"===_e?ke+=", raw sound":"S"===_e?ke+=", scener":"V"===_e?ke+=", voicer":"W"===_e&&(ke+=", wrap"),""!==ke?ke:q}},663:{name:"Audio Sampling Rate",description:function(J){return parseInt(Object(c.c)(J),10)+" Hz"}},664:{name:"Audio Sampling Resolution",description:function(J){var q=parseInt(Object(c.c)(J),10);return q+(1===q?" bit":" bits")}},665:{name:"Audio Duration",description:function(J){var q=Object(c.c)(J);return q.length>=6?q.substr(0,2)+":"+q.substr(2,2)+":"+q.substr(4,2):q}},666:"Audio Outcue",698:"Short Document ID",699:"Unique Document ID",700:"Owner ID",712:{name:function(J){return 2===J.length?"ObjectData Preview File Format":"Record 2 destination"},description:function(J){if(2===J.length){var q=(J[0]<<8)+J[1];return 0===q?"No ObjectData":1===q?"IPTC-NAA Digital Newsphoto Parameter Record":2===q?"IPTC7901 Recommended Message Format":3===q?"Tagged Image File Format (Adobe/Aldus Image data)":4===q?"Illustrator (Adobe Graphics data)":5===q?"AppleSingle (Apple Computer Inc)":6===q?"NAA 89-3 (ANPA 1312)":7===q?"MacBinary II":8===q?"IPTC Unstructured Character Oriented File Format (UCOFF)":9===q?"United Press International ANPA 1312 variant":10===q?"United Press International Down-Load Message":11===q?"JPEG File Interchange (JFIF)":12===q?"Photo-CD Image-Pac (Eastman Kodak)":13===q?"Microsoft Bit Mapped Graphics File [*.BMP]":14===q?"Digital Audio File [*.WAV] (Microsoft & Creative Labs)":15===q?"Audio plus Moving Video [*.AVI] (Microsoft)":16===q?"PC DOS/Windows Executable Files [*.COM][*.EXE]":17===q?"Compressed Binary File [*.ZIP] (PKWare Inc)":18===q?"Audio Interchange File Format AIFF (Apple Computer Inc)":19===q?"RIFF Wave (Microsoft Corporation)":20===q?"Freehand (Macromedia/Aldus)":21===q?'Hypertext Markup Language "HTML" (The Internet Society)':22===q?"MPEG 2 Audio Layer 2 (Musicom), ISO/IEC":23===q?"MPEG 2 Audio Layer 3, ISO/IEC":24===q?"Portable Document File (*.PDF) Adobe":25===q?"News Industry Text Format (NITF)":26===q?"Tape Archive (*.TAR)":27===q?"Tidningarnas Telegrambyr\xe5 NITF version (TTNITF DTD)":28===q?"Ritzaus Bureau NITF version (RBNITF DTD)":29===q?"Corel Draw [*.CDR]":"Unknown format ".concat(q)}return Object(c.c)(J)}},713:{name:"ObjectData Preview File Format Version",description:function(J,q){var ae={"00":{"00":"1"},"01":{"01":"1","02":"2","03":"3","04":"4"},"02":{"04":"4"},"03":{"01":"5.0","02":"6.0"},"04":{"01":"1.40"},"05":{"01":"2"},"06":{"01":"1"},11:{"01":"1.02"},20:{"01":"3.1","02":"4.0","03":"5.0","04":"5.5"},21:{"02":"2.0"}},_e=Object(c.c)(J);if(q["ObjectData Preview File Format"]){var ke=Object(c.c)(q["ObjectData Preview File Format"].value);if(ae[ke]&&ae[ke][_e])return ae[ke][_e]}return _e}},714:"ObjectData Preview Data",1802:{name:"Size Mode",description:function(J){return J[0].toString()}},1812:{name:"Max Subfile Size",description:function(J){for(var q=0,ae=0;ae<J.length;ae++)q=(q<<8)+J[ae];return q.toString()}},1882:{name:"ObjectData Size Announced",description:function(J){for(var q=0,ae=0;ae<J.length;ae++)q=(q<<8)+J[ae];return q.toString()}},1887:{name:"Maximum ObjectData Size",description:function(J){for(var q=0,ae=0;ae<J.length;ae++)q=(q<<8)+J[ae];return q.toString()}}}};function V(J){var q=Object(c.c)(J);return q.length>=8?q.substr(0,4)+"-"+q.substr(4,2)+"-"+q.substr(6,2):q}function W(J){var q=Object(c.c)(J),ae=q;return q.length>=6&&(ae=q.substr(0,2)+":"+q.substr(2,2)+":"+q.substr(4,2),11===q.length&&(ae+=q.substr(6,1)+q.substr(7,2)+":"+q.substr(9,2))),ae}function ie(J){var q=Object(c.c)(J);return"\x1b%G"===q?"UTF-8":"\x1b%5"===q?"Windows-1252":"\x1b%/G"===q?"UTF-8 Level 1":"\x1b%/H"===q?"UTF-8 Level 2":"\x1b%/I"===q?"UTF-8 Level 3":"\x1b/A"===q?"ISO-8859-1":"\x1b/B"===q?"ISO-8859-2":"\x1b/C"===q?"ISO-8859-3":"\x1b/D"===q?"ISO-8859-4":"\x1b/@"===q?"ISO-8859-5":"\x1b/G"===q?"ISO-8859-6":"\x1b/F"===q?"ISO-8859-7":"\x1b/H"===q?"ISO-8859-8":"Unknown"}var j_decode=function(J,q){var ae=function(){if(typeof TextDecoder<"u")return TextDecoder}();if(void 0!==ae&&void 0!==J)try{return new ae(J).decode(Uint8Array.from(q))}catch{}return function(_e){try{return decodeURIComponent(escape(_e))}catch{return _e}}(q.map(function(_e){return String.fromCharCode(_e)}).join(""))};function Y(J,q){if(943868237!==J.getUint32(q,!1))throw new Error("Not an IPTC resource block.");return{type:J.getUint16(q+4),size:J.getUint16(q+10)}}function $(J){return 1028===J.type}function O(J){return J.size%2!=0?1:0}function U(J,q,ae){for(var _e={},ke=void 0,Ge=ae+q.size;ae<Ge&&ae<J.byteLength;){var xe=ee(J,ae,_e,ke),we=xe.tag,Se=xe.tagSize;if(null===we)break;"encoding"in we&&(ke=we.encoding),void 0===_e[we.name]||void 0===we.repeatable?_e[we.name]={id:we.id,value:we.value,description:we.description}:(_e[we.name]instanceof Array||(_e[we.name]=[{id:_e[we.name].id,value:_e[we.name].value,description:_e[we.name].description}]),_e[we.name].push({id:we.id,value:we.value,description:we.description})),ae+=5+Se}return _e}function ee(J,q,ae,_e){if(28!==J.getUint8(q))return{tag:null,tagSize:0};var Se,ke=J.getUint16(q+1),Ge=J.getUint16(q+3),xe=function(Se,Be,je){for(var P=[],ne=0;ne<je;ne++)P.push(Se.getUint8(Be+ne));return P}(J,q+5,Ge),we={id:ke,name:Ae(Q.iptc[ke],ke,xe),value:xe,description:Re(Q.iptc[ke],xe,ae,_e)};return Q.iptc[Se=ke]&&Q.iptc[Se].repeatable&&(we.repeatable=!0),function(Se){return Q.iptc[Se]&&void 0!==Q.iptc[Se].encoding_name}(ke)&&(we.encoding=Q.iptc[ke].encoding_name(xe)),{tag:we,tagSize:Ge}}function Ae(J,q,ae){return J?"string"==typeof J?J:"function"==typeof J.name?J.name(ae):J.name:"undefined-".concat(q)}function Re(J,q,ae,_e){if((ke=J)&&void 0!==ke.description)try{return J.description(q,ae)}catch{}var ke;return function(ke,Ge){return ke&&Ge instanceof Array}(J,q)?j_decode(_e,q):q}be.a={read:function(J,q){try{if(Array.isArray(J))return U(new DataView(Uint8Array.from(J).buffer),{size:J.length},0);var ae=function(Ge,xe){for(;xe+12<=Ge.byteLength;){var we=Y(Ge,xe);if($(we))return{naaBlock:we,dataOffset:xe+12};xe+=12+we.size+O(we)}throw new Error("No IPTC NAA resource block.")}(J,q);return U(J,ae.naaBlock,ae.dataOffset)}catch{return{}}}}},function(Xe,be,x){"use strict";var c=x(0);function V(b,G){(null==G||G>b.length)&&(G=b.length);for(var X=0,ye=new Array(G);X<G;X++)ye[X]=b[X];return ye}var W={"tiff:Orientation":function(b){return"1"===b?"Horizontal (normal)":"2"===b?"Mirror horizontal":"3"===b?"Rotate 180":"4"===b?"Mirror vertical":"5"===b?"Mirror horizontal and rotate 270 CW":"6"===b?"Rotate 90 CW":"7"===b?"Mirror horizontal and rotate 90 CW":"8"===b?"Rotate 270 CW":b},"exif:GPSLatitude":ie,"exif:GPSLongitude":ie};function ie(b){var G=function Q(b,G){return function(X){if(Array.isArray(X))return X}(b)||function(X,ye){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(X)){var Me=[],De=!0,Le=!1,Ye=void 0;try{for(var Je,ze=X[Symbol.iterator]();!(De=(Je=ze.next()).done)&&(Me.push(Je.value),!ye||Me.length!==ye);De=!0);}catch(S){Le=!0,Ye=S}finally{try{De||null==ze.return||ze.return()}finally{if(Le)throw Ye}}return Me}}(b,G)||function(X,ye){if(X){if("string"==typeof X)return V(X,ye);var Me=Object.prototype.toString.call(X).slice(8,-1);if("Object"===Me&&X.constructor&&(Me=X.constructor.name),"Map"===Me||"Set"===Me)return Array.from(X);if("Arguments"===Me||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Me))return V(X,ye)}}(b,G)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(b.split(","),2),X=G[0],ye=G[1];if(void 0!==X&&void 0!==ye){var Me=parseFloat(X),De=parseFloat(ye),Le=ye.charAt(ye.length-1);if(!Number.isNaN(Me)&&!Number.isNaN(De))return""+(Me+De/60)+Le}return b}var he=x(14);function j(b){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(b)}function Y(b,G){for(var X=G.reduce(function(Je,ze){return Je+ze.length},0),ye=new Uint8Array(X),Me=0,De=0;De<G.length;De++){var Le=G[De],Ye=b.buffer.slice(Le.dataOffset,Le.dataOffset+Le.length);ye.set(new Uint8Array(Ye),Me),Me+=Le.length}return new DataView(ye.buffer)}function $(b,G){try{var X=function ye(Me){for(var De=0;De<Me.childNodes.length;De++){if("x:xmpmeta"===Me.childNodes[De].tagName)return ye(Me.childNodes[De]);if("rdf:RDF"===Me.childNodes[De].tagName)return Me.childNodes[De]}throw new Error}(function(ye){var Me=he.a.get();if(!Me)throw console.warn("Warning: DOMParser is not available. It is needed to be able to parse XMP tags."),new Error;var De=new Me,Le="string"==typeof ye?ye:Object(c.c)(ye,0,ye.byteLength),Ye=De.parseFromString(Le.replace(/^.+(<\?xpacket begin)/,"$1").replace(/(<\?xpacket end=".*"\?>).+$/,"$1"),"application/xml");if("parsererror"===Ye.documentElement.nodeName)throw new Error(Ye.documentElement.textContent);return Ye}(G));return Object(c.f)(b,q(O(X,!0)))}catch{return b}}function O(b){var G=arguments.length>1&&void 0!==arguments[1]&&arguments[1],X=U(b);return ee(X)?G?{}:Ae(X[0]):Re(X)}function U(b){for(var G=[],X=0;X<b.childNodes.length;X++)G.push(b.childNodes[X]);return G}function ee(b){return 1===b.length&&"#text"===b[0].nodeName}function Ae(b){return b.nodeValue}function Re(b){var G={};return b.forEach(function(X){if((Me=X).nodeName&&"#text"!==Me.nodeName){var ye=function(Me){return{attributes:J(Me),value:O(Me)}}(X);void 0!==G[X.nodeName]?(Array.isArray(G[X.nodeName])||(G[X.nodeName]=[G[X.nodeName]]),G[X.nodeName].push(ye)):G[X.nodeName]=ye}var Me}),G}function J(b){for(var G={},X=0;X<b.attributes.length;X++)G[b.attributes[X].nodeName]=decodeURIComponent(escape(b.attributes[X].value));return G}function q(b){var G={};if("string"==typeof b)return b;for(var X in b){var ye=b[X];Array.isArray(ye)||(ye=[ye]),ye.forEach(function(Me){Object(c.f)(G,ae(Me.attributes)),"object"===j(Me.value)&&Object(c.f)(G,je(Me.value))})}return G}function ae(b){var G={};for(var X in b)_e(X)&&(G[Ge(X)]={value:b[X],attributes:{},description:xe(b[X],X)});return G}function _e(b){return"rdf:parseType"!==b&&!ke(b)}function ke(b){return"xmlns"===b.split(":")[0]}function Ge(b){return b.split(":")[1]}function xe(b){var G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(Array.isArray(b))return we(b);if("object"===j(b))return Se(b);try{return G&&"function"==typeof W[G]?W[G](b):decodeURIComponent(escape(b))}catch{return b}}function we(b){return b.map(function(G){return xe(void 0!==G.value?G.value:G)}).join(", ")}function Se(b){var G=[];for(var X in b)G.push("".concat(Be(X),": ").concat(b[X].value));return G.join("; ")}function Be(b){return"CiAdrCity"===b?"CreatorCity":"CiAdrCtry"===b?"CreatorCountry":"CiAdrExtadr"===b?"CreatorAddress":"CiAdrPcode"===b?"CreatorPostalCode":"CiAdrRegion"===b?"CreatorRegion":"CiEmailWork"===b?"CreatorWorkEmail":"CiTelWork"===b?"CreatorWorkPhone":"CiUrlWork"===b?"CreatorWorkUrl":b}function je(b){var G={};for(var X in b)ke(X)||(G[Ge(X)]=P(b[X],X));return G}function P(b,G){return ne(b)?K(b,G):"Resource"===(X=b).attributes["rdf:parseType"]||void 0!==X.value["rdf:Description"]&&void 0===X.value["rdf:Description"].value["rdf:value"]?function(X,ye){var Me={value:{},attributes:{}};return void 0!==X.value["rdf:Description"]&&(Object(c.f)(Me.value,ae(X.value["rdf:Description"].attributes)),Object(c.f)(Me.attributes,se(X)),X=X.value["rdf:Description"]),Object(c.f)(Me.value,je(X.value)),Me.description=xe(Me.value,ye),Me}(b,G):function(X){return 0===Object.keys(X.value).length&&void 0===X.attributes["rdf:resource"]}(b)?function(X,ye){var Me=ae(X.attributes);return{value:Me,attributes:{},description:xe(Me,ye)}}(b,G):function(X){return void 0!==re(X.value)}(b)?function(X,ye){var Me=re(X.value).value["rdf:li"],De=se(X),Le=[];return void 0===Me?Me=[]:Array.isArray(Me)||(Me=[Me]),Me.forEach(function(Ye){var Je;Le.push(ne(Je=Ye)?K(Je):"Resource"===Je.attributes["rdf:parseType"]?je(Je.value):{value:Je.value,attributes:se(Je),description:xe(Je.value)})}),{value:Le,attributes:De,description:xe(Le,ye)}}(b,G):function(X,ye){var Me=Ie(X)||q(X.value);return{value:Me,attributes:se(X),description:xe(Me,ye)}}(b,G);var X}function ne(b){return"Resource"===b.attributes["rdf:parseType"]&&void 0!==b.value["rdf:value"]||void 0!==b.value["rdf:Description"]&&void 0!==b.value["rdf:Description"].value["rdf:value"]}function K(b,G){var X=se(b);void 0!==b.value["rdf:Description"]&&(b=b.value["rdf:Description"]),Object(c.f)(X,se(b),function(Me){var De={};for(var Le in Me.value)"rdf:value"===Le||ke(Le)||(De[Ge(Le)]=Me.value[Le].value);return De}(b));var Me,ye=Ie((Me=b).value["rdf:value"])||Me.value["rdf:value"].value;return{value:ye,attributes:X,description:xe(ye,G)}}function se(b){var G={};for(var X in b.attributes)"rdf:parseType"===X||"rdf:resource"===X||ke(X)||(G[Ge(X)]=b.attributes[X]);return G}function re(b){return b["rdf:Bag"]||b["rdf:Seq"]||b["rdf:Alt"]}function Ie(b){return b.attributes&&b.attributes["rdf:resource"]}be.a={read:function(b,G){return"string"==typeof b?$({},b):function(X,ye){if(0===ye.length)return[];var Me=[Y(X,ye.slice(0,1))];return ye.length>1&&Me.push(Y(X,ye.slice(1))),Me}(b,G).reduce($,{})}}},function(Xe,be,x){"use strict";var c=x(0),Q={desc:{name:"ICC Description"},cprt:{name:"ICC Copyright"},dmdd:{name:"ICC Device Model Description"},vued:{name:"ICC Viewing Conditions Description"},dmnd:{name:"ICC Device Manufacturer for Display"},tech:{name:"Technology"}},V={4:{name:"Preferred CMM type",value:function(Y,$){return Object(c.c)(Y,$,4)},description:function(Y){return null!==Y?W(Y):""}},8:{name:"Profile Version",value:function(Y,$){return Y.getUint8($).toString(10)+"."+(Y.getUint8($+1)>>4).toString(10)+"."+(Y.getUint8($+1)%16).toString(10)}},12:{name:"Profile/Device class",value:function(Y,$){return Object(c.c)(Y,$,4)},description:function(Y){switch(Y.toLowerCase()){case"scnr":return"Input Device profile";case"mntr":return"Display Device profile";case"prtr":return"Output Device profile";case"link":return"DeviceLink profile";case"abst":return"Abstract profile";case"spac":return"ColorSpace profile";case"nmcl":return"NamedColor profile";case"cenc":return"ColorEncodingSpace profile";case"mid ":return"MultiplexIdentification profile";case"mlnk":return"MultiplexLink profile";case"mvis":return"MultiplexVisualization profile";default:return Y}}},16:{name:"Color Space",value:function(Y,$){return Object(c.c)(Y,$,4)}},20:{name:"Connection Space",value:function(Y,$){return Object(c.c)(Y,$,4)}},24:{name:"ICC Profile Date",value:function(Y,$){return(O=Y,U=$,ee=O.getUint16(U),Ae=O.getUint16(U+2)-1,Re=O.getUint16(U+4),J=O.getUint16(U+6),q=O.getUint16(U+8),ae=O.getUint16(U+10),new Date(Date.UTC(ee,Ae,Re,J,q,ae))).toISOString();var O,U,ee,Ae,Re,J,q,ae}},36:{name:"ICC Signature",value:function(Y,$){return O=Y.buffer.slice($,$+4),String.fromCharCode.apply(null,new Uint8Array(O));var O}},40:{name:"Primary Platform",value:function(Y,$){return Object(c.c)(Y,$,4)},description:function(Y){return W(Y)}},48:{name:"Device Manufacturer",value:function(Y,$){return Object(c.c)(Y,$,4)},description:function(Y){return W(Y)}},52:{name:"Device Model Number",value:function(Y,$){return Object(c.c)(Y,$,4)}},64:{name:"Rendering Intent",value:function(Y,$){return Y.getUint32($)},description:function(Y){switch(Y){case 0:return"Perceptual";case 1:return"Relative Colorimetric";case 2:return"Saturation";case 3:return"Absolute Colorimetric";default:return Y}}},80:{name:"Profile Creator",value:function(Y,$){return Object(c.c)(Y,$,4)}}};function W(Y){switch(Y.toLowerCase()){case"appl":return"Apple";case"adbe":return"Adobe";case"msft":return"Microsoft";case"sunw":return"Sun Microsystems";case"sgi":return"Silicon Graphics";case"tgnt":return"Taligent";default:return Y}}function ie(Y,$){return Y.length<$+12}function he(Y){return String.fromCharCode.apply(null,new Uint8Array(Y))}function j(Y,$,O){Q[$]?Y[Q[$].name]={value:O,description:O}:Y[$]={value:O,description:O}}be.a={read:function(Y,$){try{for(var O=$.reduce(function(q,ae){return q+ae.length},0),U=new Uint8Array(O),ee=0,Ae=(q=Y,Array.isArray(q)?new DataView(Uint8Array.from(q).buffer).buffer:q.buffer),Re=function(q){var ae=$.find(function(Ge){return Ge.chunkNumber===q});if(!ae)throw new Error("ICC chunk ".concat(q," not found"));var _e=Ae.slice(ae.offset,ae.offset+ae.length),ke=new Uint8Array(_e);U.set(ke,ee),ee+=ke.length},J=1;J<=$.length;J++)Re(J);return function(q){var ae=q.buffer,_e=q.getUint32();if(q.byteLength!==_e)throw new Error("ICC profile length not matching");if(q.length<84)throw new Error("ICC profile too short");for(var ke={},Ge=Object.keys(V),xe=0;xe<Ge.length;xe++){var we=Ge[xe],Se=V[we],Be=Se.value(q,parseInt(we,10)),je=Be;Se.description&&(je=Se.description(Be)),ke[Se.name]={value:Be,description:je}}if("acsp"!==he(ae.slice(36,40)))throw new Error("ICC profile: missing signature");if(ae.length<132)return ke;for(var P=q.getUint32(128),ne=132,K=0;K<P;K++){if(ie(ae,ne))return ke;var se=Object(c.c)(q,ne,4),re=q.getUint32(ne+4),Ie=q.getUint32(ne+8);if(re>ae.length)return ke;var b=Object(c.c)(q,re,4);if("desc"===b){var G=q.getUint32(re+8);if(G>Ie)return ke;j(ke,se,he(ae.slice(re+12,re+G+11)))}else if("mluc"===b){for(var ye=q.getUint32(re+8),Me=q.getUint32(re+12),De=re+16,Le=[],Ye=0;Ye<ye;Ye++){var Je=Object(c.c)(q,De+0,2),ze=Object(c.c)(q,De+2,2),S=q.getUint32(De+4),R=q.getUint32(De+8),B=Object(c.e)(q,re+R,S);Le.push({languageCode:Je,countryCode:ze,text:B}),De+=Me}if(1===ye)j(ke,se,Le[0].text);else{for(var ge={},fe=0;fe<Le.length;fe++)ge["".concat(Le[fe].languageCode,"-").concat(Le[fe].countryCode)]=Le[fe].text;j(ke,se,ge)}}else"text"===b?j(ke,se,he(ae.slice(re+8,re+Ie-7))):"sig "===b&&j(ke,se,he(ae.slice(re+8,re+12)));ne+=12}return ke}(new DataView(U.buffer))}catch{return{}}var q}}},function(Xe,be,x){"use strict";(function(c){var Q=x(19),V=x(20),W=x(21);function ie(){return j.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function he(S,R){if(ie()<R)throw new RangeError("Invalid typed array length");return j.TYPED_ARRAY_SUPPORT?(S=new Uint8Array(R)).__proto__=j.prototype:(null===S&&(S=new j(R)),S.length=R),S}function j(S,R,B){if(!(j.TYPED_ARRAY_SUPPORT||this instanceof j))return new j(S,R,B);if("number"==typeof S){if("string"==typeof R)throw new Error("If encoding is specified then the first argument must be a string");return O(this,S)}return Y(this,S,R,B)}function Y(S,R,B,ge){if("number"==typeof R)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&R instanceof ArrayBuffer?function(fe,Ee,Ke,dt){if(Ke<0||Ee.byteLength<Ke)throw new RangeError("'offset' is out of bounds");if(Ee.byteLength<Ke+(dt||0))throw new RangeError("'length' is out of bounds");return Ee=void 0===Ke&&void 0===dt?new Uint8Array(Ee):void 0===dt?new Uint8Array(Ee,Ke):new Uint8Array(Ee,Ke,dt),j.TYPED_ARRAY_SUPPORT?(fe=Ee).__proto__=j.prototype:fe=U(fe,Ee),fe}(S,R,B,ge):"string"==typeof R?function(fe,Ee,Ke){if("string"==typeof Ke&&""!==Ke||(Ke="utf8"),!j.isEncoding(Ke))throw new TypeError('"encoding" must be a valid string encoding');var dt=0|Ae(Ee,Ke),Vt=(fe=he(fe,dt)).write(Ee,Ke);return Vt!==dt&&(fe=fe.slice(0,Vt)),fe}(S,R,B):function(fe,Ee){if(j.isBuffer(Ee)){var Ke=0|ee(Ee.length);return 0===(fe=he(fe,Ke)).length||Ee.copy(fe,0,0,Ke),fe}if(Ee){if(typeof ArrayBuffer<"u"&&Ee.buffer instanceof ArrayBuffer||"length"in Ee)return"number"!=typeof Ee.length||(dt=Ee.length)!=dt?he(fe,0):U(fe,Ee);if("Buffer"===Ee.type&&W(Ee.data))return U(fe,Ee.data)}var dt;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(S,R)}function $(S){if("number"!=typeof S)throw new TypeError('"size" argument must be a number');if(S<0)throw new RangeError('"size" argument must not be negative')}function O(S,R){if($(R),S=he(S,R<0?0:0|ee(R)),!j.TYPED_ARRAY_SUPPORT)for(var B=0;B<R;++B)S[B]=0;return S}function U(S,R){var B=R.length<0?0:0|ee(R.length);S=he(S,B);for(var ge=0;ge<B;ge+=1)S[ge]=255&R[ge];return S}function ee(S){if(S>=ie())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ie().toString(16)+" bytes");return 0|S}function Ae(S,R){if(j.isBuffer(S))return S.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(S)||S instanceof ArrayBuffer))return S.byteLength;"string"!=typeof S&&(S=""+S);var B=S.length;if(0===B)return 0;for(var ge=!1;;)switch(R){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":case void 0:return Ye(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*B;case"hex":return B>>>1;case"base64":return Je(S).length;default:if(ge)return Ye(S).length;R=(""+R).toLowerCase(),ge=!0}}function Re(S,R,B){var ge=!1;if((void 0===R||R<0)&&(R=0),R>this.length||((void 0===B||B>this.length)&&(B=this.length),B<=0)||(B>>>=0)<=(R>>>=0))return"";for(S||(S="utf8");;)switch(S){case"hex":return K(this,R,B);case"utf8":case"utf-8":return je(this,R,B);case"ascii":return P(this,R,B);case"latin1":case"binary":return ne(this,R,B);case"base64":return Be(this,R,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,R,B);default:if(ge)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),ge=!0}}function J(S,R,B){var ge=S[R];S[R]=S[B],S[B]=ge}function q(S,R,B,ge,fe){if(0===S.length)return-1;if("string"==typeof B?(ge=B,B=0):B>2147483647?B=2147483647:B<-2147483648&&(B=-2147483648),B=+B,isNaN(B)&&(B=fe?0:S.length-1),B<0&&(B=S.length+B),B>=S.length){if(fe)return-1;B=S.length-1}else if(B<0){if(!fe)return-1;B=0}if("string"==typeof R&&(R=j.from(R,ge)),j.isBuffer(R))return 0===R.length?-1:ae(S,R,B,ge,fe);if("number"==typeof R)return R&=255,j.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?fe?Uint8Array.prototype.indexOf.call(S,R,B):Uint8Array.prototype.lastIndexOf.call(S,R,B):ae(S,[R],B,ge,fe);throw new TypeError("val must be string, number or Buffer")}function ae(S,R,B,ge,fe){var Ee,Ke=1,dt=S.length,Vt=R.length;if(void 0!==ge&&("ucs2"===(ge=String(ge).toLowerCase())||"ucs-2"===ge||"utf16le"===ge||"utf-16le"===ge)){if(S.length<2||R.length<2)return-1;Ke=2,dt/=2,Vt/=2,B/=2}function Ht(rn,nn){return 1===Ke?rn[nn]:rn.readUInt16BE(nn*Ke)}if(fe){var Rt=-1;for(Ee=B;Ee<dt;Ee++)if(Ht(S,Ee)===Ht(R,-1===Rt?0:Ee-Rt)){if(-1===Rt&&(Rt=Ee),Ee-Rt+1===Vt)return Rt*Ke}else-1!==Rt&&(Ee-=Ee-Rt),Rt=-1}else for(B+Vt>dt&&(B=dt-Vt),Ee=B;Ee>=0;Ee--){for(var ut=!0,Cn=0;Cn<Vt;Cn++)if(Ht(S,Ee+Cn)!==Ht(R,Cn)){ut=!1;break}if(ut)return Ee}return-1}function _e(S,R,B,ge){B=Number(B)||0;var fe=S.length-B;ge?(ge=Number(ge))>fe&&(ge=fe):ge=fe;var Ee=R.length;if(Ee%2!=0)throw new TypeError("Invalid hex string");ge>Ee/2&&(ge=Ee/2);for(var Ke=0;Ke<ge;++Ke){var dt=parseInt(R.substr(2*Ke,2),16);if(isNaN(dt))return Ke;S[B+Ke]=dt}return Ke}function ke(S,R,B,ge){return ze(Ye(R,S.length-B),S,B,ge)}function Ge(S,R,B,ge){return ze(function(fe){for(var Ee=[],Ke=0;Ke<fe.length;++Ke)Ee.push(255&fe.charCodeAt(Ke));return Ee}(R),S,B,ge)}function xe(S,R,B,ge){return Ge(S,R,B,ge)}function we(S,R,B,ge){return ze(Je(R),S,B,ge)}function Se(S,R,B,ge){return ze(function(fe,Ee){for(var Ke,dt,Ht=[],Rt=0;Rt<fe.length&&!((Ee-=2)<0);++Rt)dt=(Ke=fe.charCodeAt(Rt))>>8,Ht.push(Ke%256),Ht.push(dt);return Ht}(R,S.length-B),S,B,ge)}function Be(S,R,B){return Q.fromByteArray(0===R&&B===S.length?S:S.slice(R,B))}function je(S,R,B){B=Math.min(S.length,B);for(var ge=[],fe=R;fe<B;){var Ee,Ke,dt,Vt,Ht=S[fe],Rt=null,ut=Ht>239?4:Ht>223?3:Ht>191?2:1;if(fe+ut<=B)switch(ut){case 1:Ht<128&&(Rt=Ht);break;case 2:128==(192&(Ee=S[fe+1]))&&(Vt=(31&Ht)<<6|63&Ee)>127&&(Rt=Vt);break;case 3:Ke=S[fe+2],128==(192&(Ee=S[fe+1]))&&128==(192&Ke)&&(Vt=(15&Ht)<<12|(63&Ee)<<6|63&Ke)>2047&&(Vt<55296||Vt>57343)&&(Rt=Vt);break;case 4:Ke=S[fe+2],dt=S[fe+3],128==(192&(Ee=S[fe+1]))&&128==(192&Ke)&&128==(192&dt)&&(Vt=(15&Ht)<<18|(63&Ee)<<12|(63&Ke)<<6|63&dt)>65535&&Vt<1114112&&(Rt=Vt)}null===Rt?(Rt=65533,ut=1):Rt>65535&&(ge.push((Rt-=65536)>>>10&1023|55296),Rt=56320|1023&Rt),ge.push(Rt),fe+=ut}return function(Cn){var rn=Cn.length;if(rn<=4096)return String.fromCharCode.apply(String,Cn);for(var nn="",Fr=0;Fr<rn;)nn+=String.fromCharCode.apply(String,Cn.slice(Fr,Fr+=4096));return nn}(ge)}function P(S,R,B){var ge="";B=Math.min(S.length,B);for(var fe=R;fe<B;++fe)ge+=String.fromCharCode(127&S[fe]);return ge}function ne(S,R,B){var ge="";B=Math.min(S.length,B);for(var fe=R;fe<B;++fe)ge+=String.fromCharCode(S[fe]);return ge}function K(S,R,B){var ge=S.length;(!R||R<0)&&(R=0),(!B||B<0||B>ge)&&(B=ge);for(var fe="",Ee=R;Ee<B;++Ee)fe+=Le(S[Ee]);return fe}function se(S,R,B){for(var ge=S.slice(R,B),fe="",Ee=0;Ee<ge.length;Ee+=2)fe+=String.fromCharCode(ge[Ee]+256*ge[Ee+1]);return fe}function re(S,R,B){if(S%1!=0||S<0)throw new RangeError("offset is not uint");if(S+R>B)throw new RangeError("Trying to access beyond buffer length")}function Ie(S,R,B,ge,fe,Ee){if(!j.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>fe||R<Ee)throw new RangeError('"value" argument is out of bounds');if(B+ge>S.length)throw new RangeError("Index out of range")}function b(S,R,B,ge){R<0&&(R=65535+R+1);for(var fe=0,Ee=Math.min(S.length-B,2);fe<Ee;++fe)S[B+fe]=(R&255<<8*(ge?fe:1-fe))>>>8*(ge?fe:1-fe)}function G(S,R,B,ge){R<0&&(R=4294967295+R+1);for(var fe=0,Ee=Math.min(S.length-B,4);fe<Ee;++fe)S[B+fe]=R>>>8*(ge?fe:3-fe)&255}function X(S,R,B,ge,fe,Ee){if(B+ge>S.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function ye(S,R,B,ge,fe){return fe||X(S,0,B,4),V.write(S,R,B,ge,23,4),B+4}function Me(S,R,B,ge,fe){return fe||X(S,0,B,8),V.write(S,R,B,ge,52,8),B+8}be.Buffer=j,be.SlowBuffer=function(S){return+S!=S&&(S=0),j.alloc(+S)},be.INSPECT_MAX_BYTES=50,j.TYPED_ARRAY_SUPPORT=void 0!==c.TYPED_ARRAY_SUPPORT?c.TYPED_ARRAY_SUPPORT:function(){try{var S=new Uint8Array(1);return S.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===S.foo()&&"function"==typeof S.subarray&&0===S.subarray(1,1).byteLength}catch{return!1}}(),be.kMaxLength=ie(),j.poolSize=8192,j._augment=function(S){return S.__proto__=j.prototype,S},j.from=function(S,R,B){return Y(null,S,R,B)},j.TYPED_ARRAY_SUPPORT&&(j.prototype.__proto__=Uint8Array.prototype,j.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&j[Symbol.species]===j&&Object.defineProperty(j,Symbol.species,{value:null,configurable:!0})),j.alloc=function(S,R,B){return Ee=R,Ke=B,$(fe=S),fe<=0?he(null,fe):void 0!==Ee?"string"==typeof Ke?he(null,fe).fill(Ee,Ke):he(null,fe).fill(Ee):he(null,fe);var fe,Ee,Ke},j.allocUnsafe=function(S){return O(null,S)},j.allocUnsafeSlow=function(S){return O(null,S)},j.isBuffer=function(S){return!(null==S||!S._isBuffer)},j.compare=function(S,R){if(!j.isBuffer(S)||!j.isBuffer(R))throw new TypeError("Arguments must be Buffers");if(S===R)return 0;for(var B=S.length,ge=R.length,fe=0,Ee=Math.min(B,ge);fe<Ee;++fe)if(S[fe]!==R[fe]){B=S[fe],ge=R[fe];break}return B<ge?-1:ge<B?1:0},j.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},j.concat=function(S,R){if(!W(S))throw new TypeError('"list" argument must be an Array of Buffers');if(0===S.length)return j.alloc(0);var B;if(void 0===R)for(R=0,B=0;B<S.length;++B)R+=S[B].length;var ge=j.allocUnsafe(R),fe=0;for(B=0;B<S.length;++B){var Ee=S[B];if(!j.isBuffer(Ee))throw new TypeError('"list" argument must be an Array of Buffers');Ee.copy(ge,fe),fe+=Ee.length}return ge},j.byteLength=Ae,j.prototype._isBuffer=!0,j.prototype.swap16=function(){var S=this.length;if(S%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<S;R+=2)J(this,R,R+1);return this},j.prototype.swap32=function(){var S=this.length;if(S%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<S;R+=4)J(this,R,R+3),J(this,R+1,R+2);return this},j.prototype.swap64=function(){var S=this.length;if(S%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<S;R+=8)J(this,R,R+7),J(this,R+1,R+6),J(this,R+2,R+5),J(this,R+3,R+4);return this},j.prototype.toString=function(){var S=0|this.length;return 0===S?"":0===arguments.length?je(this,0,S):Re.apply(this,arguments)},j.prototype.equals=function(S){if(!j.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S||0===j.compare(this,S)},j.prototype.inspect=function(){var S="",R=be.INSPECT_MAX_BYTES;return this.length>0&&(S=this.toString("hex",0,R).match(/.{2}/g).join(" "),this.length>R&&(S+=" ... ")),"<Buffer "+S+">"},j.prototype.compare=function(S,R,B,ge,fe){if(!j.isBuffer(S))throw new TypeError("Argument must be a Buffer");if(void 0===R&&(R=0),void 0===B&&(B=S?S.length:0),void 0===ge&&(ge=0),void 0===fe&&(fe=this.length),R<0||B>S.length||ge<0||fe>this.length)throw new RangeError("out of range index");if(ge>=fe&&R>=B)return 0;if(ge>=fe)return-1;if(R>=B)return 1;if(this===S)return 0;for(var Ee=(fe>>>=0)-(ge>>>=0),Ke=(B>>>=0)-(R>>>=0),dt=Math.min(Ee,Ke),Vt=this.slice(ge,fe),Ht=S.slice(R,B),Rt=0;Rt<dt;++Rt)if(Vt[Rt]!==Ht[Rt]){Ee=Vt[Rt],Ke=Ht[Rt];break}return Ee<Ke?-1:Ke<Ee?1:0},j.prototype.includes=function(S,R,B){return-1!==this.indexOf(S,R,B)},j.prototype.indexOf=function(S,R,B){return q(this,S,R,B,!0)},j.prototype.lastIndexOf=function(S,R,B){return q(this,S,R,B,!1)},j.prototype.write=function(S,R,B,ge){if(void 0===R)ge="utf8",B=this.length,R=0;else if(void 0===B&&"string"==typeof R)ge=R,B=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R|=0,isFinite(B)?(B|=0,void 0===ge&&(ge="utf8")):(ge=B,B=void 0)}var fe=this.length-R;if((void 0===B||B>fe)&&(B=fe),S.length>0&&(B<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");ge||(ge="utf8");for(var Ee=!1;;)switch(ge){case"hex":return _e(this,S,R,B);case"utf8":case"utf-8":return ke(this,S,R,B);case"ascii":return Ge(this,S,R,B);case"latin1":case"binary":return xe(this,S,R,B);case"base64":return we(this,S,R,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Se(this,S,R,B);default:if(Ee)throw new TypeError("Unknown encoding: "+ge);ge=(""+ge).toLowerCase(),Ee=!0}},j.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},j.prototype.slice=function(S,R){var B,ge=this.length;if((S=~~S)<0?(S+=ge)<0&&(S=0):S>ge&&(S=ge),(R=void 0===R?ge:~~R)<0?(R+=ge)<0&&(R=0):R>ge&&(R=ge),R<S&&(R=S),j.TYPED_ARRAY_SUPPORT)(B=this.subarray(S,R)).__proto__=j.prototype;else{var fe=R-S;B=new j(fe,void 0);for(var Ee=0;Ee<fe;++Ee)B[Ee]=this[Ee+S]}return B},j.prototype.readUIntLE=function(S,R,B){S|=0,R|=0,B||re(S,R,this.length);for(var ge=this[S],fe=1,Ee=0;++Ee<R&&(fe*=256);)ge+=this[S+Ee]*fe;return ge},j.prototype.readUIntBE=function(S,R,B){S|=0,R|=0,B||re(S,R,this.length);for(var ge=this[S+--R],fe=1;R>0&&(fe*=256);)ge+=this[S+--R]*fe;return ge},j.prototype.readUInt8=function(S,R){return R||re(S,1,this.length),this[S]},j.prototype.readUInt16LE=function(S,R){return R||re(S,2,this.length),this[S]|this[S+1]<<8},j.prototype.readUInt16BE=function(S,R){return R||re(S,2,this.length),this[S]<<8|this[S+1]},j.prototype.readUInt32LE=function(S,R){return R||re(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+16777216*this[S+3]},j.prototype.readUInt32BE=function(S,R){return R||re(S,4,this.length),16777216*this[S]+(this[S+1]<<16|this[S+2]<<8|this[S+3])},j.prototype.readIntLE=function(S,R,B){S|=0,R|=0,B||re(S,R,this.length);for(var ge=this[S],fe=1,Ee=0;++Ee<R&&(fe*=256);)ge+=this[S+Ee]*fe;return ge>=(fe*=128)&&(ge-=Math.pow(2,8*R)),ge},j.prototype.readIntBE=function(S,R,B){S|=0,R|=0,B||re(S,R,this.length);for(var ge=R,fe=1,Ee=this[S+--ge];ge>0&&(fe*=256);)Ee+=this[S+--ge]*fe;return Ee>=(fe*=128)&&(Ee-=Math.pow(2,8*R)),Ee},j.prototype.readInt8=function(S,R){return R||re(S,1,this.length),128&this[S]?-1*(255-this[S]+1):this[S]},j.prototype.readInt16LE=function(S,R){R||re(S,2,this.length);var B=this[S]|this[S+1]<<8;return 32768&B?4294901760|B:B},j.prototype.readInt16BE=function(S,R){R||re(S,2,this.length);var B=this[S+1]|this[S]<<8;return 32768&B?4294901760|B:B},j.prototype.readInt32LE=function(S,R){return R||re(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},j.prototype.readInt32BE=function(S,R){return R||re(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},j.prototype.readFloatLE=function(S,R){return R||re(S,4,this.length),V.read(this,S,!0,23,4)},j.prototype.readFloatBE=function(S,R){return R||re(S,4,this.length),V.read(this,S,!1,23,4)},j.prototype.readDoubleLE=function(S,R){return R||re(S,8,this.length),V.read(this,S,!0,52,8)},j.prototype.readDoubleBE=function(S,R){return R||re(S,8,this.length),V.read(this,S,!1,52,8)},j.prototype.writeUIntLE=function(S,R,B,ge){S=+S,R|=0,B|=0,ge||Ie(this,S,R,B,Math.pow(2,8*B)-1,0);var fe=1,Ee=0;for(this[R]=255&S;++Ee<B&&(fe*=256);)this[R+Ee]=S/fe&255;return R+B},j.prototype.writeUIntBE=function(S,R,B,ge){S=+S,R|=0,B|=0,ge||Ie(this,S,R,B,Math.pow(2,8*B)-1,0);var fe=B-1,Ee=1;for(this[R+fe]=255&S;--fe>=0&&(Ee*=256);)this[R+fe]=S/Ee&255;return R+B},j.prototype.writeUInt8=function(S,R,B){return S=+S,R|=0,B||Ie(this,S,R,1,255,0),j.TYPED_ARRAY_SUPPORT||(S=Math.floor(S)),this[R]=255&S,R+1},j.prototype.writeUInt16LE=function(S,R,B){return S=+S,R|=0,B||Ie(this,S,R,2,65535,0),j.TYPED_ARRAY_SUPPORT?(this[R]=255&S,this[R+1]=S>>>8):b(this,S,R,!0),R+2},j.prototype.writeUInt16BE=function(S,R,B){return S=+S,R|=0,B||Ie(this,S,R,2,65535,0),j.TYPED_ARRAY_SUPPORT?(this[R]=S>>>8,this[R+1]=255&S):b(this,S,R,!1),R+2},j.prototype.writeUInt32LE=function(S,R,B){return S=+S,R|=0,B||Ie(this,S,R,4,4294967295,0),j.TYPED_ARRAY_SUPPORT?(this[R+3]=S>>>24,this[R+2]=S>>>16,this[R+1]=S>>>8,this[R]=255&S):G(this,S,R,!0),R+4},j.prototype.writeUInt32BE=function(S,R,B){return S=+S,R|=0,B||Ie(this,S,R,4,4294967295,0),j.TYPED_ARRAY_SUPPORT?(this[R]=S>>>24,this[R+1]=S>>>16,this[R+2]=S>>>8,this[R+3]=255&S):G(this,S,R,!1),R+4},j.prototype.writeIntLE=function(S,R,B,ge){if(S=+S,R|=0,!ge){var fe=Math.pow(2,8*B-1);Ie(this,S,R,B,fe-1,-fe)}var Ee=0,Ke=1,dt=0;for(this[R]=255&S;++Ee<B&&(Ke*=256);)S<0&&0===dt&&0!==this[R+Ee-1]&&(dt=1),this[R+Ee]=(S/Ke>>0)-dt&255;return R+B},j.prototype.writeIntBE=function(S,R,B,ge){if(S=+S,R|=0,!ge){var fe=Math.pow(2,8*B-1);Ie(this,S,R,B,fe-1,-fe)}var Ee=B-1,Ke=1,dt=0;for(this[R+Ee]=255&S;--Ee>=0&&(Ke*=256);)S<0&&0===dt&&0!==this[R+Ee+1]&&(dt=1),this[R+Ee]=(S/Ke>>0)-dt&255;return R+B},j.prototype.writeInt8=function(S,R,B){return S=+S,R|=0,B||Ie(this,S,R,1,127,-128),j.TYPED_ARRAY_SUPPORT||(S=Math.floor(S)),S<0&&(S=255+S+1),this[R]=255&S,R+1},j.prototype.writeInt16LE=function(S,R,B){return S=+S,R|=0,B||Ie(this,S,R,2,32767,-32768),j.TYPED_ARRAY_SUPPORT?(this[R]=255&S,this[R+1]=S>>>8):b(this,S,R,!0),R+2},j.prototype.writeInt16BE=function(S,R,B){return S=+S,R|=0,B||Ie(this,S,R,2,32767,-32768),j.TYPED_ARRAY_SUPPORT?(this[R]=S>>>8,this[R+1]=255&S):b(this,S,R,!1),R+2},j.prototype.writeInt32LE=function(S,R,B){return S=+S,R|=0,B||Ie(this,S,R,4,2147483647,-2147483648),j.TYPED_ARRAY_SUPPORT?(this[R]=255&S,this[R+1]=S>>>8,this[R+2]=S>>>16,this[R+3]=S>>>24):G(this,S,R,!0),R+4},j.prototype.writeInt32BE=function(S,R,B){return S=+S,R|=0,B||Ie(this,S,R,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),j.TYPED_ARRAY_SUPPORT?(this[R]=S>>>24,this[R+1]=S>>>16,this[R+2]=S>>>8,this[R+3]=255&S):G(this,S,R,!1),R+4},j.prototype.writeFloatLE=function(S,R,B){return ye(this,S,R,!0,B)},j.prototype.writeFloatBE=function(S,R,B){return ye(this,S,R,!1,B)},j.prototype.writeDoubleLE=function(S,R,B){return Me(this,S,R,!0,B)},j.prototype.writeDoubleBE=function(S,R,B){return Me(this,S,R,!1,B)},j.prototype.copy=function(S,R,B,ge){if(B||(B=0),ge||0===ge||(ge=this.length),R>=S.length&&(R=S.length),R||(R=0),ge>0&&ge<B&&(ge=B),ge===B||0===S.length||0===this.length)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("sourceStart out of bounds");if(ge<0)throw new RangeError("sourceEnd out of bounds");ge>this.length&&(ge=this.length),S.length-R<ge-B&&(ge=S.length-R+B);var fe,Ee=ge-B;if(this===S&&B<R&&R<ge)for(fe=Ee-1;fe>=0;--fe)S[fe+R]=this[fe+B];else if(Ee<1e3||!j.TYPED_ARRAY_SUPPORT)for(fe=0;fe<Ee;++fe)S[fe+R]=this[fe+B];else Uint8Array.prototype.set.call(S,this.subarray(B,B+Ee),R);return Ee},j.prototype.fill=function(S,R,B,ge){if("string"==typeof S){if("string"==typeof R?(ge=R,R=0,B=this.length):"string"==typeof B&&(ge=B,B=this.length),1===S.length){var fe=S.charCodeAt(0);fe<256&&(S=fe)}if(void 0!==ge&&"string"!=typeof ge)throw new TypeError("encoding must be a string");if("string"==typeof ge&&!j.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge)}else"number"==typeof S&&(S&=255);if(R<0||this.length<R||this.length<B)throw new RangeError("Out of range index");if(B<=R)return this;var Ee;if(R>>>=0,B=void 0===B?this.length:B>>>0,S||(S=0),"number"==typeof S)for(Ee=R;Ee<B;++Ee)this[Ee]=S;else{var Ke=j.isBuffer(S)?S:Ye(new j(S,ge).toString()),dt=Ke.length;for(Ee=0;Ee<B-R;++Ee)this[Ee+R]=Ke[Ee%dt]}return this};var De=/[^+\/0-9A-Za-z-_]/g;function Le(S){return S<16?"0"+S.toString(16):S.toString(16)}function Ye(S,R){var B;R=R||1/0;for(var ge=S.length,fe=null,Ee=[],Ke=0;Ke<ge;++Ke){if((B=S.charCodeAt(Ke))>55295&&B<57344){if(!fe){if(B>56319){(R-=3)>-1&&Ee.push(239,191,189);continue}if(Ke+1===ge){(R-=3)>-1&&Ee.push(239,191,189);continue}fe=B;continue}if(B<56320){(R-=3)>-1&&Ee.push(239,191,189),fe=B;continue}B=65536+(fe-55296<<10|B-56320)}else fe&&(R-=3)>-1&&Ee.push(239,191,189);if(fe=null,B<128){if((R-=1)<0)break;Ee.push(B)}else if(B<2048){if((R-=2)<0)break;Ee.push(B>>6|192,63&B|128)}else if(B<65536){if((R-=3)<0)break;Ee.push(B>>12|224,B>>6&63|128,63&B|128)}else{if(!(B<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;Ee.push(B>>18|240,B>>12&63|128,B>>6&63|128,63&B|128)}}return Ee}function Je(S){return Q.toByteArray(function(R){if((R=(B=R,B.trim?B.trim():B.replace(/^\s+|\s+$/g,"")).replace(De,"")).length<2)return"";for(var B;R.length%4!=0;)R+="=";return R}(S))}function ze(S,R,B,ge){for(var fe=0;fe<ge&&!(fe+B>=R.length||fe>=S.length);++fe)R[fe+B]=S[fe];return fe}}).call(this,x(18))},function(Xe,be,x){"use strict";(function(c){var Q=x(0),V=x(12),W=x(1),ie=x(3),he=x(17),j=x(6),Y=x(13),$=x(7),O=x(8),U=x(9),ee=x(15),Ae=x(16),Re=x(5);function J(P){try{return c.isBuffer(P)}catch{return!1}}function q(P){try{return new DataView(P)}catch{return new V.a(P)}}function ae(P){var ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{expanded:!1},K=!1,se={},re=he.a.parseAppMarkers(P),Ie=re.fileDataOffset,b=re.tiffHeaderOffset,G=re.iptcDataOffset,X=re.xmpChunks,ye=re.iccChunks,Me=re.mpfDataOffset,De=re.pngHeaderOffset;if(W.a.USE_JPEG&&W.a.USE_FILE&&_e(Ie)){K=!0;var Le=Y.a.read(P,Ie);ne.expanded?se.file=Le:se=Object(Q.f)({},se,Le)}if(W.a.USE_EXIF&&ke(b)){K=!0;var Ye=j.a.read(P,b);if(Ye.Thumbnail&&(se.Thumbnail=Ye.Thumbnail,delete Ye.Thumbnail),ne.expanded?(se.exif=Ye,Ge(se)):se=Object(Q.f)({},se,Ye),W.a.USE_TIFF&&W.a.USE_IPTC&&Ye["IPTC-NAA"]&&!xe(G)){var Je=$.a.read(Ye["IPTC-NAA"].value,0);ne.expanded?se.iptc=Je:se=Object(Q.f)({},se,Je)}if(W.a.USE_TIFF&&W.a.USE_XMP&&Ye.ApplicationNotes&&!we(X)){var ze=O.a.read(Object(Q.d)(Ye.ApplicationNotes.value));ne.expanded?se.xmp=ze:se=Object(Q.f)({},se,ze)}if(W.a.USE_TIFF&&W.a.USE_ICC&&Ye.ICC_Profile&&!Se(ye)){var S=U.a.read(Ye.ICC_Profile.value,[{offset:0,length:Ye.ICC_Profile.value.length,chunkNumber:1,chunksTotal:1}]);ne.expanded?se.icc=S:se=Object(Q.f)({},se,S)}}if(W.a.USE_JPEG&&W.a.USE_IPTC&&xe(G)){K=!0;var R=$.a.read(P,G);ne.expanded?se.iptc=R:se=Object(Q.f)({},se,R)}if(W.a.USE_XMP&&we(X)){K=!0;var B=O.a.read(P,X);ne.expanded?se.xmp=B:se=Object(Q.f)({},se,B)}if((W.a.USE_JPEG||W.a.USE_WEBP)&&W.a.USE_ICC&&Se(ye)){K=!0;var ge=U.a.read(P,ye);ne.expanded?se.icc=ge:se=Object(Q.f)({},se,ge)}if(W.a.USE_MPF&&Be(Me)){K=!0;var fe=j.a.readMpf(P,Me);ne.expanded?se.mpf=fe:se=Object(Q.f)({},se,fe)}if(W.a.USE_PNG&&W.a.USE_PNG_FILE&&je(De)){K=!0;var Ee=ee.a.read(P,De);ne.expanded?se.pngFile=Ee:se=Object(Q.f)({},se,Ee)}var Ke=(W.a.USE_JPEG||W.a.USE_WEBP)&&W.a.USE_EXIF&&W.a.USE_THUMBNAIL&&Ae.a.get(P,se.Thumbnail,b);if(Ke?(K=!0,se.Thumbnail=Ke):delete se.Thumbnail,!K)throw new Re.a.MetadataMissingError;return se}function _e(P){return void 0!==P}function ke(P){return void 0!==P}function Ge(P){if(P.exif){if(P.exif.GPSLatitude&&P.exif.GPSLatitudeRef)try{P.gps=P.gps||{},P.gps.Latitude=Object(ie.a)(P.exif.GPSLatitude.value),"S"===P.exif.GPSLatitudeRef.value.join("")&&(P.gps.Latitude=-P.gps.Latitude)}catch{}if(P.exif.GPSLongitude&&P.exif.GPSLongitudeRef)try{P.gps=P.gps||{},P.gps.Longitude=Object(ie.a)(P.exif.GPSLongitude.value),"W"===P.exif.GPSLongitudeRef.value.join("")&&(P.gps.Longitude=-P.gps.Longitude)}catch{}if(P.exif.GPSAltitude&&P.exif.GPSAltitudeRef)try{P.gps=P.gps||{},P.gps.Altitude=P.exif.GPSAltitude.value[0]/P.exif.GPSAltitude.value[1],1===P.exif.GPSAltitudeRef.value&&(P.gps.Altitude=-P.gps.Altitude)}catch{}}}function xe(P){return void 0!==P}function we(P){return Array.isArray(P)&&P.length>0}function Se(P){return Array.isArray(P)&&P.length>0}function Be(P){return void 0!==P}function je(P){return void 0!==P}be.a={load:function(P){var ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{expanded:!1};return J(P)&&(P=new Uint8Array(P).buffer),ae(q(P),ne)},loadView:ae,errors:Re.a}}).call(this,x(10).Buffer)},function(Xe,be,x){"use strict";function c(W){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ie){return typeof ie}:function(ie){return ie&&"function"==typeof Symbol&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie})(W)}x.d(be,"a",function(){return V});var V=function(){function W(Y){if(function($,O){if(!($ instanceof O))throw new TypeError("Cannot call a class as a function")}(this,W),"object"!==c($=Y)||void 0===$.length||void 0===$.readUInt8||void 0===$.readUInt16LE||void 0===$.readUInt16BE||void 0===$.readUInt32LE||void 0===$.readUInt32BE||void 0===$.readInt32LE||void 0===$.readInt32BE)throw new Error("DataView: Passed buffer type is unsupported.");var $;this.buffer=Y,this.byteLength=this.buffer.length}var he;return(he=[{key:"getUint8",value:function(Y){return this.buffer.readUInt8(Y)}},{key:"getUint16",value:function(Y,$){return $?this.buffer.readUInt16LE(Y):this.buffer.readUInt16BE(Y)}},{key:"getUint32",value:function(Y,$){return $?this.buffer.readUInt32LE(Y):this.buffer.readUInt32BE(Y)}},{key:"getInt32",value:function(Y,$){return $?this.buffer.readInt32LE(Y):this.buffer.readInt32BE(Y)}}])&&function Q(W,ie){for(var he=0;he<ie.length;he++){var j=ie[he];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(W,j.key,j)}}(W.prototype,he),W}()},function(Xe,be,x){"use strict";var c=x(2);function Q(Y,$,O){if(!(3>O)){var U=c.a.getByteAt(Y,$+2);return{value:U,description:""+U}}}function V(Y,$,O){if(!(5>O)){var U=c.a.getShortAt(Y,$+3);return{value:U,description:"".concat(U,"px")}}}function W(Y,$,O){if(!(7>O)){var U=c.a.getShortAt(Y,$+5);return{value:U,description:"".concat(U,"px")}}}function ie(Y,$,O,U){if(!(8+3*O>U)){for(var ee=[],Ae=0;Ae<O;Ae++){var Re=$+8+3*Ae;ee.push([c.a.getByteAt(Y,Re),c.a.getByteAt(Y,Re+1),c.a.getByteAt(Y,Re+2)])}return{value:ee,description:ee.length>1?he(ee)+j(ee):""}}}function he(Y){var $={1:"Y",2:"Cb",3:"Cr",4:"I",5:"Q"};return Y.map(function(O){return $[O[0]]}).join("")}function j(Y){var $={17:"4:4:4 (1 1)",18:"4:4:0 (1 2)",20:"4:4:1 (1 4)",33:"4:2:2 (2 1)",34:"4:2:0 (2 2)",36:"4:2:1 (2 4)",65:"4:1:1 (4 1)",66:"4:1:0 (4 2)"};return 0===Y.length||void 0===Y[0][1]||void 0===$[Y[0][1]]?"":$[Y[0][1]]}be.a={read:function(Y,$){var O=c.a.getShortAt(Y,$),U=function(ee,Ae,Re){if(!(8>Re)){var J=c.a.getByteAt(ee,Ae+7);return{value:J,description:""+J}}}(Y,$,O);return{"Bits Per Sample":Q(Y,$,O),"Image Height":V(Y,$,O),"Image Width":W(Y,$,O),"Color Components":U,Subsampling:U&&ie(Y,$,U.value,O)}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function get(){if(typeof DOMParser<"u")return DOMParser;try{return eval("require")("xmldom").DOMParser}catch(Xe){return}}__webpack_exports__.a={get}},function(Xe,be,x){"use strict";var c=x(2);function Q($,O){if(!(O+0+4>$.byteLength)){var U=c.a.getLongAt($,O);return{value:U,description:"".concat(U,"px")}}}function V($,O){if(!(O+4+4>$.byteLength)){var U=c.a.getLongAt($,O+4);return{value:U,description:"".concat(U,"px")}}}function W($,O){if(!(O+8+1>$.byteLength)){var U=c.a.getByteAt($,O+8);return{value:U,description:"".concat(U)}}}function ie($,O){if(!(O+9+1>$.byteLength)){var U=c.a.getByteAt($,O+9);return{value:U,description:{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha"}[U]||"Unknown"}}}function he($,O){if(!(O+10+1>$.byteLength)){var U=c.a.getByteAt($,O+10);return{value:U,description:0===U?"Deflate/Inflate":"Unknown"}}}function j($,O){if(!(O+11+1>$.byteLength)){var U=c.a.getByteAt($,O+11);return{value:U,description:0===U?"Adaptive":"Unknown"}}}function Y($,O){if(!(O+12+1>$.byteLength)){var U=c.a.getByteAt($,O+12);return{value:U,description:{0:"Noninterlaced",1:"Adam7 Interlace"}[U]||"Unknown"}}}be.a={read:function($,O){return{"Image Width":Q($,O),"Image Height":V($,O),"Bit Depth":W($,O),"Color Type":ie($,O),Compression:he($,O),Filter:j($,O),Interlace:Y($,O)}}}},function(Xe,be,x){"use strict";var c=x(0),Q=[6,7,99];be.a={get:function(V,W,ie){if((j=W)&&(void 0===j.Compression||Q.includes(j.Compression.value))&&j.JPEGInterchangeFormat&&j.JPEGInterchangeFormat.value&&j.JPEGInterchangeFormatLength&&j.JPEGInterchangeFormatLength.value){W.type="image/jpeg";var he=ie+W.JPEGInterchangeFormat.value;W.image=V.buffer.slice(he,he+W.JPEGInterchangeFormatLength.value),Object(c.a)(W,"base64",function(){return Object(c.b)(this.image)})}var j;return W}}},function(Xe,be,x){"use strict";var c=x(1),Q=x(4),W=x(0),he=16,j=he+1;function Y(P,ne){return 65472===P.getUint16(ne)}function $(P,ne){return 65474===P.getUint16(ne)}function O(P,ne){return 65506===P.getUint16(ne)&&"ICC_PROFILE\0"===Object(W.c)(P,ne+4,12)}function U(P,ne){return 65506===P.getUint16(ne)&&"MPF\0"===Object(W.c)(P,ne+4,4)}function ee(P,ne){return 65505===P.getUint16(ne)&&"Exif"===Object(W.c)(P,ne+4,4)&&0===P.getUint8(ne+4+4)}function Ae(P,ne){return 65505===P.getUint16(ne)&&(K=P,se=ne,"http://ns.adobe.com/xap/1.0/\0"===Object(W.c)(K,se+4,29));var K,se}function Re(P,ne){return 65505===P.getUint16(ne)&&(K=P,se=ne,"http://ns.adobe.com/xmp/extension/\0"===Object(W.c)(K,se+4,35));var K,se}function J(P,ne){return{dataOffset:P+33,length:ne-31}}function q(P,ne){return{dataOffset:P+79,length:ne-77}}function ae(P,ne){return 65517===P.getUint16(ne)&&"Photoshop 3.0"===Object(W.c)(P,ne+4,13)&&0===P.getUint8(ne+4+13)}function _e(P,ne){var K=P.getUint16(ne);return K>=65504&&K<=65519||65534===K||65472===K||65474===K||65476===K||65499===K||65501===K||65498===K}function Ge(P,ne){return"IHDR"===Object(W.c)(P,ne+4,4)}function xe(P,ne){return"iTXt"===Object(W.c)(P,ne+4,4)&&"XML:com.adobe.xmp\0"===Object(W.c)(P,ne+8,18)}function we(P,ne){ne+=28;for(var K=0;K<2&&ne<P.byteLength;)0===P.getUint8(ne)&&K++,ne++;if(!(K<2))return ne}function Be(P,ne){var K=P.getUint32(ne);return 0===K?P.byteLength-ne:1===K&&function(se,re){return 0===se.getUint32(re+8)}(P,ne)?P.getUint32(ne+12):K}be.a={parseAppMarkers:function(P){if(c.a.USE_TIFF&&function(P){return P.byteLength>=4&&(K=(ne=P).getUint16(0)===Q.a.LITTLE_ENDIAN,42===ne.getUint16(2,K));var ne,K}(P))return c.a.USE_EXIF?{hasAppMarkers:!0,tiffHeaderOffset:0}:{};if(c.a.USE_JPEG&&function(P){return P.byteLength>=2&&65496===P.getUint16(0)}(P))return function(P){for(var ne,K,se,re,Ie,b,G,X,ye=2;ye+4+5<=P.byteLength;){if(c.a.USE_FILE&&Y(P,ye))K=ye+2;else if(c.a.USE_FILE&&$(P,ye))se=ye+2;else if(c.a.USE_EXIF&&ee(P,ye))ne=P.getUint16(ye+2),re=ye+10;else if(c.a.USE_XMP&&Ae(P,ye))b||(b=[]),ne=P.getUint16(ye+2),b.push(J(ye,ne));else if(c.a.USE_XMP&&Re(P,ye))b||(b=[]),ne=P.getUint16(ye+2),b.push(q(ye,ne));else if(c.a.USE_IPTC&&ae(P,ye))ne=P.getUint16(ye+2),Ie=ye+18;else if(c.a.USE_ICC&&O(P,ye)){var Me=ye+18,De=(ne=P.getUint16(ye+2))-16,Le=P.getUint8(ye+he),Ye=P.getUint8(ye+j);G||(G=[]),G.push({offset:Me,length:De,chunkNumber:Le,chunksTotal:Ye})}else if(c.a.USE_MPF&&U(P,ye))ne=P.getUint16(ye+2),X=ye+8;else{if(!_e(P,ye))break;ne=P.getUint16(ye+2)}ye+=2+ne}return{hasAppMarkers:ye>2,fileDataOffset:K||se,tiffHeaderOffset:re,iptcDataOffset:Ie,xmpChunks:b,iccChunks:G,mpfDataOffset:X}}(P);if(c.a.USE_PNG&&function(P){return"\x89PNG\r\n\x1a\n"===Object(W.c)(P,0,8)}(P))return function(P){for(var ne={hasAppMarkers:!1},K=8;K+4+4<=P.byteLength;){if(c.a.USE_PNG_FILE&&Ge(P,K))ne.hasAppMarkers=!0,ne.pngHeaderOffset=K+8;else if(c.a.USE_XMP&&xe(P,K)){var se=we(P,K);void 0!==se&&(ne.hasAppMarkers=!0,ne.xmpChunks=[{dataOffset:se,length:P.getUint32(K+0)-(se-(K+8))}])}K+=P.getUint32(K+0)+4+4+4}return ne}(P);if(c.a.USE_HEIC&&function(P){var ne=Object(W.c)(P,8,4);return"ftyp"===Object(W.c)(P,4,4)&&-1!==["heic","heix","hevc","hevx","heim","heis","hevm","hevs","mif1"].indexOf(ne)}(P))return function(P){if(c.a.USE_EXIF||c.a.USE_ICC){var ne=function(De){for(var Le=0;Le+4+4<=De.byteLength;){var Ye=Be(De,Le);if(Ye>=8&&"meta"===Object(W.c)(De,Le+4,4))return{offset:Le,length:Ye};Le+=Ye}return{offset:void 0,length:0}}(P),K=ne.offset;if(void 0===K)return{hasAppMarkers:!1};var re=Math.min(K+ne.length,P.byteLength),Ie=function(De,Le,Ye){for(var Je={ilocOffset:void 0,exifItemOffset:void 0,colrOffset:void 0};Le+4<=Ye&&(!Je.ilocOffset||!Je.exifItemOffset||!Je.colrOffset);){var ze=Object(W.c)(De,Le,4);c.a.USE_EXIF&&"iloc"===ze?Je.ilocOffset=Le:c.a.USE_EXIF&&"Exif"===ze?Je.exifItemOffset=Le+-4:c.a.USE_ICC&&"colr"===ze&&(Je.colrOffset=Le+-4),Le++}return Je}(P,K,re),X=Ie.colrOffset,ye=function(De,Le,Ye,Je){if(Ye&&Le&&!(Le+2>Je)){var ze=De.getUint16(Le);for(Ye+=12;Ye+16<=Je;){if(De.getUint16(Ye)===ze){var S=De.getUint32(Ye+8);if(S+4<=De.byteLength)return S+(De.getUint32(S)+4)}Ye+=16}}}(P,Ie.exifItemOffset,Ie.ilocOffset,re),Me=function(De,Le,Ye){if(Le&&!(Le+12>Ye)){var Je=Object(W.c)(De,Le+8,4);if("prof"===Je||"rICC"===Je)return[{offset:Le+12,length:Be(De,Le)-12,chunkNumber:1,chunksTotal:1}]}}(P,X,re);return{hasAppMarkers:void 0!==ye||void 0!==Me,tiffHeaderOffset:ye,iccChunks:Me}}return{hasAppMarkers:!1}}(P);if(c.a.USE_WEBP&&function(P){return"RIFF"===Object(W.c)(P,0,4)&&"WEBP"===Object(W.c)(P,8,4)}(P))return function(P){for(var ne,K,se,re=12,Ie=!1;re+8<P.byteLength;){var b=Object(W.c)(P,re,4),G=P.getUint32(re+4,!0);c.a.USE_EXIF&&"EXIF"===b?(Ie=!0,ne="Exif\0\0"===Object(W.c)(P,re+8,6)?re+8+6:re+8):c.a.USE_XMP&&"XMP "===b?(Ie=!0,K=[{dataOffset:re+8,length:G}]):c.a.USE_ICC&&"ICCP"===b&&(Ie=!0,se=[{offset:re+8,length:G,chunkNumber:1,chunksTotal:1}]),re+=8+(G%2==0?G:G+1)}return{hasAppMarkers:Ie,tiffHeaderOffset:ne,xmpChunks:K,iccChunks:se}}(P);throw new Error("Invalid image format")}}},function(Xe,be){function x(Q){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(Q)}var c;c=function(){return this}();try{c=c||new Function("return this")()}catch{"object"===(typeof window>"u"?"undefined":x(window))&&(c=window)}Xe.exports=c},function(Xe,be,x){"use strict";be.byteLength=function($){var O=j($),ee=O[1];return 3*(O[0]+ee)/4-ee},be.toByteArray=function($){var O,U,Ge,ee=j($),Ae=ee[0],Re=ee[1],J=new V(3*(Ae+(Ge=Re))/4-Ge),q=0,ae=Re>0?Ae-4:Ae;for(U=0;U<ae;U+=4)O=Q[$.charCodeAt(U)]<<18|Q[$.charCodeAt(U+1)]<<12|Q[$.charCodeAt(U+2)]<<6|Q[$.charCodeAt(U+3)],J[q++]=O>>16&255,J[q++]=O>>8&255,J[q++]=255&O;return 2===Re&&(O=Q[$.charCodeAt(U)]<<2|Q[$.charCodeAt(U+1)]>>4,J[q++]=255&O),1===Re&&(O=Q[$.charCodeAt(U)]<<10|Q[$.charCodeAt(U+1)]<<4|Q[$.charCodeAt(U+2)]>>2,J[q++]=O>>8&255,J[q++]=255&O),J},be.fromByteArray=function($){for(var O,U=$.length,ee=U%3,Ae=[],Re=0,J=U-ee;Re<J;Re+=16383)Ae.push(Y($,Re,Re+16383>J?J:Re+16383));return 1===ee?Ae.push(c[(O=$[U-1])>>2]+c[O<<4&63]+"=="):2===ee&&Ae.push(c[(O=($[U-2]<<8)+$[U-1])>>10]+c[O>>4&63]+c[O<<2&63]+"="),Ae.join("")};for(var c=[],Q=[],V=typeof Uint8Array<"u"?Uint8Array:Array,W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ie=0,he=W.length;ie<he;++ie)c[ie]=W[ie],Q[W.charCodeAt(ie)]=ie;function j($){var O=$.length;if(O%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var U=$.indexOf("=");return-1===U&&(U=O),[U,U===O?0:4-U%4]}function Y($,O,U){for(var Ae,Re=[],J=O;J<U;J+=3)Re.push(c[(Ae=($[J]<<16&16711680)+($[J+1]<<8&65280)+(255&$[J+2]))>>18&63]+c[Ae>>12&63]+c[Ae>>6&63]+c[63&Ae]);return Re.join("")}Q["-".charCodeAt(0)]=62,Q["_".charCodeAt(0)]=63},function(Xe,be){be.read=function(x,c,Q,V,W){var ie,he,j=8*W-V-1,Y=(1<<j)-1,$=Y>>1,O=-7,U=Q?W-1:0,ee=Q?-1:1,Ae=x[c+U];for(U+=ee,ie=Ae&(1<<-O)-1,Ae>>=-O,O+=j;O>0;ie=256*ie+x[c+U],U+=ee,O-=8);for(he=ie&(1<<-O)-1,ie>>=-O,O+=V;O>0;he=256*he+x[c+U],U+=ee,O-=8);if(0===ie)ie=1-$;else{if(ie===Y)return he?NaN:1/0*(Ae?-1:1);he+=Math.pow(2,V),ie-=$}return(Ae?-1:1)*he*Math.pow(2,ie-V)},be.write=function(x,c,Q,V,W,ie){var he,j,Y,$=8*ie-W-1,O=(1<<$)-1,U=O>>1,ee=23===W?Math.pow(2,-24)-Math.pow(2,-77):0,Ae=V?0:ie-1,Re=V?1:-1,J=c<0||0===c&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(j=isNaN(c)?1:0,he=O):(he=Math.floor(Math.log(c)/Math.LN2),c*(Y=Math.pow(2,-he))<1&&(he--,Y*=2),(c+=he+U>=1?ee/Y:ee*Math.pow(2,1-U))*Y>=2&&(he++,Y/=2),he+U>=O?(j=0,he=O):he+U>=1?(j=(c*Y-1)*Math.pow(2,W),he+=U):(j=c*Math.pow(2,U-1)*Math.pow(2,W),he=0));W>=8;x[Q+Ae]=255&j,Ae+=Re,j/=256,W-=8);for(he=he<<W|j,$+=W;$>0;x[Q+Ae]=255&he,Ae+=Re,he/=256,$-=8);x[Q+Ae-Re]|=128*J}},function(Xe,be){var x={}.toString;Xe.exports=Array.isArray||function(c){return"[object Array]"==x.call(c)}},function(Xe,be,x){"use strict";x.r(be);var c=x(11);function Q(){return document.createElement("canvas")}function V(O){for(var U=atob(O.split(",")[1]),ee=O.split(",")[0].split(":")[1].split(";")[0],Ae=new ArrayBuffer(U.length),Re=new Uint8Array(Ae),J=0;J<U.length;J++)Re[J]=U.charCodeAt(J);return new Blob([Ae],{type:ee})}function W(O,U){var ee=U.width/U.height,Ae=Math.min(U.width,O.maxWidth,ee*O.maxHeight);return O.maxSize>0&&O.maxSize<U.width*U.height/1e3&&(Ae=Math.min(Ae,Math.floor(1e3*O.maxSize/U.height))),O.scaleRatio&&(Ae=Math.min(Ae,Math.floor(O.scaleRatio*U.width))),O.debug&&(console.log("browser-image-resizer: original image size = "+U.width+" px (width) X "+U.height+" px (height)"),console.log("browser-image-resizer: scaled image size = "+Ae+" px (width) X "+Math.floor(Ae/ee)+" px (height)")),Ae<=0&&(Ae=1,console.warn("browser-image-resizer: image size is too small")),Ae}function ie(O,U,ee,Ae){var Re=O.width,J=O.style.width,q=O.height,ae=O.style.height;switch(ee>4&&(O.width=q,O.style.width=ae,O.height=Re,O.style.height=J),ee){case 2:U.translate(Re,0),U.scale(-1,1);break;case 3:U.translate(Re,q),U.rotate(Math.PI);break;case 4:U.translate(0,q),U.scale(1,-1);break;case 5:U.rotate(.5*Math.PI),U.scale(1,-1);break;case 6:U.rotate(.5*Math.PI),U.translate(0,-q);break;case 7:U.rotate(.5*Math.PI),U.translate(Re,-q),U.scale(-1,1);break;case 8:U.rotate(-.5*Math.PI),U.translate(-Re,0)}U.drawImage(Ae,0,0),U.restore()}function he(O,U){var ee=document.createElement("canvas"),Ae=U.outputWidth/O.width;ee.width=O.width*Ae,ee.height=O.height*Ae;var Re=O.getContext("2d").getImageData(0,0,O.width,O.height),J=ee.getContext("2d").createImageData(ee.width,ee.height);return function(q,ae,_e){function ke(Ye,Je,ze,S,R,B){var ge=1-R,fe=1-B;return Ye*ge*fe+Je*R*fe+ze*ge*B+S*R*B}var Ge,xe,we,Se,Be,je,P,ne,K,se,re,Ie,b,G,X,ye,Me,De,Le;for(Ge=0;Ge<ae.height;++Ge)for(we=Ge/_e,Se=Math.floor(we),Be=Math.ceil(we)>q.height-1?q.height-1:Math.ceil(we),xe=0;xe<ae.width;++xe)je=xe/_e,P=Math.floor(je),ne=Math.ceil(je)>q.width-1?q.width-1:Math.ceil(je),K=4*(xe+ae.width*Ge),ye=ke(q.data[se=4*(P+q.width*Se)],q.data[re=4*(ne+q.width*Se)],q.data[Ie=4*(P+q.width*Be)],q.data[b=4*(ne+q.width*Be)],G=je-P,X=we-Se),ae.data[K]=ye,Me=ke(q.data[se+1],q.data[re+1],q.data[Ie+1],q.data[b+1],G,X),ae.data[K+1]=Me,De=ke(q.data[se+2],q.data[re+2],q.data[Ie+2],q.data[b+2],G,X),ae.data[K+2]=De,Le=ke(q.data[se+3],q.data[re+3],q.data[Ie+3],q.data[b+3],G,X),ae.data[K+3]=Le}(Re,J,Ae),ee.getContext("2d").putImageData(J,0,0),ee}function j(O){var U=document.createElement("canvas");return U.width=O.width/2,U.height=O.height/2,U.getContext("2d").drawImage(O,0,0,U.width,U.height),U}x.d(be,"readAndCompressImage",function(){return $});var Y={quality:.5,maxWidth:800,maxHeight:600,autoRotate:!0,debug:!1,mimeType:"image/jpeg"};function $(O,U){return new Promise(function(ee,Ae){var Re=document.createElement("img"),J=new FileReader,q=Object.assign({},Y,U);J.onload=function(ae){Re.src=ae.target.result,Re.onload=function(){var _e={img:Re,config:q};if(q.autoRotate){q.debug&&console.log("browser-image-resizer: detecting image orientation...");var ke=function(we){for(var Se=atob(we.split(",")[1]),Be=new ArrayBuffer(Se.length),je=new Uint8Array(Be),P=0;P<Se.length;P++)je[P]=Se.charCodeAt(P);return Be}(Re.src),Ge={};try{Ge=c.a.load(ke).Orientation||{}}catch(we){console.error("browser-image-resizer: Error getting orientation"),console.error(we)}q.debug&&console.log("browser-image-resizer: image orientation from EXIF tag = "+Ge),_e.orientation=Ge.value}else q.debug&&console.log("browser-image-resizer: ignoring EXIF orientation tag because autoRotate is false...");try{var xe=function(){var we=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Se=we.img,Be=we.config,je=we.orientation,P=void 0===je?1:je,ne=Q();ne.width=Se.width,ne.height=Se.height;var K=ne.getContext("2d");K.save(),ie(ne,K,P,Se);for(var se=W(Be,ne);ne.width>=2*se;)ne=j(ne);ne.width>se&&(ne=he(ne,Object.assign(Be,{outputWidth:se})));var re=ne.toDataURL(Be.mimeType,Be.quality);return"function"==typeof Be.onScale&&Be.onScale(re),V(re)}(_e);ee(xe)}catch(we){Ae(we)}}};try{J.readAsDataURL(O)}catch(ae){Ae(ae)}})}}])},module.exports=be()},5867:(Xe,be,x)=>{"use strict";x.d(be,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=x(9681);(0,c.registerVersion)("firebase","9.8.2","app")},127:(Xe,be,x)=>{"use strict";x.d(be,{Z:()=>c.Z});var c=x(3942);c.Z.registerVersion("firebase","9.8.2","app-compat")},8775:(Xe,be,x)=>{"use strict";x.r(be);var c=x(5861),Q=x(3942),V=x(2090),W=x(9681),ie=x(655),he=x(1877),j=x(4859);const J=function Ae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},q=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ae=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ke=new he.Yd("@firebase/auth");function Ge(_,...f){ke.logLevel<=he.in.ERROR&&ke.error(`Auth (${W.SDK_VERSION}): ${_}`,...f)}function xe(_,...f){throw je(_,...f)}function we(_,...f){return je(_,...f)}function Se(_,f,g){const v=Object.assign(Object.assign({},q()),{[f]:g});return new V.LL("auth","Firebase",v).create(f,{appName:_.name})}function Be(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&xe(_,"argument-error"),Se(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(_,...f){if("string"!=typeof _){const g=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=_.name),_._errorFactory.create(g,...v)}return ae.create(_,...f)}function P(_,f,...g){if(!_)throw je(f,...g)}function ne(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Ge(f),new Error(f)}function K(_,f){_||ne(f)}const se=new Map;function re(_){K(_ instanceof Function,"Expected a class definition");let f=se.get(_);return f?(K(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,se.set(_,f),f)}function G(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function X(){return"http:"===ye()||"https:"===ye()}function ye(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Le{constructor(f,g){this.shortDelay=f,this.longDelay=g,K(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function Me(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(X()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ye(_,f){K(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Je{static initialize(f,g,v){this.fetchImpl=f,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ze={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},S=new Le(3e4,6e4);function R(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function B(_,f,g,v){return ge.apply(this,arguments)}function ge(){return(ge=(0,c.Z)(function*(_,f,g,v,M={}){return fe(_,M,(0,c.Z)(function*(){let H={},me={};v&&("GET"===f?me=v:H={body:JSON.stringify(v)});const Fe=(0,V.xO)(Object.assign({key:_.config.apiKey},me)).slice(1),tt=yield _._getAdditionalHeaders();return tt["Content-Type"]="application/json",_.languageCode&&(tt["X-Firebase-Locale"]=_.languageCode),Je.fetch()(Vt(_,_.config.apiHost,g,Fe),Object.assign({method:f,headers:tt,referrerPolicy:"no-referrer"},H))}))})).apply(this,arguments)}function fe(_,f,g){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,c.Z)(function*(_,f,g){_._canInitEmulator=!1;const v=Object.assign(Object.assign({},ze),f);try{const M=new Ht(_),H=yield Promise.race([g(),M.promise]);M.clearNetworkTimeout();const me=yield H.json();if("needConfirmation"in me)throw Rt(_,"account-exists-with-different-credential",me);if(H.ok&&!("errorMessage"in me))return me;{const Fe=H.ok?me.errorMessage:me.error.message,[tt,at]=Fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===tt)throw Rt(_,"credential-already-in-use",me);if("EMAIL_EXISTS"===tt)throw Rt(_,"email-already-in-use",me);if("USER_DISABLED"===tt)throw Rt(_,"user-disabled",me);const ft=v[tt]||tt.toLowerCase().replace(/[_\s]+/g,"-");if(at)throw Se(_,ft,at);xe(_,ft)}}catch(M){if(M instanceof V.ZR)throw M;xe(_,"network-request-failed")}})).apply(this,arguments)}function Ke(_,f,g,v){return dt.apply(this,arguments)}function dt(){return(dt=(0,c.Z)(function*(_,f,g,v,M={}){const H=yield B(_,f,g,v,M);return"mfaPendingCredential"in H&&xe(_,"multi-factor-auth-required",{_serverResponse:H}),H})).apply(this,arguments)}function Vt(_,f,g,v){const M=`${f}${g}?${v}`;return _.config.emulator?Ye(_.config,M):`${_.config.apiScheme}://${M}`}class Ht{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(we(this.auth,"network-request-failed")),S.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rt(_,f,g){const v={appName:_.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const M=we(_,f,v);return M.customData._tokenResponse=g,M}function Cn(){return(Cn=(0,c.Z)(function*(_,f){return B(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function rn(_,f){return nn.apply(this,arguments)}function nn(){return(nn=(0,c.Z)(function*(_,f){return B(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Fr(_,f){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,c.Z)(function*(_,f){return B(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Qn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function ps(){return(ps=(0,c.Z)(function*(_,f=!1){const g=(0,V.m9)(_),v=yield g.getIdToken(f),M=nt(v);P(M&&M.exp&&M.auth_time&&M.iat,g.auth,"internal-error");const H="object"==typeof M.firebase?M.firebase:void 0,me=H?.sign_in_provider;return{claims:M,token:v,authTime:Qn(zt(M.auth_time)),issuedAtTime:Qn(zt(M.iat)),expirationTime:Qn(zt(M.exp)),signInProvider:me||null,signInSecondFactor:H?.sign_in_second_factor||null}})).apply(this,arguments)}function zt(_){return 1e3*Number(_)}function nt(_){const[f,g,v]=_.split(".");if(void 0===f||void 0===g||void 0===v)return Ge("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,V.tV)(g);return M?JSON.parse(M):(Ge("Failed to decode base64 JWT payload"),null)}catch(M){return Ge("Caught error parsing JWT payload as JSON",M),null}}function dr(_,f){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(v){throw v instanceof V.ZR&&Pt(v)&&_.auth.currentUser===_&&(yield _.auth.signOut()),v}})).apply(this,arguments)}function Pt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Qr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const M=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),v)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class $n{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qn(this.lastLoginAt),this.creationTime=Qn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ur(_){return de.apply(this,arguments)}function de(){return(de=(0,c.Z)(function*(_){var f;const g=_.auth,v=yield _.getIdToken(),M=yield dr(_,Fr(g,{idToken:v}));P(M?.users.length,g,"internal-error");const H=M.users[0];_._notifyReloadListener(H);const me=null!==(f=H.providerUserInfo)&&void 0!==f&&f.length?le(H.providerUserInfo):[],Fe=Ve(_.providerData,me),ft=!!_.isAnonymous&&!(_.email&&H.passwordHash||Fe?.length),ct={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:Fe,metadata:new $n(H.createdAt,H.lastLoginAt),isAnonymous:ft};Object.assign(_,ct)})).apply(this,arguments)}function pe(){return(pe=(0,c.Z)(function*(_){const f=(0,V.m9)(_);yield Ur(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ve(_,f){return[..._.filter(v=>!f.some(M=>M.providerId===v.providerId)),...f]}function le(_){return _.map(f=>{var{providerId:g}=f,v=(0,ie._T)(f,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function Ze(){return(Ze=(0,c.Z)(function*(_,f){const g=yield fe(_,{},(0,c.Z)(function*(){const v=(0,V.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:M,apiKey:H}=_.config,me=Vt(_,M,"/v1/token",`key=${H}`),Fe=yield _._getAdditionalHeaders();return Fe["Content-Type"]="application/x-www-form-urlencoded",Je.fetch()(me,{method:"POST",headers:Fe,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class ot{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){P(f.idToken,"internal-error"),P(typeof f.idToken<"u","internal-error"),P(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Tt(_){const f=nt(_);return P(f,"internal-error"),P(typeof f.exp<"u","internal-error"),P(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var v=this;return(0,c.Z)(function*(){return P(!v.accessToken||v.refreshToken,f,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var v=this;return(0,c.Z)(function*(){const{accessToken:M,refreshToken:H,expiresIn:me}=yield function Pe(_,f){return Ze.apply(this,arguments)}(f,g);v.updateTokensAndExpiration(M,H,Number(me))})()}updateTokensAndExpiration(f,g,v){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,g){const{refreshToken:v,accessToken:M,expirationTime:H}=g,me=new ot;return v&&(P("string"==typeof v,"internal-error",{appName:f}),me.refreshToken=v),M&&(P("string"==typeof M,"internal-error",{appName:f}),me.accessToken=M),H&&(P("number"==typeof H,"internal-error",{appName:f}),me.expirationTime=H),me}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new ot,this.toJSON())}_performRefresh(){return ne("not implemented")}}function Et(_,f){P("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class Ct{constructor(f){var{uid:g,auth:v,stsTokenManager:M}=f,H=(0,ie._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=H.displayName||null,this.email=H.email||null,this.emailVerified=H.emailVerified||!1,this.phoneNumber=H.phoneNumber||null,this.photoURL=H.photoURL||null,this.isAnonymous=H.isAnonymous||!1,this.tenantId=H.tenantId||null,this.providerData=H.providerData?[...H.providerData]:[],this.metadata=new $n(H.createdAt||void 0,H.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const v=yield dr(g,g.stsTokenManager.getToken(g.auth,f));return P(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(f){return function Lr(_){return ps.apply(this,arguments)}(this,f)}reload(){return function ce(_){return pe.apply(this,arguments)}(this)}_assign(f){this!==f&&(P(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Ct(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){P(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var v=this;return(0,c.Z)(function*(){let M=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),M=!0),g&&(yield Ur(v)),yield v.auth._persistUserIfCurrent(v),M&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield dr(f,function ut(_,f){return Cn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var v,M,H,me,Fe,tt,at,ft;const ct=null!==(v=g.displayName)&&void 0!==v?v:void 0,er=null!==(M=g.email)&&void 0!==M?M:void 0,Rs=null!==(H=g.phoneNumber)&&void 0!==H?H:void 0,Eh=null!==(me=g.photoURL)&&void 0!==me?me:void 0,wh=null!==(Fe=g.tenantId)&&void 0!==Fe?Fe:void 0,bp=null!==(tt=g._redirectEventId)&&void 0!==tt?tt:void 0,Li=null!==(at=g.createdAt)&&void 0!==at?at:void 0,Yc=null!==(ft=g.lastLoginAt)&&void 0!==ft?ft:void 0,{uid:xu,emailVerified:Cp,isAnonymous:bh,providerData:Ra,stsTokenManager:Ch}=g;P(xu&&Ch,f,"internal-error");const Ip=ot.fromJSON(this.name,Ch);P("string"==typeof xu,f,"internal-error"),Et(ct,f.name),Et(er,f.name),P("boolean"==typeof Cp,f,"internal-error"),P("boolean"==typeof bh,f,"internal-error"),Et(Rs,f.name),Et(Eh,f.name),Et(wh,f.name),Et(bp,f.name),Et(Li,f.name),Et(Yc,f.name);const Nu=new Ct({uid:xu,auth:f,email:er,emailVerified:Cp,displayName:ct,isAnonymous:bh,photoURL:Eh,phoneNumber:Rs,tenantId:wh,stsTokenManager:Ip,createdAt:Li,lastLoginAt:Yc});return Ra&&Array.isArray(Ra)&&(Nu.providerData=Ra.map(Ih=>Object.assign({},Ih))),bp&&(Nu._redirectEventId=bp),Nu}static _fromIdTokenResponse(f,g,v=!1){return(0,c.Z)(function*(){const M=new ot;M.updateFromServerResponse(g);const H=new Ct({uid:g.localId,auth:f,stsTokenManager:M,isAnonymous:v});return yield Ur(H),H})()}}const St=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,v){var M=this;return(0,c.Z)(function*(){M.storage[g]=v})()}_get(g){var v=this;return(0,c.Z)(function*(){const M=v.storage[g];return void 0===M?null:M})()}_remove(g){var v=this;return(0,c.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return _.type="NONE",_})();function Gn(_,f,g){return`firebase:${_}:${f}:${g}`}class Ir{constructor(f,g,v){this.persistence=f,this.auth=g,this.userKey=v;const{config:M,name:H}=this.auth;this.fullUserKey=Gn(this.userKey,M.apiKey,H),this.fullPersistenceKey=Gn("persistence",M.apiKey,H),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Ct._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,v="authUser"){return(0,c.Z)(function*(){if(!g.length)return new Ir(re(St),f,v);const M=(yield Promise.all(g.map(function(){var at=(0,c.Z)(function*(ft){if(yield ft._isAvailable())return ft});return function(ft){return at.apply(this,arguments)}}()))).filter(at=>at);let H=M[0]||re(St);const me=Gn(v,f.config.apiKey,f.name);let Fe=null;for(const at of g)try{const ft=yield at._get(me);if(ft){const ct=Ct._fromJSON(f,ft);at!==H&&(Fe=ct),H=at;break}}catch{}const tt=M.filter(at=>at._shouldAllowMigration);return H._shouldAllowMigration&&tt.length?(H=tt[0],Fe&&(yield H._set(me,Fe.toJSON())),yield Promise.all(g.map(function(){var at=(0,c.Z)(function*(ft){if(ft!==H)try{yield ft._remove(me)}catch{}});return function(ft){return at.apply(this,arguments)}}())),new Ir(H,f,v)):new Ir(H,f,v)})()}}function Yt(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(hr(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Wn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ot(f))return"Blackberry";if(Qt(f))return"Webos";if(Jn(f))return"Safari";if((f.includes("chrome/")||nr(f))&&!f.includes("edge/"))return"Chrome";if(rt(f))return"Android";{const v=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function Wn(_=(0,V.z$)()){return/firefox\//i.test(_)}function Jn(_=(0,V.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function nr(_=(0,V.z$)()){return/crios\//i.test(_)}function hr(_=(0,V.z$)()){return/iemobile/i.test(_)}function rt(_=(0,V.z$)()){return/android/i.test(_)}function Ot(_=(0,V.z$)()){return/blackberry/i.test(_)}function Qt(_=(0,V.z$)()){return/webos/i.test(_)}function En(_=(0,V.z$)()){return/iphone|ipad|ipod/i.test(_)}function cn(_=(0,V.z$)()){return En(_)||rt(_)||Qt(_)||Ot(_)||/windows phone/i.test(_)||hr(_)}function Jr(_,f=[]){let g;switch(_){case"Browser":g=Yt((0,V.z$)());break;case"Worker":g=`${Yt((0,V.z$)())}-${_}`;break;default:g=_}const v=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${W.SDK_VERSION}/${v}`}class Lt{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const v=H=>new Promise((me,Fe)=>{try{me(f(H))}catch(tt){Fe(tt)}});v.onAbort=g,this.queue.push(v);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,c.Z)(function*(){if(g.auth.currentUser===f)return;const v=[];try{for(const M of g.queue)yield M(f),M.onAbort&&v.push(M.onAbort)}catch(M){v.reverse();for(const H of v)try{H()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:M.message})}})()}}class za{constructor(f,g,v){this.app=f,this.heartbeatServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ks(this),this.idTokenSubscription=new Ks(this),this.beforeStateQueue=new Lt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ae,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(f,g){var v=this;return g&&(this._popupRedirectResolver=re(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var M,H;if(!v._deleted&&(v.persistenceManager=yield Ir.create(v,f),!v._deleted)){if(null!==(M=v._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(H=v.currentUser)||void 0===H?void 0:H.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var v;const M=yield g.assertedPersistence.getCurrentUser();let H=M,me=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Fe=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,tt=H?._redirectEventId,at=yield g.tryRedirectSignIn(f);(!Fe||Fe===tt)&&at?.user&&(H=at.user,me=!0)}if(!H)return g.directlySetCurrentUser(null);if(!H._redirectEventId){if(me)try{yield g.beforeStateQueue.runMiddleware(H)}catch(Fe){H=M,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Fe))}return H?g.reloadAndSetCurrentUserOrClear(H):g.directlySetCurrentUser(null)}return P(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===H._redirectEventId?g.directlySetCurrentUser(H):g.reloadAndSetCurrentUserOrClear(H)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){try{yield Ur(f)}catch(v){if("auth/network-request-failed"!==v.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function De(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const v=f?(0,V.m9)(f):null;return v&&P(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(f,g=!1){var v=this;return(0,c.Z)(function*(){if(!v._deleted)return f&&P(v.tenantId===f.tenantId,v,"tenant-id-mismatch"),g||(yield v.beforeStateQueue.runMiddleware(f)),v.queue((0,c.Z)(function*(){yield v.directlySetCurrentUser(f),v.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(re(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new V.LL("auth","Firebase",f())}onAuthStateChanged(f,g,v){return this.registerStateListener(this.authStateSubscription,f,g,v)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,v){return this.registerStateListener(this.idTokenSubscription,f,g,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var v=this;return(0,c.Z)(function*(){const M=yield v.getOrInitRedirectPersistenceManager(g);return null===f?M.removeCurrentUser():M.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const v=f&&re(f)||g._popupRedirectResolver;P(v,g,"argument-error"),g.redirectPersistenceManager=yield Ir.create(g,[re(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var v,M;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===f?g._currentUser:(null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,v,M){if(this._deleted)return()=>{};const H="function"==typeof g?g:g.next.bind(g),me=this._isInitialized?Promise.resolve():this._initializationPromise;return P(me,this,"internal-error"),me.then(()=>H(this.currentUser)),"function"==typeof g?f.addObserver(g,v,M):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return P(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Jr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var g;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const M=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return M&&(v["X-Firebase-Client"]=M),v})()}}function gn(_){return(0,V.m9)(_)}class Ks{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,V.ne)(g=>this.observer=g)}get next(){return P(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function kn(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function vi(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Vr{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ne("not implemented")}_getIdTokenResponse(f){return ne("not implemented")}_linkToIdToken(f,g){return ne("not implemented")}_getReauthenticationResolver(f){return ne("not implemented")}}function rr(_,f){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.Z)(function*(_,f){return B(_,"POST","/v1/accounts:resetPassword",R(_,f))})).apply(this,arguments)}function wc(_,f){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,c.Z)(function*(_,f){return B(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ea(_,f){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,c.Z)(function*(_,f){return B(_,"POST","/v1/accounts:update",R(_,f))})).apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(_,f){return Ke(_,"POST","/v1/accounts:signInWithPassword",R(_,f))})).apply(this,arguments)}function Xr(_,f){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(_,f){return B(_,"POST","/v1/accounts:sendOobCode",R(_,f))})).apply(this,arguments)}function _s(_,f){return ir.apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*(_,f){return Xr(_,f)})).apply(this,arguments)}function pr(_,f){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(_,f){return Xr(_,f)})).apply(this,arguments)}function ta(_,f){return na.apply(this,arguments)}function na(){return(na=(0,c.Z)(function*(_,f){return Xr(_,f)})).apply(this,arguments)}function ci(_,f){return ra.apply(this,arguments)}function ra(){return(ra=(0,c.Z)(function*(_,f){return Xr(_,f)})).apply(this,arguments)}function Xl(){return(Xl=(0,c.Z)(function*(_,f){return Ke(_,"POST","/v1/accounts:signInWithEmailLink",R(_,f))})).apply(this,arguments)}function bc(){return(bc=(0,c.Z)(function*(_,f){return Ke(_,"POST","/v1/accounts:signInWithEmailLink",R(_,f))})).apply(this,arguments)}class eu extends Vr{constructor(f,g,v,M=null){super("password",v),this._email=f,this._password=g,this._tenantId=M}static _fromEmailAndPassword(f,g){return new eu(f,g,"password")}static _fromEmailAndCode(f,g,v=null){return new eu(f,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function ms(_,f){return Js.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Hf(_,f){return Xl.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:xe(f,"internal-error")}})()}_linkToIdToken(f,g){var v=this;return(0,c.Z)(function*(){switch(v.signInMethod){case"password":return wc(f,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Ld(_,f){return bc.apply(this,arguments)}(f,{idToken:g,email:v._email,oobCode:v._password});default:xe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function zn(_,f){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,c.Z)(function*(_,f){return Ke(_,"POST","/v1/accounts:signInWithIdp",R(_,f))})).apply(this,arguments)}class Ei extends Vr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Ei(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):xe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:M}=g,H=(0,ie._T)(g,["providerId","signInMethod"]);if(!v||!M)return null;const me=new Ei(v,M);return me.idToken=H.idToken||void 0,me.accessToken=H.accessToken||void 0,me.secret=H.secret,me.nonce=H.nonce,me.pendingToken=H.pendingToken||null,me}_getIdTokenResponse(f){return zn(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,zn(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,zn(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,V.xO)(g)}return f}}function Gf(_,f){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,c.Z)(function*(_,f){return B(_,"POST","/v1/accounts:sendVerificationCode",R(_,f))})).apply(this,arguments)}function zi(){return(zi=(0,c.Z)(function*(_,f){return Ke(_,"POST","/v1/accounts:signInWithPhoneNumber",R(_,f))})).apply(this,arguments)}function qa(){return(qa=(0,c.Z)(function*(_,f){const g=yield Ke(_,"POST","/v1/accounts:signInWithPhoneNumber",R(_,f));if(g.temporaryProof)throw Rt(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const zf={USER_NOT_FOUND:"user-not-found"};function Za(){return(Za=(0,c.Z)(function*(_,f){return Ke(_,"POST","/v1/accounts:signInWithPhoneNumber",R(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),zf)})).apply(this,arguments)}class wi extends Vr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new wi({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new wi({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function tu(_,f){return zi.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Wf(_,f){return qa.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ud(_,f){return Za.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:v,verificationCode:M}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:v,code:M}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:v,phoneNumber:M,temporaryProof:H}=f;return v||g||M||H?new wi({verificationId:g,verificationCode:v,phoneNumber:M,temporaryProof:H}):null}}class Ka{constructor(f){var g,v,M,H,me,Fe;const tt=(0,V.zd)((0,V.pd)(f)),at=null!==(g=tt.apiKey)&&void 0!==g?g:null,ft=null!==(v=tt.oobCode)&&void 0!==v?v:null,ct=function hm(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=tt.mode)&&void 0!==M?M:null);P(at&&ft&&ct,"argument-error"),this.apiKey=at,this.operation=ct,this.code=ft,this.continueUrl=null!==(H=tt.continueUrl)&&void 0!==H?H:null,this.languageCode=null!==(me=tt.languageCode)&&void 0!==me?me:null,this.tenantId=null!==(Fe=tt.tenantId)&&void 0!==Fe?Fe:null}static parseLink(f){const g=function Dc(_){const f=(0,V.zd)((0,V.pd)(_)).link,g=f?(0,V.zd)((0,V.pd)(f)).deep_link_id:null,v=(0,V.zd)((0,V.pd)(_)).deep_link_id;return(v?(0,V.zd)((0,V.pd)(v)).link:null)||v||g||f||_}(f);try{return new Ka(g)}catch{return null}}}let Ya=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,v){return eu._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const M=Ka.parseLink(v);return P(M,"argument-error"),eu._fromEmailAndCode(g,M.code,M.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Dr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Zi extends Dr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class eo extends Zi{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return P("providerId"in g&&"signInMethod"in g,"argument-error"),Ei._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return P(f.idToken||f.accessToken,"argument-error"),Ei._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return eo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return eo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:M,pendingToken:H,nonce:me,providerId:Fe}=f;if(!v&&!M&&!g&&!H||!Fe)return null;try{return new eo(Fe)._credential({idToken:g,accessToken:v,nonce:me,pendingToken:H})}catch{return null}}}let ia=(()=>{class _ extends Zi{constructor(){super("facebook.com")}static credential(g){return Ei._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),sa=(()=>{class _ extends Zi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return Ei._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:M}=g;if(!v&&!M)return null;try{return _.credential(v,M)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),nu=(()=>{class _ extends Zi{constructor(){super("github.com")}static credential(g){return Ei._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Ki extends Vr{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return zn(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,zn(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,zn(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:M,pendingToken:H}=g;return v&&M&&H&&v===M?new Ki(v,H):null}static _create(f,g){return new Ki(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class mn extends Dr{constructor(f){P(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return mn.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return mn.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Ki.fromJSON(f);return P(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:v}=f;if(!g||!v)return null;try{return Ki._create(v,g)}catch{return null}}}let Qa=(()=>{class _ extends Zi{constructor(){super("twitter.com")}static credential(g,v){return Ei._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:M}=g;if(!v||!M)return null;try{return _.credential(v,M)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Ja(_,f){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,c.Z)(function*(_,f){return Ke(_,"POST","/v1/accounts:signUp",R(_,f))})).apply(this,arguments)}class Tr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,v,M=!1){return(0,c.Z)(function*(){const H=yield Ct._fromIdTokenResponse(f,v,M),me=Vd(v);return new Tr({user:H,providerId:me,_tokenResponse:v,operationType:g})})()}static _forOperation(f,g,v){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const M=Vd(v);return new Tr({user:f,providerId:M,_tokenResponse:v,operationType:g})})()}}function Vd(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Tc(){return(Tc=(0,c.Z)(function*(_){var f;const g=gn(_);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new Tr({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield Ja(g,{returnSecureToken:!0}),M=yield Tr._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class to extends V.ZR{constructor(f,g,v,M){var H;super(g.code,g.message),this.operationType=v,this.user=M,Object.setPrototypeOf(this,to.prototype),this.customData={appName:f.name,tenantId:null!==(H=f.tenantId)&&void 0!==H?H:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,g,v,M){return new to(f,g,v,M)}}function Bd(_,f,g,v){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(H=>{throw"auth/multi-factor-auth-required"===H.code?to._fromErrorAndOperation(_,H,f,v):H})}function Jt(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function nl(){return(nl=(0,c.Z)(function*(_,f){const g=(0,V.m9)(_);yield vs(!0,g,f);const{providerUserInfo:v}=yield rn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),M=Jt(v||[]);return g.providerData=g.providerData.filter(H=>M.has(H.providerId)),M.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function _n(_,f){return oa.apply(this,arguments)}function oa(){return(oa=(0,c.Z)(function*(_,f,g=!1){const v=yield dr(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return Tr._forOperation(_,"link",v)})).apply(this,arguments)}function vs(_,f,g){return Br.apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(_,f,g){yield Ur(f);const M=!1===_?"provider-already-linked":"no-such-provider";P(Jt(f.providerData).has(g)===_,f.auth,M)})).apply(this,arguments)}function Sr(_,f){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,c.Z)(function*(_,f,g=!1){const{auth:v}=_,M="reauthenticate";try{const H=yield dr(_,Bd(v,M,f,_),g);P(H.idToken,v,"internal-error");const me=nt(H.idToken);P(me,v,"internal-error");const{sub:Fe}=me;return P(_.uid===Fe,v,"user-mismatch"),Tr._forOperation(_,M,H)}catch(H){throw"auth/user-not-found"===H?.code&&xe(v,"user-mismatch"),H}})).apply(this,arguments)}function no(_,f){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(_,f,g=!1){const v="signIn",M=yield Bd(_,v,f),H=yield Tr._fromIdTokenResponse(_,v,M);return g||(yield _._updateCurrentUser(H.user)),H})).apply(this,arguments)}function Zt(_,f){return rl.apply(this,arguments)}function rl(){return(rl=(0,c.Z)(function*(_,f){return no(gn(_),f)})).apply(this,arguments)}function ro(_,f){return ru.apply(this,arguments)}function ru(){return(ru=(0,c.Z)(function*(_,f){const g=(0,V.m9)(_);return yield vs(!1,g,f.providerId),_n(g,f)})).apply(this,arguments)}function gr(_,f){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,c.Z)(function*(_,f){return Sr((0,V.m9)(_),f)})).apply(this,arguments)}function io(_,f){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(_,f){return Ke(_,"POST","/v1/accounts:signInWithCustomToken",R(_,f))})).apply(this,arguments)}function aa(){return(aa=(0,c.Z)(function*(_,f){const g=gn(_),v=yield io(g,{token:f,returnSecureToken:!0}),M=yield Tr._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class Es{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?la._fromServerResponse(f,g):xe(f,"internal-error")}}class la extends Es{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new la(g)}}function ua(_,f,g){var v;P((null===(v=g.url)||void 0===v?void 0:v.length)>0,_,"invalid-continue-uri"),P(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(P(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(P(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function il(){return(il=(0,c.Z)(function*(_,f,g){const v=(0,V.m9)(_),M={requestType:"PASSWORD_RESET",email:f};g&&ua(v,M,g),yield pr(v,M)})).apply(this,arguments)}function He(){return(He=(0,c.Z)(function*(_,f,g){yield rr((0,V.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Xi(){return(Xi=(0,c.Z)(function*(_,f){yield ea((0,V.m9)(_),{oobCode:f})})).apply(this,arguments)}function so(_,f){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,c.Z)(function*(_,f){const g=(0,V.m9)(_),v=yield rr(g,{oobCode:f}),M=v.requestType;switch(P(M,g,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":P(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":P(v.mfaInfo,g,"internal-error");default:P(v.email,g,"internal-error")}let H=null;return v.mfaInfo&&(H=Es._fromServerResponse(gn(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:H},operation:M}})).apply(this,arguments)}function Ci(){return(Ci=(0,c.Z)(function*(_,f){const{data:g}=yield so((0,V.m9)(_),f);return g.email})).apply(this,arguments)}function oo(){return(oo=(0,c.Z)(function*(_,f,g){const v=gn(_),M=yield Ja(v,{returnSecureToken:!0,email:f,password:g}),H=yield Tr._fromIdTokenResponse(v,"signIn",M);return yield v._updateCurrentUser(H.user),H})).apply(this,arguments)}function su(){return(su=(0,c.Z)(function*(_,f,g){const v=(0,V.m9)(_),M={requestType:"EMAIL_SIGNIN",email:f};P(g.handleCodeInApp,v,"argument-error"),g&&ua(v,M,g),yield ta(v,M)})).apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(_,f,g){const v=(0,V.m9)(_),M=Ya.credentialWithLink(f,g||G());return P(M._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Zt(v,M)})).apply(this,arguments)}function Ii(_,f){return ao.apply(this,arguments)}function ao(){return(ao=(0,c.Z)(function*(_,f){return B(_,"POST","/v1/accounts:createAuthUri",R(_,f))})).apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(_,f){const v={identifier:f,continueUri:X()?G():"http://localhost"},{signinMethods:M}=yield Ii((0,V.m9)(_),v);return M||[]})).apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(_,f){const g=(0,V.m9)(_),M={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&ua(g.auth,M,f);const{email:H}=yield _s(g.auth,M);H!==_.email&&(yield _.reload())})).apply(this,arguments)}function au(){return(au=(0,c.Z)(function*(_,f,g){const v=(0,V.m9)(_),H={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&ua(v.auth,H,g);const{email:me}=yield ci(v.auth,H);me!==_.email&&(yield _.reload())})).apply(this,arguments)}function ha(_,f){return fa.apply(this,arguments)}function fa(){return(fa=(0,c.Z)(function*(_,f){return B(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const v=(0,V.m9)(_),H={idToken:yield v.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},me=yield dr(v,ha(v.auth,H));v.displayName=me.displayName||null,v.photoURL=me.photoUrl||null;const Fe=v.providerData.find(({providerId:tt})=>"password"===tt);Fe&&(Fe.displayName=v.displayName,Fe.photoURL=v.photoURL),yield v._updateTokensIfNecessary(me)})).apply(this,arguments)}function bs(_,f,g){return co.apply(this,arguments)}function co(){return(co=(0,c.Z)(function*(_,f,g){const{auth:v}=_,H={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(H.email=f),g&&(H.password=g);const me=yield dr(_,wc(v,H));yield _._updateTokensIfNecessary(me,!0)})).apply(this,arguments)}class ho{constructor(f,g,v={}){this.isNewUser=f,this.providerId=g,this.profile=v}}class lu extends ho{constructor(f,g,v,M){super(f,g,v),this.username=M}}class ll extends ho{constructor(f,g){super(f,"facebook.com",g)}}class uu extends lu{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Ac extends ho{constructor(f,g){super(f,"google.com",g)}}class Xn extends lu{constructor(f,g,v){super(f,"twitter.com",g,v)}}function ts(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function al(_){var f,g;if(!_)return null;const{providerId:v}=_,M=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},H=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!v&&_?.idToken){const me=null===(g=null===(f=nt(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(me)return new ho(H,"anonymous"!==me&&"custom"!==me?me:null)}if(!v)return null;switch(v){case"facebook.com":return new ll(H,M);case"github.com":return new uu(H,M);case"google.com":return new Ac(H,M);case"twitter.com":return new Xn(H,M,_.screenName||null);case"custom":case"anonymous":return new ho(H,null);default:return new ho(H,v,M)}}(g)}class Di{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new Di("enroll",f)}static _fromMfaPendingCredential(f){return new Di("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,v;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Di._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(v=f.multiFactorSession)&&void 0!==v&&v.idToken)return Di._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ma{constructor(f,g,v){this.session=f,this.hints=g,this.signInResolver=v}static _fromError(f,g){const v=gn(f),M=g.customData._serverResponse,H=(M.mfaInfo||[]).map(Fe=>Es._fromServerResponse(v,Fe));P(M.mfaPendingCredential,v,"internal-error");const me=Di._fromMfaPendingCredential(M.mfaPendingCredential);return new ma(me,H,function(){var Fe=(0,c.Z)(function*(tt){const at=yield tt._process(v,me);delete M.mfaInfo,delete M.mfaPendingCredential;const ft=Object.assign(Object.assign({},M),{idToken:at.idToken,refreshToken:at.refreshToken});switch(g.operationType){case"signIn":const ct=yield Tr._fromIdTokenResponse(v,g.operationType,ft);return yield v._updateCurrentUser(ct.user),ct;case"reauthenticate":return P(g.user,v,"internal-error"),Tr._forOperation(g.user,g.operationType,ft);default:xe(v,"internal-error")}});return function(tt){return Fe.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}function $d(_,f){return B(_,"POST","/v2/accounts/mfaEnrollment:start",R(_,f))}class Rc{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>Es._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new Rc(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Di._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var v=this;return(0,c.Z)(function*(){const M=f,H=yield v.getSession(),me=yield dr(v.user,M._process(v.user.auth,H,g));return yield v.user._updateTokensIfNecessary(me),v.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){const v="string"==typeof f?f:f.uid,M=yield g.user.getIdToken(),H=yield dr(g.user,function cl(_,f){return B(_,"POST","/v2/accounts/mfaEnrollment:withdraw",R(_,f))}(g.user.auth,{idToken:M,mfaEnrollmentId:v}));g.enrolledFactors=g.enrolledFactors.filter(({uid:me})=>me!==v),yield g.user._updateTokensIfNecessary(H);try{yield g.user.reload()}catch(me){if("auth/user-token-expired"!==me.code)throw me}})()}}const dl=new WeakMap,Cs="__sak";class Gd{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Cs,"1"),this.storage.removeItem(Cs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const po=(()=>{class _ extends Gd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Kf(){const _=(0,V.z$)();return Jn(_)||En(_)}()&&function Xo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=cn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const M=this.storage.getItem(v),H=this.localCache[v];M!==H&&g(v,H,M)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((Fe,tt,at)=>{this.notifyListeners(Fe,at)});const M=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Fe=this.storage.getItem(M);if(g.newValue!==Fe)null!==g.newValue?this.storage.setItem(M,g.newValue):this.storage.removeItem(M);else if(this.localCache[M]===g.newValue&&!v)return}const H=()=>{const Fe=this.storage.getItem(M);!v&&this.localCache[M]===Fe||this.notifyListeners(M,Fe)},me=this.storage.getItem(M);!function Wi(){return(0,V.w1)()&&10===document.documentMode}()||me===g.newValue||g.newValue===g.oldValue?H():setTimeout(H,10)}notifyListeners(g,v){this.localCache[g]=v;const M=this.listeners[g];if(M)for(const H of Array.from(M))H(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var M=()=>super._set,H=this;return(0,c.Z)(function*(){yield M().call(H,g,v),H.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,M=this;return(0,c.Z)(function*(){const H=yield v().call(M,g);return M.localCache[g]=JSON.stringify(H),H})()}_remove(g){var v=()=>super._remove,M=this;return(0,c.Z)(function*(){yield v().call(M,g),delete M.localCache[g]})()}}return _.type="LOCAL",_})(),jr=(()=>{class _ extends Gd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return _.type="SESSION",_})();let dn=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(H=>H.isListeningto(g));if(v)return v;const M=new _(g);return this.receivers.push(M),M}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,c.Z)(function*(){const M=g,{eventId:H,eventType:me,data:Fe}=M.data,tt=v.handlersMap[me];if(!tt?.size)return;M.ports[0].postMessage({status:"ack",eventId:H,eventType:me});const at=Array.from(tt).map(function(){var ct=(0,c.Z)(function*(er){return er(M.origin,Fe)});return function(er){return ct.apply(this,arguments)}}()),ft=yield function Oc(_){return Promise.all(_.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return f.apply(this,arguments)}}()))}(at);M.ports[0].postMessage({status:"done",eventId:H,eventType:me,response:ft})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Vn(_="",f=10){let g="";for(let v=0;v<f;v++)g+=Math.floor(10*Math.random());return _+g}class hu{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,v=50){var M=this;return(0,c.Z)(function*(){const H=typeof MessageChannel<"u"?new MessageChannel:null;if(!H)throw new Error("connection_unavailable");let me,Fe;return new Promise((tt,at)=>{const ft=Vn("",20);H.port1.start();const ct=setTimeout(()=>{at(new Error("unsupported_event"))},v);Fe={messageChannel:H,onMessage(er){const Rs=er;if(Rs.data.eventId===ft)switch(Rs.data.status){case"ack":clearTimeout(ct),me=setTimeout(()=>{at(new Error("timeout"))},3e3);break;case"done":clearTimeout(me),tt(Rs.data.response);break;default:clearTimeout(ct),clearTimeout(me),at(new Error("invalid_response"))}}},M.handlers.add(Fe),H.port1.addEventListener("message",Fe.onMessage),M.target.postMessage({eventType:f,eventId:ft,data:g},[H.port2])}).finally(()=>{Fe&&M.removeMessageHandler(Fe)})})()}}function hn(){return window}function Is(){return typeof hn().WorkerGlobalScope<"u"&&"function"==typeof hn().importScripts}function hl(){return(hl=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const on="firebaseLocalStorageDb",rs="firebaseLocalStorage",mo="fbase_key";class is{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function sr(_,f){return _.transaction([rs],f?"readwrite":"readonly").objectStore(rs)}function Ea(){const _=indexedDB.open(on,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const v=_.result;try{v.createObjectStore(rs,{keyPath:mo})}catch(M){g(M)}}),_.addEventListener("success",(0,c.Z)(function*(){const v=_.result;v.objectStoreNames.contains(rs)?f(v):(v.close(),yield function va(){const _=indexedDB.deleteDatabase(on);return new is(_).toPromise()}(),f(yield Ea()))}))})}function Hr(_,f,g){return _r.apply(this,arguments)}function _r(){return(_r=(0,c.Z)(function*(_,f,g){const v=sr(_,!0).put({[mo]:f,value:g});return new is(v).toPromise()})).apply(this,arguments)}function Ti(){return(Ti=(0,c.Z)(function*(_,f){const g=sr(_,!1).get(f),v=yield new is(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function fl(_,f){const g=sr(_,!0).delete(f);return new is(g).toPromise()}const yr=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield Ea()),g.db})()}_withRetries(g){var v=this;return(0,c.Z)(function*(){let M=0;for(;;)try{const H=yield v._openDb();return yield g(H)}catch(H){if(M++>3)throw H;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return Is()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=dn._getInstance(function Ds(){return Is()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,c.Z)(function*(M,H){return{keyProcessed:(yield g._poll()).includes(H.key)}});return function(M,H){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,c.Z)(function*(M,H){return["keyChanged"]});return function(M,H){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var v,M;if(g.activeServiceWorker=yield function fu(){return hl.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new hu(g.activeServiceWorker);const H=yield g.sender._send("ping",{},800);!H||(null===(v=H[0])||void 0===v?void 0:v.fulfilled)&&(null===(M=H[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,c.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function go(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Ea();return yield Hr(g,Cs,"1"),yield fl(g,Cs),!0}catch{}return!1})()}_withPendingWrite(g){var v=this;return(0,c.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var M=this;return(0,c.Z)(function*(){return M._withPendingWrite((0,c.Z)(function*(){return yield M._withRetries(H=>Hr(H,g,v)),M.localCache[g]=v,M.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,c.Z)(function*(){const M=yield v._withRetries(H=>function pu(_,f){return Ti.apply(this,arguments)}(H,g));return v.localCache[g]=M,M})()}_remove(g){var v=this;return(0,c.Z)(function*(){return v._withPendingWrite((0,c.Z)(function*(){return yield v._withRetries(M=>fl(M,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const v=yield g._withRetries(me=>{const Fe=sr(me,!1).getAll();return new is(Fe).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const M=[],H=new Set;for(const{fbase_key:me,value:Fe}of v)H.add(me),JSON.stringify(g.localCache[me])!==JSON.stringify(Fe)&&(g.notifyListeners(me,Fe),M.push(me));for(const me of Object.keys(g.localCache))g.localCache[me]&&!H.has(me)&&(g.notifyListeners(me,null),M.push(me));return M})()}notifyListeners(g,v){this.localCache[g]=v;const M=this.listeners[g];if(M)for(const H of Array.from(M))H(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Ca(_,f){return B(_,"POST","/v2/accounts/mfaSignIn:start",R(_,f))}function pl(){return(pl=(0,c.Z)(function*(_){return(yield B(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mu(_){return new Promise((f,g)=>{const v=document.createElement("script");v.setAttribute("src",_),v.onload=f,v.onerror=M=>{const H=we("internal-error");H.customData=M,g(H)},v.type="text/javascript",v.charset="UTF-8",function gl(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(v)})}function _o(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Ai=1e12;class Ts{constructor(f){this.auth=f,this.counter=Ai,this._widgets=new Map}render(f,g){const v=this.counter;return this._widgets.set(v,new _u(f,this.auth.name,g||{})),this.counter++,v}reset(f){var g;const v=f||Ai;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Ai))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var v;return null===(v=g._widgets.get(f||Ai))||void 0===v||v.execute(),""})()}}class _u{constructor(f,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof f?document.getElementById(f):f;P(M,"argument-error",{appName:g}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yo(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<_;v++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hi=_o("rcb"),Yf=new Le(3e4,6e4);class an{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!hn().grecaptcha}load(f,g=""){return P(function xc(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(hn().grecaptcha):new Promise((v,M)=>{const H=hn().setTimeout(()=>{M(we(f,"network-request-failed"))},Yf.get());hn()[hi]=()=>{hn().clearTimeout(H),delete hn()[hi];const Fe=hn().grecaptcha;if(!Fe)return void M(we(f,"internal-error"));const tt=Fe.render;Fe.render=(at,ft)=>{const ct=tt(at,ft);return this.counter++,ct},this.hostLanguage=g,v(Fe)},mu(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:hi,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(H),M(we(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!hn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class zd{load(f){return(0,c.Z)(function*(){return new Ts(f)})()}clearedOneInstance(){}}const yu="recaptcha",qd={theme:"light",type:"image"};class Nc{constructor(f,g=Object.assign({},qd),v){this.parameters=g,this.type=yu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gn(v),this.isInvisible="invisible"===this.parameters.size,P(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof f?document.getElementById(f):f;P(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new zd:new an,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(g)||new Promise(H=>{const me=Fe=>{!Fe||(f.tokenChangeListeners.delete(me),H(Fe))};f.tokenChangeListeners.add(me),f.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){P(!this.parameters.sitekey,this.auth,"argument-error"),P(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),P(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof f)f(g);else if("string"==typeof f){const v=hn()[f];"function"==typeof v&&v(g)}}}assertNotDestroyed(){P(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){P(X()&&!Is(),f.auth,"internal-error"),yield function Zd(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function di(_){return pl.apply(this,arguments)}(f.auth);P(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return P(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _l{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=wi._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function vu(){return(vu=(0,c.Z)(function*(_,f,g){const v=gn(_),M=yield yl(v,f,(0,V.m9)(g));return new _l(M,H=>Zt(v,H))})).apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(_,f,g){const v=(0,V.m9)(_);yield vs(!1,v,"phone");const M=yield yl(v.auth,f,(0,V.m9)(g));return new _l(M,H=>ro(v,H))})).apply(this,arguments)}function Mi(){return(Mi=(0,c.Z)(function*(_,f,g){const v=(0,V.m9)(_),M=yield yl(v.auth,f,(0,V.m9)(g));return new _l(M,H=>gr(v,H))})).apply(this,arguments)}function yl(_,f,g){return vl.apply(this,arguments)}function vl(){return(vl=(0,c.Z)(function*(_,f,g){var v;const M=yield g.verify();try{let H;if(P("string"==typeof M,_,"argument-error"),P(g.type===yu,_,"argument-error"),H="string"==typeof f?{phoneNumber:f}:f,"session"in H){const me=H.session;if("phoneNumber"in H)return P("enroll"===me.type,_,"internal-error"),(yield $d(_,{idToken:me.credential,phoneEnrollmentInfo:{phoneNumber:H.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{P("signin"===me.type,_,"internal-error");const Fe=(null===(v=H.multiFactorHint)||void 0===v?void 0:v.uid)||H.multiFactorUid;return P(Fe,_,"missing-multi-factor-info"),(yield Ca(_,{mfaPendingCredential:me.credential,mfaEnrollmentId:Fe,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:me}=yield Gf(_,{phoneNumber:H.phoneNumber,recaptchaToken:M});return me}}finally{g._reset()}})).apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(_,f){yield _n((0,V.m9)(_),f)})).apply(this,arguments)}let Ri=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=gn(g)}verifyPhoneNumber(g,v){return yl(this.auth,g,(0,V.m9)(v))}static credential(g,v){return wi._fromVerification(g,v)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:M}=g;return v&&M?wi._fromTokenResponse(v,M):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function ni(_,f){return f?re(f):(P(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class ss extends Vr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return zn(f,this._buildIdpRequest())}_linkToIdToken(f,g){return zn(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return zn(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Ss(_){return no(_.auth,new ss(_),_.bypassAuthState)}function wo(_){const{auth:f,user:g}=_;return P(g,f,"internal-error"),Sr(g,new ss(_),_.bypassAuthState)}function kc(_){return El.apply(this,arguments)}function El(){return(El=(0,c.Z)(function*(_){const{auth:f,user:g}=_;return P(g,f,"internal-error"),_n(g,new ss(_),_.bypassAuthState)})).apply(this,arguments)}class Jf{constructor(f,g,v,M,H=!1){this.auth=f,this.resolver=v,this.user=M,this.bypassAuthState=H,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(v,M){f.pendingPromise={resolve:v,reject:M};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(H){f.reject(H)}});return function(v,M){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:v,sessionId:M,postBody:H,tenantId:me,error:Fe,type:tt}=f;if(Fe)return void g.reject(Fe);const at={auth:g.auth,requestUri:v,sessionId:M,tenantId:me||void 0,postBody:H||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(tt)(at))}catch(ft){g.reject(ft)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Ss;case"linkViaPopup":case"linkViaRedirect":return kc;case"reauthViaPopup":case"reauthViaRedirect":return wo;default:xe(this.auth,"internal-error")}}resolve(f){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wl=new Le(2e3,1e4);function Pi(){return(Pi=(0,c.Z)(function*(_,f,g){const v=gn(_);Be(_,f,Dr);const M=ni(v,g);return new Fc(v,"signInViaPopup",f,M).executeNotNull()})).apply(this,arguments)}function Kd(){return(Kd=(0,c.Z)(function*(_,f,g){const v=(0,V.m9)(_);Be(v.auth,f,Dr);const M=ni(v.auth,g);return new Fc(v.auth,"reauthViaPopup",f,M,v).executeNotNull()})).apply(this,arguments)}function os(){return(os=(0,c.Z)(function*(_,f,g){const v=(0,V.m9)(_);Be(v.auth,f,Dr);const M=ni(v.auth,g);return new Fc(v.auth,"linkViaPopup",f,M,v).executeNotNull()})).apply(this,arguments)}let Fc=(()=>{class _ extends Jf{constructor(g,v,M,H,me){super(g,v,H,me),this.provider=M,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const v=yield g.execute();return P(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,c.Z)(function*(){K(1===g.filter.length,"Popup operations only handle one event");const v=Vn();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(M=>{g.reject(M)}),g.resolver._isIframeWebStorageSupported(g.auth,M=>{M||g.reject(we(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,M;this.pollId=null!==(M=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,wl.get())};g()}}return _.currentPopupAction=null,_})();const Ia=new Map;class Qd extends Jf{constructor(f,g,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let v=Ia.get(g.auth._key());if(!v){try{const H=(yield function Lc(_,f){return Da.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;v=()=>Promise.resolve(H)}catch(M){v=()=>Promise.reject(M)}Ia.set(g.auth._key(),v)}return g.bypassAuthState||Ia.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,v=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(v,f);if("unknown"!==f.type){if(f.eventId){const M=yield v.auth._redirectUserForId(f.eventId);if(M)return v.user=M,g().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Da(){return(Da=(0,c.Z)(function*(_,f){const g=te(f),v=F(_);if(!(yield v._isAvailable()))return!1;const M="true"===(yield v._get(g));return yield v._remove(g),M})).apply(this,arguments)}function Io(_,f){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,c.Z)(function*(_,f){return F(_)._set(te(f),"true")})).apply(this,arguments)}function T(_,f){Ia.set(_._key(),f)}function F(_){return re(_._redirectPersistence)}function te(_){return Gn("pendingRedirect",_.config.apiKey,_.name)}function qe(){return(qe=(0,c.Z)(function*(_,f,g){const v=gn(_);Be(_,f,Dr);const M=ni(v,g);return yield Io(M,v),M._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function It(){return(It=(0,c.Z)(function*(_,f,g){const v=(0,V.m9)(_);Be(v.auth,f,Dr);const M=ni(v.auth,g);yield Io(M,v.auth);const H=yield ri(v);return M._openRedirect(v.auth,f,"reauthViaRedirect",H)})).apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(_,f,g){const v=(0,V.m9)(_);Be(v.auth,f,Dr);const M=ni(v.auth,g);yield vs(!1,v,f.providerId),yield Io(M,v.auth);const H=yield ri(v);return M._openRedirect(v.auth,f,"linkViaRedirect",H)})).apply(this,arguments)}function Oi(){return(Oi=(0,c.Z)(function*(_,f){return yield gn(_)._initializationPromise,Do(_,f,!1)})).apply(this,arguments)}function Do(_,f){return To.apply(this,arguments)}function To(){return(To=(0,c.Z)(function*(_,f,g=!1){const v=gn(_),M=ni(v,f),me=yield new Qd(v,M,g).execute();return me&&!g&&(delete me.user._redirectEventId,yield v._persistUserIfCurrent(me.user),yield v._setRedirectUser(null,f)),me})).apply(this,arguments)}function ri(_){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(_){const f=Vn(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class bl{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(g=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function wu(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uc(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var v;if(f.error&&!Uc(f)){const M=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(we(this.auth,M))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const v=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cl(f))}saveEventToCache(f){this.cachedEventUids.add(Cl(f)),this.lastProcessedEventTime=Date.now()}}function Cl(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function Uc({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function Il(_){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,c.Z)(function*(_,f={}){return B(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Jd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mm=/^https?/;function So(){return(So=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Il(_);for(const g of f)try{if(Vc(g))return}catch{}xe(_,"unauthorized-domain")})).apply(this,arguments)}function Vc(_){const f=G(),{protocol:g,hostname:v}=new URL(f);if(_.startsWith("chrome-extension://")){const me=new URL(_);return""===me.hostname&&""===v?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&me.hostname===v}if(!mm.test(g))return!1;if(Jd.test(_))return v===_;const M=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(v)}const _m=new Le(3e4,6e4);function ep(){const _=hn().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Tl=null;function o0(_){return Tl=Tl||function ym(_){return new Promise((f,g)=>{var v,M,H;function me(){ep(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{ep(),g(we(_,"network-request-failed"))},timeout:_m.get()})}if(null!==(M=null===(v=hn().gapi)||void 0===v?void 0:v.iframes)&&void 0!==M&&M.Iframe)f(gapi.iframes.getContext());else{if(null===(H=hn().gapi)||void 0===H||!H.load){const Fe=_o("iframefcb");return hn()[Fe]=()=>{gapi.load?me():g(we(_,"network-request-failed"))},mu(`https://apis.google.com/js/api.js?onload=${Fe}`).catch(tt=>g(tt))}me()}}).catch(f=>{throw Tl=null,f})}(_),Tl}const tp=new Le(5e3,15e3),eh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},np=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bu(_){const f=_.config;P(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?Ye(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,v={apiKey:f.apiKey,appName:_.name,v:W.SDK_VERSION},M=np.get(_.config.apiHost);M&&(v.eid=M);const H=_._getFrameworks();return H.length&&(v.fw=H.join(",")),`${g}?${(0,V.xO)(v).slice(1)}`}function th(){return th=(0,c.Z)(function*(_){const f=yield o0(_),g=hn().gapi;return P(g,_,"internal-error"),f.open({where:document.body,url:bu(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eh,dontclear:!0},v=>new Promise(function(){var M=(0,c.Z)(function*(H,me){yield v.restyle({setHideOnLeave:!1});const Fe=we(_,"network-request-failed"),tt=hn().setTimeout(()=>{me(Fe)},tp.get());function at(){hn().clearTimeout(tt),H(v)}v.ping(at).then(at,()=>{me(Fe)})});return function(H,me){return M.apply(this,arguments)}}()))}),th.apply(this,arguments)}const nh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wm{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cu(_,f,g,v,M,H){P(_.config.authDomain,_,"auth-domain-config-required"),P(_.config.apiKey,_,"invalid-api-key");const me={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:v,v:W.SDK_VERSION,eventId:M};if(f instanceof Dr){f.setDefaultLanguage(_.languageCode),me.providerId=f.providerId||"",(0,V.xb)(f.getCustomParameters())||(me.customParameters=JSON.stringify(f.getCustomParameters()));for(const[tt,at]of Object.entries(H||{}))me[tt]=at}if(f instanceof Zi){const tt=f.getScopes().filter(at=>""!==at);tt.length>0&&(me.scopes=tt.join(","))}_.tenantId&&(me.tid=_.tenantId);const Fe=me;for(const tt of Object.keys(Fe))void 0===Fe[tt]&&delete Fe[tt];return`${function rp({config:_}){return _.emulator?Ye(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,V.xO)(Fe).slice(1)}`}const Iu="webStorageSupport";class Bc extends class bm{constructor(f){this.factorId=f}_process(f,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,v);case"signin":return this._finalizeSignIn(f,g.credential);default:return ne("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Bc(f)}_finalizeEnroll(f,g,v){return function ns(_,f){return B(_,"POST","/v2/accounts/mfaEnrollment:finalize",R(_,f))}(f,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function In(_,f){return B(_,"POST","/v2/accounts/mfaSignIn:finalize",R(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Cm=(()=>{class _{constructor(){}static assertion(g){return Bc._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var Im="@firebase/auth";class Sl{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(v=>{var M;f((null===(M=v)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){P(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ao(){return window}function jc(){return(jc=(0,c.Z)(function*(_,f,g){var v;const{BuildInfo:M}=Ao();K(f.sessionId,"AuthEvent did not contain a session ID");const H=yield Tu(f.sessionId),me={};return En()?me.ibi=M.packageName:rt()?me.apn=M.packageName:xe(_,"operation-not-supported-in-this-environment"),M.displayName&&(me.appDisplayName=M.displayName),me.sessionId=H,Cu(_,g,f.type,void 0,null!==(v=f.eventId)&&void 0!==v?v:void 0,me)})).apply(this,arguments)}function uh(){return(uh=(0,c.Z)(function*(_){const{BuildInfo:f}=Ao(),g={};En()?g.iosBundleId=f.packageName:rt()?g.androidPackageName=f.packageName:xe(_,"operation-not-supported-in-this-environment"),yield Il(_,g)})).apply(this,arguments)}function Hc(){return(Hc=(0,c.Z)(function*(_,f,g){const{cordova:v}=Ao();let M=()=>{};try{yield new Promise((H,me)=>{let Fe=null;function tt(){var ct;H();const er=null===(ct=v.plugins.browsertab)||void 0===ct?void 0:ct.close;"function"==typeof er&&er(),"function"==typeof g?.close&&g.close()}function at(){Fe||(Fe=window.setTimeout(()=>{me(we(_,"redirect-cancelled-by-user"))},2e3))}function ft(){"visible"===document?.visibilityState&&at()}f.addPassiveListener(tt),document.addEventListener("resume",at,!1),rt()&&document.addEventListener("visibilitychange",ft,!1),M=()=>{f.removePassiveListener(tt),document.removeEventListener("resume",at,!1),document.removeEventListener("visibilitychange",ft,!1),Fe&&window.clearTimeout(Fe)}})}finally{M()}})).apply(this,arguments)}function Tu(_){return Su.apply(this,arguments)}function Su(){return(Su=(0,c.Z)(function*(_){const f=as(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function as(_){if(K(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let v=0;v<_.length;v++)g[v]=_.charCodeAt(v);return g}!function Dm(_){(0,W._registerComponent)(new j.wA("auth",(f,{options:g})=>{const v=f.getProvider("app").getImmediate(),M=f.getProvider("heartbeat"),{apiKey:H,authDomain:me}=v.options;return((Fe,tt)=>{P(H&&!H.includes(":"),"invalid-api-key",{appName:Fe.name}),P(!me?.includes(":"),"argument-error",{appName:Fe.name});const at={apiKey:H,authDomain:me,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jr(_)},ft=new za(Fe,tt,at);return function b(_,f){const g=f?.persistence||[],v=(Array.isArray(g)?g:[g]).map(re);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(v,f?.popupRedirectResolver)}(ft,g),ft})(v,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,v)=>{f.getProvider("auth-internal").initialize()})),(0,W._registerComponent)(new j.wA("auth-internal",f=>{const g=gn(f.getProvider("auth").getImmediate());return new Sl(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,W.registerVersion)(Im,"0.20.2",function ah(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,W.registerVersion)(Im,"0.20.2","esm2017")}("Browser");class op extends bl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Mm(_){return dh.apply(this,arguments)}function dh(){return(dh=(0,c.Z)(function*(_){const f=yield Aa()._get(Au(_));return f&&(yield Aa()._remove(Au(_))),f})).apply(this,arguments)}function lp(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const v=Math.floor(Math.random()*f.length);_.push(f.charAt(v))}return _.join("")}function Aa(){return re(po)}function Au(_){return Gn("authEvent",_.config.apiKey,_.name)}function Fi(_){if(!_?.includes("?"))return{};const[f,...g]=_.split("?");return(0,V.zd)(g.join("?"))}function hh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}function Mu(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function fh(_=(0,V.z$)()){return!("file:"!==Mu()&&"ionic:"!==Mu()&&"capacitor:"!==Mu()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function mh(){try{const _=self.localStorage,f=Vn();if(_)return _.setItem(f,"1"),_.removeItem(f),!function Nm(_=(0,V.z$)()){return function ph(){return(0,V.w1)()&&11===document?.documentMode}()||function gh(_=(0,V.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,V.hl)()}catch{return hp()&&(0,V.hl)()}return!1}function hp(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function fp(){return(function On(){return"http:"===Mu()||"https:"===Mu()}()||(0,V.ru)()||fh())&&!function dp(){return(0,V.b$)()||(0,V.UG)()}()&&mh()&&!hp()}function km(){return fh()&&typeof document<"u"}function pp(){return(pp=(0,c.Z)(function*(){return!!km()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Mr={LOCAL:"local",NONE:"none",SESSION:"session"},qc=P,_h="persistence";function gp(_){return mp.apply(this,arguments)}function mp(){return(mp=(0,c.Z)(function*(_){yield _._initializationPromise;const f=_p(),g=Gn(_h,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function _p(){var _;try{return(null===(_=function zc(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const d0=P;class As{constructor(){this.browserResolver=re(class Ni{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jr,this._completeRedirectFn=Do,this._overrideRedirectResult=T}_openPopup(f,g,v,M){var H=this;return(0,c.Z)(function*(){var me;K(null===(me=H.eventManagers[f._key()])||void 0===me?void 0:me.manager,"_initialize() not called before _openPopup()");const Fe=Cu(f,g,v,G(),M);return function a0(_,f,g,v=500,M=600){const H=Math.max((window.screen.availHeight-M)/2,0).toString(),me=Math.max((window.screen.availWidth-v)/2,0).toString();let Fe="";const tt=Object.assign(Object.assign({},nh),{width:v.toString(),height:M.toString(),top:H,left:me}),at=(0,V.z$)().toLowerCase();g&&(Fe=nr(at)?"_blank":g),Wn(at)&&(f=f||"http://localhost",tt.scrollbars="yes");const ft=Object.entries(tt).reduce((er,[Rs,Eh])=>`${er}${Rs}=${Eh},`,"");if(function Mn(_=(0,V.z$)()){var f;return En(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(at)&&"_self"!==Fe)return function rC(_,f){const g=document.createElement("a");g.href=_,g.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(f||"",Fe),new wm(null);const ct=window.open(f||"",Fe,ft);P(ct,_,"popup-blocked");try{ct.focus()}catch{}return new wm(ct)}(f,Fe,Vn())})()}_openRedirect(f,g,v,M){var H=this;return(0,c.Z)(function*(){return yield H._originValidation(f),function ya(_){hn().location.href=_}(Cu(f,g,v,G(),M)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:M,promise:H}=this.eventManagers[g];return M?Promise.resolve(M):(K(H,"If manager is not set, promise should be"),H)}const v=this.initAndGetManager(f);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const v=yield function Ta(_){return th.apply(this,arguments)}(f),M=new bl(f);return v.register("authEvent",H=>(P(H?.authEvent,f,"invalid-auth-event"),{status:M.onEvent(H.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:M},g.iframes[f._key()]=v,M})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Iu,{type:Iu},M=>{var H;const me=null===(H=M?.[0])||void 0===H?void 0:H[Iu];void 0!==me&&g(!!me),xe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Xf(_){return So.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return cn()||Jn()||En()}}),this.cordovaResolver=re(class up{constructor(){this._redirectPersistence=jr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Do,this._overrideRedirectResult=T}_initialize(f){var g=this;return(0,c.Z)(function*(){const v=f._key();let M=g.eventManagers.get(v);return M||(M=new op(f),g.eventManagers.set(v,M),g.attachCallbackListeners(f,M)),M})()}_openPopup(f){xe(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,v,M){var H=this;return(0,c.Z)(function*(){!function sp(_){var f,g,v,M,H,me,Fe,tt,at,ft;const ct=Ao();P("function"==typeof(null===(f=ct?.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),P(typeof(null===(g=ct?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),P("function"==typeof(null===(H=null===(M=null===(v=ct?.cordova)||void 0===v?void 0:v.plugins)||void 0===M?void 0:M.browsertab)||void 0===H?void 0:H.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),P("function"==typeof(null===(tt=null===(Fe=null===(me=ct?.cordova)||void 0===me?void 0:me.plugins)||void 0===Fe?void 0:Fe.browsertab)||void 0===tt?void 0:tt.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),P("function"==typeof(null===(ft=null===(at=ct?.cordova)||void 0===at?void 0:at.InAppBrowser)||void 0===ft?void 0:ft.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const me=yield H._initialize(f);yield me.initialized(),me.resetRedirect(),function I(){Ia.clear()}(),yield H._originValidation(f);const Fe=function $c(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:lp(),postBody:null,tenantId:_.tenantId,error:we(_,"no-auth-event")}}(f,v,M);yield function ap(_,f){return Aa()._set(Au(_),f)}(f,Fe);const tt=yield function ip(_,f,g){return jc.apply(this,arguments)}(f,Fe,g),at=yield function ch(_){const{cordova:f}=Ao();return new Promise(g=>{f.plugins.browsertab.isAvailable(v=>{let M=null;v?f.plugins.browsertab.openUrl(_):M=f.InAppBrowser.open(_,function Zs(_=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(M)})})}(tt);return function Am(_,f,g){return Hc.apply(this,arguments)}(f,me,at)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function lh(_){return uh.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:v,handleOpenURL:M,BuildInfo:H}=Ao(),me=setTimeout((0,c.Z)(function*(){yield Mm(f),g.onEvent(hh())}),500),Fe=function(){var ft=(0,c.Z)(function*(ct){clearTimeout(me);const er=yield Mm(f);let Rs=null;er&&ct?.url&&(Rs=function l0(_,f){var g,v;const M=function Pm(_){const f=Fi(_),g=f.link?decodeURIComponent(f.link):void 0,v=Fi(g).link,M=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Fi(M).link||M||v||g||_}(f);if(M.includes("/__/auth/callback")){const H=Fi(M),me=H.firebaseError?function Rm(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(H.firebaseError)):null,Fe=null===(v=null===(g=me?.code)||void 0===g?void 0:g.split("auth/"))||void 0===v?void 0:v[1],tt=Fe?we(Fe):null;return tt?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:tt,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:M,postBody:null}}return null}(er,ct.url)),g.onEvent(Rs||hh())});return function(er){return ft.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,Fe);const tt=M,at=`${H.packageName.toLowerCase()}://`;Ao().handleOpenURL=function(){var ft=(0,c.Z)(function*(ct){if(ct.toLowerCase().startsWith(at)&&Fe({url:ct}),"function"==typeof tt)try{tt(ct)}catch(er){console.error(er)}});return function(ct){return ft.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=jr,this._completeRedirectFn=Do,this._overrideRedirectResult=T}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,v,M){var H=this;return(0,c.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._openPopup(f,g,v,M)})()}_openRedirect(f,g,v,M){var H=this;return(0,c.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._openRedirect(f,g,v,M)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return km()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return d0(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function u0(){return pp.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function yp(_){return _.unwrap()}function yh(_){return Fm(_)}function Fm(_){const{_tokenResponse:f}=_ instanceof V.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof V.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Ri.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let v;switch(g){case"google.com":v=sa;break;case"facebook.com":v=ia;break;case"github.com":v=nu;break;case"twitter.com":v=Qa;break;default:const{oauthIdToken:M,oauthAccessToken:H,oauthTokenSecret:me,pendingToken:Fe,nonce:tt}=f;return H||me||M||Fe?Fe?g.startsWith("saml.")?Ki._create(g,Fe):Ei._fromParams({providerId:g,signInMethod:g,pendingToken:Fe,idToken:M,accessToken:H}):new eo(g).credential({idToken:M,accessToken:H,rawNonce:tt}):null}return _ instanceof V.ZR?v.credentialFromError(_):v.credentialFromResult(_)}function Rr(_,f){return f.catch(g=>{throw g instanceof V.ZR&&function vp(_,f){var g;const v=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new h0(_,function qn(_,f){var g;const v=(0,V.m9)(_),M=f;return P(f.customData.operationType,v,"argument-error"),P(null===(g=M.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),ma._fromError(v,M)}(_,f));else if(v){const M=Fm(f),H=f;M&&(H.credential=M,H.tenantId=v.tenantId||void 0,H.email=v.email||void 0,H.phoneNumber=v.phoneNumber||void 0)}}(_,g),g}).then(g=>{const M=g.user;return{operationType:g.operationType,credential:yh(g),additionalUserInfo:ts(g),user:wn.getOrCreate(M)}})}function Mo(_,f){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,c.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:v=>Rr(_,g.confirm(v))}})).apply(this,arguments)}class h0{constructor(f,g){this.resolver=g,this.auth=function Ms(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Rr(yp(this.auth),this.resolver.resolveSignIn(f))}}class wn{constructor(f){this._delegate=f,this.multiFactor=function _a(_){const f=(0,V.m9)(_);return dl.has(f)||dl.set(f,Rc._fromUser(f)),dl.get(f)}(f)}static getOrCreate(f){return wn.USER_MAP.has(f)||wn.USER_MAP.set(f,new wn(f)),wn.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return Rr(g.auth,ro(g._delegate,f))})()}linkWithPhoneNumber(f,g){var v=this;return(0,c.Z)(function*(){return Mo(v.auth,function Qf(_,f,g){return yn.apply(this,arguments)}(v._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return Rr(g.auth,function Yd(_,f,g){return os.apply(this,arguments)}(g._delegate,f,As))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield gp(gn(g.auth)),function gt(_,f,g){return function xt(_,f,g){return or.apply(this,arguments)}(_,f,g)}(g._delegate,f,As)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return Rr(g.auth,gr(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Mo(this.auth,function Eo(_,f,g){return Mi.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Rr(this.auth,function bo(_,f,g){return Kd.apply(this,arguments)}(this._delegate,f,As))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield gp(gn(g.auth)),function st(_,f,g){return function yt(_,f,g){return It.apply(this,arguments)}(_,f,g)}(g._delegate,f,As)})()}sendEmailVerification(f){return function ou(_,f){return lo.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function tl(_,f){return nl.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Hd(_,f){return bs((0,V.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function pa(_,f){return bs((0,V.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function en(_,f){return Pn.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function ol(_,f){return uo.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function Sc(_,f,g){return au.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}wn.USER_MAP=new WeakMap;const Ml=P;let Ep=(()=>{class _{constructor(g,v){if(this.app=g,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=g.options;Ml(M,"invalid-api-key",{appName:g.name}),Ml(M,"invalid-api-key",{appName:g.name});const H=typeof window<"u"?As:void 0;this._delegate=v.initialize({options:{persistence:Pr(M,g.name),popupRedirectResolver:H}}),this._delegate._updateErrorMap(J),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,v){!function gs(_,f,g){const v=gn(_);P(v._canInitEmulator,v,"emulator-config-failed"),P(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const M=!!g?.disableWarnings,H=kn(f),{host:me,port:Fe}=function Ys(_){const f=kn(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(v);if(M){const H=M[1];return{host:H,port:vi(v.substr(H.length+1))}}{const[H,me]=v.split(":");return{host:H,port:vi(me)}}}(f);v.config.emulator={url:`${H}//${me}${null===Fe?"":`:${Fe}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:me,port:Fe,protocol:H.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function fr(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,v)}applyActionCode(g){return function $t(_,f){return Xi.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return so(this._delegate,g)}confirmPasswordReset(g,v){return function iu(_,f,g){return He.apply(this,arguments)}(this._delegate,g,v)}createUserWithEmailAndPassword(g,v){var M=this;return(0,c.Z)(function*(){return Rr(M._delegate,function ei(_,f,g){return oo.apply(this,arguments)}(M._delegate,g,v))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function es(_,f){return ti.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function jd(_,f){return"EMAIL_SIGNIN"===Ka.parseLink(f)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){Ml(fp(),g._delegate,"operation-not-supported-in-this-environment");const v=yield function Zn(_,f){return Oi.apply(this,arguments)}(g._delegate,As);return v?Rr(g._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function cp(_,f){gn(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,v,M){const{next:H,error:me,complete:Fe}=vh(g,v,M);return this._delegate.onAuthStateChanged(H,me,Fe)}onIdTokenChanged(g,v,M){const{next:H,error:me,complete:Fe}=vh(g,v,M);return this._delegate.onIdTokenChanged(H,me,Fe)}sendSignInLinkToEmail(g,v){return function Zf(_,f,g){return su.apply(this,arguments)}(this._delegate,g,v)}sendPasswordResetEmail(g,v){return function ca(_,f,g){return il.apply(this,arguments)}(this._delegate,g,v||void 0)}setPersistence(g){var v=this;return(0,c.Z)(function*(){let M;switch(function Ru(_,f){qc(Object.values(Mr).includes(f),_,"invalid-persistence-type"),(0,V.b$)()?qc(f!==Mr.SESSION,_,"unsupported-persistence-type"):(0,V.UG)()?qc(f===Mr.NONE,_,"unsupported-persistence-type"):hp()?qc(f===Mr.NONE||f===Mr.LOCAL&&(0,V.hl)(),_,"unsupported-persistence-type"):qc(f===Mr.NONE||mh(),_,"unsupported-persistence-type")}(v._delegate,g),g){case Mr.SESSION:M=jr;break;case Mr.LOCAL:M=(yield re(yr)._isAvailable())?yr:po;break;case Mr.NONE:M=St;break;default:return xe("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Rr(this._delegate,function el(_){return Tc.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Rr(this._delegate,Zt(this._delegate,g))}signInWithCustomToken(g){return Rr(this._delegate,function Ji(_,f){return aa.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,v){return Rr(this._delegate,function sl(_,f,g){return Zt((0,V.m9)(_),Ya.credential(f,g))}(this._delegate,g,v))}signInWithEmailLink(g,v){return Rr(this._delegate,function da(_,f,g){return Ln.apply(this,arguments)}(this._delegate,g,v))}signInWithPhoneNumber(g,v){return Mo(this._delegate,function vo(_,f,g){return vu.apply(this,arguments)}(this._delegate,g,v))}signInWithPopup(g){var v=this;return(0,c.Z)(function*(){return Ml(fp(),v._delegate,"operation-not-supported-in-this-environment"),Rr(v._delegate,function Ar(_,f,g){return Pi.apply(this,arguments)}(v._delegate,g,As))})()}signInWithRedirect(g){var v=this;return(0,c.Z)(function*(){return Ml(fp(),v._delegate,"operation-not-supported-in-this-environment"),yield gp(v._delegate),function Ce(_,f,g){return function Ne(_,f,g){return qe.apply(this,arguments)}(_,f,g)}(v._delegate,g,As)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function ws(_,f){return Ci.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Mr,_})();function vh(_,f,g){let v=_;"function"!=typeof _&&({next:v,error:f,complete:g}=_);const M=v;return{next:me=>M(me&&wn.getOrCreate(me)),error:f,complete:g}}function Pr(_,f){const g=function c0(_,f){const g=_p();if(!g)return[];const v=Gn(_h,_,f);switch(g.getItem(v)){case Mr.NONE:return[St];case Mr.LOCAL:return[yr,jr];case Mr.SESSION:return[jr];default:return[]}}(_,f);if(typeof self<"u"&&!g.includes(yr)&&g.push(yr),typeof window<"u")for(const v of[po,jr])g.includes(v)||g.push(v);return g.includes(St)||g.push(St),g}class Rl{constructor(){this.providerId="phone",this._delegate=new Ri(yp(Q.Z.auth()))}static credential(f,g){return Ri.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Rl.PHONE_SIGN_IN_METHOD=Ri.PHONE_SIGN_IN_METHOD,Rl.PROVIDER_ID=Ri.PROVIDER_ID;const Zc=P;class Ou{constructor(f,g,v=Q.Z.app()){var M;Zc(null===(M=v.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Nc(f,g,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Kc(_){_.INTERNAL.registerComponent(new j.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),v=f.getProvider("auth");return new Ep(g,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ya,FacebookAuthProvider:ia,GithubAuthProvider:nu,GoogleAuthProvider:sa,OAuthProvider:eo,SAMLAuthProvider:mn,PhoneAuthProvider:Rl,PhoneMultiFactorGenerator:Cm,RecaptchaVerifier:Ou,TwitterAuthProvider:Qa,Auth:Ep,AuthCredential:Vr,Error:V.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.15")}(Q.Z)},9751:(Xe,be,x)=>{"use strict";x.d(be,{y:()=>Y});var c=x(930),Q=x(727),V=x(8822),W=x(9635),ie=x(2416),he=x(576),j=x(2806);let Y=(()=>{class ee{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const J=new ee;return J.source=this,J.operator=Re,J}subscribe(Re,J,q){const ae=function U(ee){return ee&&ee instanceof c.Lv||function O(ee){return ee&&(0,he.m)(ee.next)&&(0,he.m)(ee.error)&&(0,he.m)(ee.complete)}(ee)&&(0,Q.Nn)(ee)}(Re)?Re:new c.Hp(Re,J,q);return(0,j.x)(()=>{const{operator:_e,source:ke}=this;ae.add(_e?_e.call(ae,ke):ke?this._subscribe(ae):this._trySubscribe(ae))}),ae}_trySubscribe(Re){try{return this._subscribe(Re)}catch(J){Re.error(J)}}forEach(Re,J){return new(J=$(J))((q,ae)=>{const _e=new c.Hp({next:ke=>{try{Re(ke)}catch(Ge){ae(Ge),_e.unsubscribe()}},error:ae,complete:q});this.subscribe(_e)})}_subscribe(Re){var J;return null===(J=this.source)||void 0===J?void 0:J.subscribe(Re)}[V.L](){return this}pipe(...Re){return(0,W.U)(Re)(this)}toPromise(Re){return new(Re=$(Re))((J,q)=>{let ae;this.subscribe(_e=>ae=_e,_e=>q(_e),()=>J(ae))})}}return ee.create=Ae=>new ee(Ae),ee})();function $(ee){var Ae;return null!==(Ae=ee??ie.v.Promise)&&void 0!==Ae?Ae:Promise}},7579:(Xe,be,x)=>{"use strict";x.d(be,{x:()=>j});var c=x(9751),Q=x(727);const W=(0,x(3888).d)($=>function(){$(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=x(8737),he=x(2806);let j=(()=>{class $ extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const ee=new Y(this,this);return ee.operator=U,ee}_throwIfClosed(){if(this.closed)throw new W}next(U){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(U)}})}error(U){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:ee}=this;for(;ee.length;)ee.shift().error(U)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:ee,isStopped:Ae,observers:Re}=this;return ee||Ae?Q.Lc:(this.currentObservers=null,Re.push(U),new Q.w0(()=>{this.currentObservers=null,(0,ie.P)(Re,U)}))}_checkFinalizedStatuses(U){const{hasError:ee,thrownError:Ae,isStopped:Re}=this;ee?U.error(Ae):Re&&U.complete()}asObservable(){const U=new c.y;return U.source=this,U}}return $.create=(O,U)=>new Y(O,U),$})();class Y extends j{constructor(O,U){super(),this.destination=O,this.source=U}next(O){var U,ee;null===(ee=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===ee||ee.call(U,O)}error(O){var U,ee;null===(ee=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===ee||ee.call(U,O)}complete(){var O,U;null===(U=null===(O=this.destination)||void 0===O?void 0:O.complete)||void 0===U||U.call(O)}_subscribe(O){var U,ee;return null!==(ee=null===(U=this.source)||void 0===U?void 0:U.subscribe(O))&&void 0!==ee?ee:Q.Lc}}},930:(Xe,be,x)=>{"use strict";x.d(be,{Hp:()=>q,Lv:()=>ee});var c=x(576),Q=x(727),V=x(2416),W=x(7849),ie=x(5032);const he=$("C",void 0,void 0);function $(xe,we,Se){return{kind:xe,value:we,error:Se}}var O=x(3410),U=x(2806);class ee extends Q.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,Q.Nn)(we)&&we.add(this)):this.destination=Ge}static create(we,Se,Be){return new q(we,Se,Be)}next(we){this.isStopped?ke(function Y(xe){return $("N",xe,void 0)}(we),this):this._next(we)}error(we){this.isStopped?ke(function j(xe){return $("E",void 0,xe)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?ke(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ae=Function.prototype.bind;function Re(xe,we){return Ae.call(xe,we)}class J{constructor(we){this.partialObserver=we}next(we){const{partialObserver:Se}=this;if(Se.next)try{Se.next(we)}catch(Be){ae(Be)}}error(we){const{partialObserver:Se}=this;if(Se.error)try{Se.error(we)}catch(Be){ae(Be)}else ae(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(Se){ae(Se)}}}class q extends ee{constructor(we,Se,Be){let je;if(super(),(0,c.m)(we)||!we)je={next:we??void 0,error:Se??void 0,complete:Be??void 0};else{let P;this&&V.v.useDeprecatedNextContext?(P=Object.create(we),P.unsubscribe=()=>this.unsubscribe(),je={next:we.next&&Re(we.next,P),error:we.error&&Re(we.error,P),complete:we.complete&&Re(we.complete,P)}):je=we}this.destination=new J(je)}}function ae(xe){V.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(xe):(0,W.h)(xe)}function ke(xe,we){const{onStoppedNotification:Se}=V.v;Se&&O.z.setTimeout(()=>Se(xe,we))}const Ge={closed:!0,next:ie.Z,error:function _e(xe){throw xe},complete:ie.Z}},727:(Xe,be,x)=>{"use strict";x.d(be,{Lc:()=>he,w0:()=>ie,Nn:()=>j});var c=x(576);const V=(0,x(3888).d)($=>function(U){$(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((ee,Ae)=>`${Ae+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var W=x(8737);class ie{constructor(O){this.initialTeardown=O,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let O;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const Re of U)Re.remove(this);else U.remove(this);const{initialTeardown:ee}=this;if((0,c.m)(ee))try{ee()}catch(Re){O=Re instanceof V?Re.errors:[Re]}const{_finalizers:Ae}=this;if(Ae){this._finalizers=null;for(const Re of Ae)try{Y(Re)}catch(J){O=O??[],J instanceof V?O=[...O,...J.errors]:O.push(J)}}if(O)throw new V(O)}}add(O){var U;if(O&&O!==this)if(this.closed)Y(O);else{if(O instanceof ie){if(O.closed||O._hasParent(this))return;O._addParent(this)}(this._finalizers=null!==(U=this._finalizers)&&void 0!==U?U:[]).push(O)}}_hasParent(O){const{_parentage:U}=this;return U===O||Array.isArray(U)&&U.includes(O)}_addParent(O){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(O),U):U?[U,O]:O}_removeParent(O){const{_parentage:U}=this;U===O?this._parentage=null:Array.isArray(U)&&(0,W.P)(U,O)}remove(O){const{_finalizers:U}=this;U&&(0,W.P)(U,O),O instanceof ie&&O._removeParent(this)}}ie.EMPTY=(()=>{const $=new ie;return $.closed=!0,$})();const he=ie.EMPTY;function j($){return $ instanceof ie||$&&"closed"in $&&(0,c.m)($.remove)&&(0,c.m)($.add)&&(0,c.m)($.unsubscribe)}function Y($){(0,c.m)($)?$():$.unsubscribe()}},2416:(Xe,be,x)=>{"use strict";x.d(be,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Xe,be,x)=>{"use strict";x.d(be,{E:()=>Q});const Q=new(x(9751).y)(ie=>ie.complete())},8996:(Xe,be,x)=>{"use strict";x.d(be,{D:()=>we});var c=x(8421),Q=x(5363),V=x(9468),he=x(9751),Y=x(2202),$=x(576),O=x(9672);function ee(Se,Be){if(!Se)throw new Error("Iterable cannot be null");return new he.y(je=>{(0,O.f)(je,Be,()=>{const P=Se[Symbol.asyncIterator]();(0,O.f)(je,Be,()=>{P.next().then(ne=>{ne.done?je.complete():je.next(ne.value)})},0,!0)})})}var Ae=x(3670),Re=x(8239),J=x(1144),q=x(6495),ae=x(2206),_e=x(4532),ke=x(3260);function we(Se,Be){return Be?function xe(Se,Be){if(null!=Se){if((0,Ae.c)(Se))return function W(Se,Be){return(0,c.Xf)(Se).pipe((0,V.R)(Be),(0,Q.Q)(Be))}(Se,Be);if((0,J.z)(Se))return function j(Se,Be){return new he.y(je=>{let P=0;return Be.schedule(function(){P===Se.length?je.complete():(je.next(Se[P++]),je.closed||this.schedule())})})}(Se,Be);if((0,Re.t)(Se))return function ie(Se,Be){return(0,c.Xf)(Se).pipe((0,V.R)(Be),(0,Q.Q)(Be))}(Se,Be);if((0,ae.D)(Se))return ee(Se,Be);if((0,q.T)(Se))return function U(Se,Be){return new he.y(je=>{let P;return(0,O.f)(je,Be,()=>{P=Se[Y.h](),(0,O.f)(je,Be,()=>{let ne,K;try{({value:ne,done:K}=P.next())}catch(se){return void je.error(se)}K?je.complete():je.next(ne)},0,!0)}),()=>(0,$.m)(P?.return)&&P.return()})}(Se,Be);if((0,ke.L)(Se))return function Ge(Se,Be){return ee((0,ke.Q)(Se),Be)}(Se,Be)}throw(0,_e.z)(Se)}(Se,Be):(0,c.Xf)(Se)}},8421:(Xe,be,x)=>{"use strict";x.d(be,{Xf:()=>Ae});var c=x(655),Q=x(1144),V=x(8239),W=x(9751),ie=x(3670),he=x(2206),j=x(4532),Y=x(6495),$=x(3260),O=x(576),U=x(7849),ee=x(8822);function Ae(xe){if(xe instanceof W.y)return xe;if(null!=xe){if((0,ie.c)(xe))return function Re(xe){return new W.y(we=>{const Se=xe[ee.L]();if((0,O.m)(Se.subscribe))return Se.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,Q.z)(xe))return function J(xe){return new W.y(we=>{for(let Se=0;Se<xe.length&&!we.closed;Se++)we.next(xe[Se]);we.complete()})}(xe);if((0,V.t)(xe))return function q(xe){return new W.y(we=>{xe.then(Se=>{we.closed||(we.next(Se),we.complete())},Se=>we.error(Se)).then(null,U.h)})}(xe);if((0,he.D)(xe))return _e(xe);if((0,Y.T)(xe))return function ae(xe){return new W.y(we=>{for(const Se of xe)if(we.next(Se),we.closed)return;we.complete()})}(xe);if((0,$.L)(xe))return function ke(xe){return _e((0,$.Q)(xe))}(xe)}throw(0,j.z)(xe)}function _e(xe){return new W.y(we=>{(function Ge(xe,we){var Se,Be,je,P;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Se=(0,c.KL)(xe);!(Be=yield Se.next()).done;)if(we.next(Be.value),we.closed)return}catch(ne){je={error:ne}}finally{try{Be&&!Be.done&&(P=Se.return)&&(yield P.call(Se))}finally{if(je)throw je.error}}we.complete()})})(xe,we).catch(Se=>we.error(Se))})}},6451:(Xe,be,x)=>{"use strict";x.d(be,{T:()=>he});var c=x(8189),Q=x(8421),V=x(515),W=x(7669),ie=x(8996);function he(...j){const Y=(0,W.yG)(j),$=(0,W._6)(j,1/0),O=j;return O.length?1===O.length?(0,Q.Xf)(O[0]):(0,c.J)($)((0,ie.D)(O,Y)):V.E}},5403:(Xe,be,x)=>{"use strict";x.d(be,{x:()=>Q});var c=x(930);function Q(W,ie,he,j,Y){return new V(W,ie,he,j,Y)}class V extends c.Lv{constructor(ie,he,j,Y,$,O){super(ie),this.onFinalize=$,this.shouldUnsubscribe=O,this._next=he?function(U){try{he(U)}catch(ee){ie.error(ee)}}:super._next,this._error=Y?function(U){try{Y(U)}catch(ee){ie.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=j?function(){try{j()}catch(U){ie.error(U)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(Xe,be,x)=>{"use strict";x.d(be,{U:()=>V});var c=x(4482),Q=x(5403);function V(W,ie){return(0,c.e)((he,j)=>{let Y=0;he.subscribe((0,Q.x)(j,$=>{j.next(W.call(ie,$,Y++))}))})}},8189:(Xe,be,x)=>{"use strict";x.d(be,{J:()=>V});var c=x(5577),Q=x(4671);function V(W=1/0){return(0,c.z)(Q.y,W)}},5577:(Xe,be,x)=>{"use strict";x.d(be,{z:()=>Y});var c=x(4004),Q=x(8421),V=x(4482),W=x(9672),ie=x(5403),j=x(576);function Y($,O,U=1/0){return(0,j.m)(O)?Y((ee,Ae)=>(0,c.U)((Re,J)=>O(ee,Re,Ae,J))((0,Q.Xf)($(ee,Ae))),U):("number"==typeof O&&(U=O),(0,V.e)((ee,Ae)=>function he($,O,U,ee,Ae,Re,J,q){const ae=[];let _e=0,ke=0,Ge=!1;const xe=()=>{Ge&&!ae.length&&!_e&&O.complete()},we=Be=>_e<ee?Se(Be):ae.push(Be),Se=Be=>{Re&&O.next(Be),_e++;let je=!1;(0,Q.Xf)(U(Be,ke++)).subscribe((0,ie.x)(O,P=>{Ae?.(P),Re?we(P):O.next(P)},()=>{je=!0},void 0,()=>{if(je)try{for(_e--;ae.length&&_e<ee;){const P=ae.shift();J?(0,W.f)(O,J,()=>Se(P)):Se(P)}xe()}catch(P){O.error(P)}}))};return $.subscribe((0,ie.x)(O,we,()=>{Ge=!0,xe()})),()=>{q?.()}}(ee,Ae,$,U)))}},5363:(Xe,be,x)=>{"use strict";x.d(be,{Q:()=>W});var c=x(9672),Q=x(4482),V=x(5403);function W(ie,he=0){return(0,Q.e)((j,Y)=>{j.subscribe((0,V.x)(Y,$=>(0,c.f)(Y,ie,()=>Y.next($),he),()=>(0,c.f)(Y,ie,()=>Y.complete(),he),$=>(0,c.f)(Y,ie,()=>Y.error($),he)))})}},3099:(Xe,be,x)=>{"use strict";x.d(be,{B:()=>he});var c=x(8996),Q=x(5698),V=x(7579),W=x(930),ie=x(4482);function he(Y={}){const{connector:$=(()=>new V.x),resetOnError:O=!0,resetOnComplete:U=!0,resetOnRefCountZero:ee=!0}=Y;return Ae=>{let Re=null,J=null,q=null,ae=0,_e=!1,ke=!1;const Ge=()=>{J?.unsubscribe(),J=null},xe=()=>{Ge(),Re=q=null,_e=ke=!1},we=()=>{const Se=Re;xe(),Se?.unsubscribe()};return(0,ie.e)((Se,Be)=>{ae++,!ke&&!_e&&Ge();const je=q=q??$();Be.add(()=>{ae--,0===ae&&!ke&&!_e&&(J=j(we,ee))}),je.subscribe(Be),Re||(Re=new W.Hp({next:P=>je.next(P),error:P=>{ke=!0,Ge(),J=j(xe,O,P),je.error(P)},complete:()=>{_e=!0,Ge(),J=j(xe,U),je.complete()}}),(0,c.D)(Se).subscribe(Re))})(Ae)}}function j(Y,$,...O){return!0===$?(Y(),null):!1===$?null:$(...O).pipe((0,Q.q)(1)).subscribe(()=>Y())}},9468:(Xe,be,x)=>{"use strict";x.d(be,{R:()=>Q});var c=x(4482);function Q(V,W=0){return(0,c.e)((ie,he)=>{he.add(V.schedule(()=>ie.subscribe(he),W))})}},5698:(Xe,be,x)=>{"use strict";x.d(be,{q:()=>W});var c=x(515),Q=x(4482),V=x(5403);function W(ie){return ie<=0?()=>c.E:(0,Q.e)((he,j)=>{let Y=0;he.subscribe((0,V.x)(j,$=>{++Y<=ie&&(j.next($),ie<=Y&&j.complete())}))})}},8505:(Xe,be,x)=>{"use strict";x.d(be,{b:()=>ie});var c=x(576),Q=x(4482),V=x(5403),W=x(4671);function ie(he,j,Y){const $=(0,c.m)(he)||j||Y?{next:he,error:j,complete:Y}:he;return $?(0,Q.e)((O,U)=>{var ee;null===(ee=$.subscribe)||void 0===ee||ee.call($);let Ae=!0;O.subscribe((0,V.x)(U,Re=>{var J;null===(J=$.next)||void 0===J||J.call($,Re),U.next(Re)},()=>{var Re;Ae=!1,null===(Re=$.complete)||void 0===Re||Re.call($),U.complete()},Re=>{var J;Ae=!1,null===(J=$.error)||void 0===J||J.call($,Re),U.error(Re)},()=>{var Re,J;Ae&&(null===(Re=$.unsubscribe)||void 0===Re||Re.call($)),null===(J=$.finalize)||void 0===J||J.call($)}))}):W.y}},4408:(Xe,be,x)=>{"use strict";x.d(be,{o:()=>ie});var c=x(727);class Q extends c.w0{constructor(j,Y){super()}schedule(j,Y=0){return this}}const V={setInterval(he,j,...Y){const{delegate:$}=V;return $?.setInterval?$.setInterval(he,j,...Y):setInterval(he,j,...Y)},clearInterval(he){const{delegate:j}=V;return(j?.clearInterval||clearInterval)(he)},delegate:void 0};var W=x(8737);class ie extends Q{constructor(j,Y){super(j,Y),this.scheduler=j,this.work=Y,this.pending=!1}schedule(j,Y=0){if(this.closed)return this;this.state=j;const $=this.id,O=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(O,$,Y)),this.pending=!0,this.delay=Y,this.id=this.id||this.requestAsyncId(O,this.id,Y),this}requestAsyncId(j,Y,$=0){return V.setInterval(j.flush.bind(j,this),$)}recycleAsyncId(j,Y,$=0){if(null!=$&&this.delay===$&&!1===this.pending)return Y;V.clearInterval(Y)}execute(j,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $=this._execute(j,Y);if($)return $;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(j,Y){let O,$=!1;try{this.work(j)}catch(U){$=!0,O=U||new Error("Scheduled action threw falsy error")}if($)return this.unsubscribe(),O}unsubscribe(){if(!this.closed){const{id:j,scheduler:Y}=this,{actions:$}=Y;this.work=this.state=this.scheduler=null,this.pending=!1,(0,W.P)($,this),null!=j&&(this.id=this.recycleAsyncId(Y,j,null)),this.delay=null,super.unsubscribe()}}}},7565:(Xe,be,x)=>{"use strict";x.d(be,{v:()=>V});var c=x(6063);class Q{constructor(ie,he=Q.now){this.schedulerActionCtor=ie,this.now=he}schedule(ie,he=0,j){return new this.schedulerActionCtor(this,ie).schedule(j,he)}}Q.now=c.l.now;class V extends Q{constructor(ie,he=Q.now){super(ie,he),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ie){const{actions:he}=this;if(this._active)return void he.push(ie);let j;this._active=!0;do{if(j=ie.execute(ie.state,ie.delay))break}while(ie=he.shift());if(this._active=!1,j){for(;ie=he.shift();)ie.unsubscribe();throw j}}}},4986:(Xe,be,x)=>{"use strict";x.d(be,{z:()=>V});var c=x(4408);const V=new(x(7565).v)(c.o)},6063:(Xe,be,x)=>{"use strict";x.d(be,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Xe,be,x)=>{"use strict";x.d(be,{z:()=>c});const c={setTimeout(Q,V,...W){const{delegate:ie}=c;return ie?.setTimeout?ie.setTimeout(Q,V,...W):setTimeout(Q,V,...W)},clearTimeout(Q){const{delegate:V}=c;return(V?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},2202:(Xe,be,x)=>{"use strict";x.d(be,{h:()=>Q});const Q=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Xe,be,x)=>{"use strict";x.d(be,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Xe,be,x)=>{"use strict";x.d(be,{_6:()=>he,jO:()=>W,yG:()=>ie});var c=x(576);function V(j){return j[j.length-1]}function W(j){return(0,c.m)(V(j))?j.pop():void 0}function ie(j){return function Q(j){return j&&(0,c.m)(j.schedule)}(V(j))?j.pop():void 0}function he(j,Y){return"number"==typeof V(j)?j.pop():Y}},8737:(Xe,be,x)=>{"use strict";function c(Q,V){if(Q){const W=Q.indexOf(V);0<=W&&Q.splice(W,1)}}x.d(be,{P:()=>c})},3888:(Xe,be,x)=>{"use strict";function c(Q){const W=Q(ie=>{Error.call(ie),ie.stack=(new Error).stack});return W.prototype=Object.create(Error.prototype),W.prototype.constructor=W,W}x.d(be,{d:()=>c})},2806:(Xe,be,x)=>{"use strict";x.d(be,{O:()=>W,x:()=>V});var c=x(2416);let Q=null;function V(ie){if(c.v.useDeprecatedSynchronousErrorHandling){const he=!Q;if(he&&(Q={errorThrown:!1,error:null}),ie(),he){const{errorThrown:j,error:Y}=Q;if(Q=null,j)throw Y}}else ie()}function W(ie){c.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=ie)}},9672:(Xe,be,x)=>{"use strict";function c(Q,V,W,ie=0,he=!1){const j=V.schedule(function(){W(),he?Q.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(Q.add(j),!he)return j}x.d(be,{f:()=>c})},4671:(Xe,be,x)=>{"use strict";function c(Q){return Q}x.d(be,{y:()=>c})},1144:(Xe,be,x)=>{"use strict";x.d(be,{z:()=>c});const c=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(Xe,be,x)=>{"use strict";x.d(be,{D:()=>Q});var c=x(576);function Q(V){return Symbol.asyncIterator&&(0,c.m)(V?.[Symbol.asyncIterator])}},576:(Xe,be,x)=>{"use strict";function c(Q){return"function"==typeof Q}x.d(be,{m:()=>c})},3670:(Xe,be,x)=>{"use strict";x.d(be,{c:()=>V});var c=x(8822),Q=x(576);function V(W){return(0,Q.m)(W[c.L])}},6495:(Xe,be,x)=>{"use strict";x.d(be,{T:()=>V});var c=x(2202),Q=x(576);function V(W){return(0,Q.m)(W?.[c.h])}},8239:(Xe,be,x)=>{"use strict";x.d(be,{t:()=>Q});var c=x(576);function Q(V){return(0,c.m)(V?.then)}},3260:(Xe,be,x)=>{"use strict";x.d(be,{L:()=>W,Q:()=>V});var c=x(655),Q=x(576);function V(ie){return(0,c.FC)(this,arguments,function*(){const j=ie.getReader();try{for(;;){const{value:Y,done:$}=yield(0,c.qq)(j.read());if($)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Y)}}finally{j.releaseLock()}})}function W(ie){return(0,Q.m)(ie?.getReader)}},4482:(Xe,be,x)=>{"use strict";x.d(be,{A:()=>Q,e:()=>V});var c=x(576);function Q(W){return(0,c.m)(W?.lift)}function V(W){return ie=>{if(Q(ie))return ie.lift(function(he){try{return W(he,this)}catch(j){this.error(j)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Xe,be,x)=>{"use strict";function c(){}x.d(be,{Z:()=>c})},9635:(Xe,be,x)=>{"use strict";x.d(be,{U:()=>V,z:()=>Q});var c=x(4671);function Q(...W){return V(W)}function V(W){return 0===W.length?c.y:1===W.length?W[0]:function(he){return W.reduce((j,Y)=>Y(j),he)}}},7849:(Xe,be,x)=>{"use strict";x.d(be,{h:()=>V});var c=x(2416),Q=x(3410);function V(W){Q.z.setTimeout(()=>{const{onUnhandledError:ie}=c.v;if(!ie)throw W;ie(W)})}},4532:(Xe,be,x)=>{"use strict";function c(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(be,{z:()=>c})},655:(Xe,be,x)=>{"use strict";function W(K,se){var re={};for(var Ie in K)Object.prototype.hasOwnProperty.call(K,Ie)&&se.indexOf(Ie)<0&&(re[Ie]=K[Ie]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(Ie=Object.getOwnPropertySymbols(K);b<Ie.length;b++)se.indexOf(Ie[b])<0&&Object.prototype.propertyIsEnumerable.call(K,Ie[b])&&(re[Ie[b]]=K[Ie[b]])}return re}function Y(K,se,re,Ie){return new(re||(re=Promise))(function(G,X){function ye(Le){try{De(Ie.next(Le))}catch(Ye){X(Ye)}}function Me(Le){try{De(Ie.throw(Le))}catch(Ye){X(Ye)}}function De(Le){Le.done?G(Le.value):function b(G){return G instanceof re?G:new re(function(X){X(G)})}(Le.value).then(ye,Me)}De((Ie=Ie.apply(K,se||[])).next())})}function ae(K){return this instanceof ae?(this.v=K,this):new ae(K)}function _e(K,se,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,Ie=re.apply(K,se||[]),G=[];return b={},X("next"),X("throw"),X("return"),b[Symbol.asyncIterator]=function(){return this},b;function X(Je){Ie[Je]&&(b[Je]=function(ze){return new Promise(function(S,R){G.push([Je,ze,S,R])>1||ye(Je,ze)})})}function ye(Je,ze){try{!function Me(Je){Je.value instanceof ae?Promise.resolve(Je.value.v).then(De,Le):Ye(G[0][2],Je)}(Ie[Je](ze))}catch(S){Ye(G[0][3],S)}}function De(Je){ye("next",Je)}function Le(Je){ye("throw",Je)}function Ye(Je,ze){Je(ze),G.shift(),G.length&&ye(G[0][0],G[0][1])}}function Ge(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,se=K[Symbol.asyncIterator];return se?se.call(K):(K=function ee(K){var se="function"==typeof Symbol&&Symbol.iterator,re=se&&K[se],Ie=0;if(re)return re.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&Ie>=K.length&&(K=void 0),{value:K&&K[Ie++],done:!K}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),re={},Ie("next"),Ie("throw"),Ie("return"),re[Symbol.asyncIterator]=function(){return this},re);function Ie(G){re[G]=K[G]&&function(X){return new Promise(function(ye,Me){!function b(G,X,ye,Me){Promise.resolve(Me).then(function(De){G({value:De,done:ye})},X)}(ye,Me,(X=K[G](X)).done,X.value)})}}}x.d(be,{FC:()=>_e,KL:()=>Ge,_T:()=>W,mG:()=>Y,qq:()=>ae})},4650:(Xe,be,x)=>{"use strict";x.d(be,{$8M:()=>ml,$Z:()=>Vp,AFp:()=>zl,ALo:()=>vf,AaK:()=>Y,BQk:()=>pg,CHM:()=>Xi,CRH:()=>Bg,CZH:()=>Wl,CqO:()=>ay,D6c:()=>nm,DdM:()=>Iw,EJc:()=>dc,EiD:()=>Ma,EpF:()=>pE,F4k:()=>qu,FYo:()=>yw,FiY:()=>xi,G48:()=>XD,GfV:()=>Ew,Gpc:()=>U,JOm:()=>Li,JVY:()=>Dm,KtG:()=>so,L6k:()=>Tm,LAX:()=>Sm,LFG:()=>gt,LSH:()=>ph,Lbi:()=>Tf,MAs:()=>fE,MMx:()=>Ed,NdJ:()=>gg,OlP:()=>an,Oqu:()=>my,PXZ:()=>hb,Q6J:()=>ry,QGY:()=>oy,QP$:()=>Wo,QbO:()=>qg,Qsj:()=>mD,R0b:()=>ar,RDi:()=>Tc,Rgc:()=>cr,SBq:()=>tc,Sil:()=>Af,Suo:()=>Fw,TTD:()=>Dr,TgZ:()=>cg,Tol:()=>zr,Udp:()=>hy,W1O:()=>sc,X6Q:()=>JD,XFs:()=>ut,Xpm:()=>le,Y36:()=>Oo,YKP:()=>Hy,YNc:()=>ug,Yjl:()=>Ir,Yz7:()=>ze,ZZ4:()=>Ov,_Bn:()=>By,_UZ:()=>hg,_Vd:()=>ec,_c5:()=>Ib,_uU:()=>gy,aQg:()=>Md,c2e:()=>Sf,cJS:()=>R,cg1:()=>Iy,d8E:()=>Cy,dDg:()=>GD,deG:()=>xc,dqk:()=>nt,eBb:()=>Ao,eFA:()=>bv,ekj:()=>fy,eoX:()=>yv,g9A:()=>Xw,h0i:()=>Ll,hGG:()=>tm,hM9:()=>Ul,hij:()=>nf,iGM:()=>kw,ifc:()=>zt,ip1:()=>Df,kL8:()=>HE,lG2:()=>Gn,lcZ:()=>ln,lqb:()=>ed,lri:()=>ab,mCW:()=>Tu,n5z:()=>pl,oAB:()=>Ct,oJD:()=>fh,oxw:()=>mE,pB0:()=>ip,q3G:()=>On,q4F:()=>Wy,qLn:()=>Ru,qOj:()=>iE,qZA:()=>dg,qzn:()=>Sl,rWj:()=>lb,sBO:()=>eT,sIi:()=>Kh,s_b:()=>Fg,soG:()=>cc,tBr:()=>lr,tb:()=>eb,tp0:()=>Cl,uIk:()=>lE,vHH:()=>J,vpe:()=>Hs,wAp:()=>bt,xi3:()=>tn,xp6:()=>b0,yhl:()=>ah,ynx:()=>fg,z2F:()=>hc,z3N:()=>ki,zSh:()=>i_,zs3:()=>Ui});var c=x(7579),Q=x(727),V=x(9751),W=x(6451),ie=x(3099);function he(i){for(let s in i)if(i[s]===he)return s;throw Error("Could not find renamed property on target object.")}function j(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function Y(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Y).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function $(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const O=he({__forward_ref__:he});function U(i){return i.__forward_ref__=U,i.toString=function(){return Y(this())},i}function ee(i){return Ae(i)?i():i}function Ae(i){return"function"==typeof i&&i.hasOwnProperty(O)&&i.__forward_ref__===U}class J extends Error{constructor(s,a){super(function q(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function ae(i){return"string"==typeof i?i:null==i?"":String(i)}function we(i,s){throw new J(-201,!1)}function Me(i,s){null==i&&function De(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function ze(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function R(i){return{providers:i.providers||[],imports:i.imports||[]}}function B(i){return ge(i,dt)||ge(i,Ht)}function ge(i,s){return i.hasOwnProperty(s)?i[s]:null}function Ke(i){return i&&(i.hasOwnProperty(Vt)||i.hasOwnProperty(Rt))?i[Vt]:null}const dt=he({\u0275prov:he}),Vt=he({\u0275inj:he}),Ht=he({ngInjectableDef:he}),Rt=he({ngInjectorDef:he});var ut=(()=>((ut=ut||{})[ut.Default=0]="Default",ut[ut.Host=1]="Host",ut[ut.Self=2]="Self",ut[ut.SkipSelf=4]="SkipSelf",ut[ut.Optional=8]="Optional",ut))();let Cn;function nn(i){const s=Cn;return Cn=i,s}function Fr(i,s,a){const l=B(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&ut.Optional?null:void 0!==s?s:void we(Y(i))}function Qn(i){return{toString:i}.toString()}var An=(()=>((An=An||{})[An.OnPush=0]="OnPush",An[An.Default=1]="Default",An))(),zt=(()=>{return(i=zt||(zt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",zt;var i})();const nt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Hn={},Pt=[],Qr=he({\u0275cmp:he}),$n=he({\u0275dir:he}),Ur=he({\u0275pipe:he}),de=he({\u0275mod:he}),ce=he({\u0275fac:he}),pe=he({__NG_ELEMENT_ID__:he});let Ve=0;function le(i){return Qn(()=>{const a=!0===i.standalone,l={},d={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===An.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||Pt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||zt.Emulated,id:"c"+Ve++,styles:i.styles||Pt,_:null,setInput:null,schemas:i.schemas||null,tView:null},p=i.dependencies,y=i.features;return d.inputs=St(i.inputs,l),d.outputs=St(i.outputs),y&&y.forEach(w=>w(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(Ze).filter(ot):null,d.pipeDefs=p?()=>("function"==typeof p?p():p).map(Jn).filter(ot):null,d})}function Ze(i){return Yt(i)||Wn(i)}function ot(i){return null!==i}const Et={};function Ct(i){return Qn(()=>{const s={type:i.type,bootstrap:i.bootstrap||Pt,declarations:i.declarations||Pt,imports:i.imports||Pt,exports:i.exports||Pt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Et[i.id]=i.type),s})}function St(i,s){if(null==i)return Hn;const a={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=l,s&&(s[d]=p)}return a}const Gn=le;function Ir(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Yt(i){return i[Qr]||null}function Wn(i){return i[$n]||null}function Jn(i){return i[Ur]||null}function nr(i,s){const a=i[de]||null;if(!a&&!0===s)throw new Error(`Type ${Y(i)} does not have '\u0275mod' property.`);return a}function ir(i){return Array.isArray(i)&&"object"==typeof i[1]}function pr(i){return Array.isArray(i)&&!0===i[1]}function Xs(i){return 0!=(8&i.flags)}function ta(i){return 2==(2&i.flags)}function na(i){return 1==(1&i.flags)}function ci(i){return null!==i.template}function ra(i){return 0!=(256&i[2])}function qi(i,s){return i.hasOwnProperty(ce)?i[ce]:null}class Ya{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Dr(){return Zi}function Zi(i){return i.type.prototype.ngOnChanges&&(i.setInput=ia),eo}function eo(){const i=nu(this),s=i?.current;if(s){const a=i.previous;if(a===Hn)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function ia(i,s,a,l){const d=nu(i)||function qf(i,s){return i[sa]=s}(i,{previous:Hn,current:null}),p=d.current||(d.current={}),y=d.previous,w=this.declaredInputs[a],C=y[w];p[w]=new Ya(C&&C.currentValue,s,y===Hn),i[l]=s}Dr.ngInherit=!0;const sa="__ngSimpleChanges__";function nu(i){return i[sa]||null}let el;function Tc(i){el=i}function to(){return void 0!==el?el:typeof document<"u"?document:void 0}function Jt(i){return!!i.listen}const tl={createRenderer:(i,s)=>to()};function _n(i){for(;Array.isArray(i);)i=i[0];return i}function Br(i,s){return _n(s[i])}function Sr(i,s){return _n(s[i.index])}function no(i,s){return i.data[s]}function bi(i,s){return i[s]}function Zt(i,s){const a=s[i];return ir(a)?a:a[0]}function rl(i){return 4==(4&i[2])}function ro(i){return 64==(64&i[2])}function gr(i,s){return null==s?null:i[s]}function Qi(i){i[18]=0}function io(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const wt={lFrame:al(null),bindingsEnabled:!0};function ca(){return wt.bindingsEnabled}function He(){return wt.lFrame.lView}function $t(){return wt.lFrame.tView}function Xi(i){return wt.lFrame.contextLView=i,i[8]}function so(i){return wt.lFrame.contextLView=null,i}function Rn(){let i=ws();for(;null!==i&&64===i.type;)i=i.parent;return i}function ws(){return wt.lFrame.currentTNode}function ei(i,s){const a=wt.lFrame;a.currentTNode=i,a.isParent=s}function oo(){return wt.lFrame.isParent}function sl(){wt.lFrame.isParent=!1}function Ln(){const i=wt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function es(){return wt.lFrame.bindingIndex++}function ti(i){const s=wt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function Sc(i,s){const a=wt.lFrame;a.bindingIndex=a.bindingRootIndex=i,ha(s)}function ha(i){wt.lFrame.currentDirectiveIndex=i}function fa(i){const s=wt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function ol(){return wt.lFrame.currentQueryIndex}function uo(i){wt.lFrame.currentQueryIndex=i}function Hd(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function pa(i,s,a){if(a&ut.SkipSelf){let d=s,p=i;for(;!(d=d.parent,null!==d||a&ut.Host||(d=Hd(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;s=d,i=p}const l=wt.lFrame=co();return l.currentTNode=s,l.lView=i,!0}function bs(i){const s=co(),a=i[1];wt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function co(){const i=wt.lFrame,s=null===i?null:i.child;return null===s?al(i):s}function al(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function ho(){const i=wt.lFrame;return wt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const lu=ho;function ll(){const i=ho();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Xn(){return wt.lFrame.selectedIndex}function ts(i){wt.lFrame.selectedIndex=i}function Un(){const i=wt.lFrame;return no(i.tView,i.selectedIndex)}function ul(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:A,ngOnDestroy:L}=p;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),C&&(i.viewHooks||(i.viewHooks=[])).push(-a,C),A&&((i.viewHooks||(i.viewHooks=[])).push(a,A),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,A)),null!=L&&(i.destroyHooks||(i.destroyHooks=[])).push(a,L)}}function ga(i,s,a){qn(i,s,3,a)}function Di(i,s,a,l){(3&i[2])===a&&qn(i,s,a,l)}function ma(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function qn(i,s,a,l){const p=l??-1,y=s.length-1;let w=0;for(let C=void 0!==l?65535&i[18]:0;C<y;C++)if("number"==typeof s[C+1]){if(w=s[C],null!=l&&w>=l)break}else s[C]<0&&(i[18]+=65536),(w<p||-1==p)&&($d(i,a,s,C),i[18]=(4294901760&i[18])+C+2),C++}function $d(i,s,a,l){const d=a[l]<0,p=a[l+1],w=i[d?-a[l]:a[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class cl{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function mr(i,s,a){const l=Jt(i);let d=0;for(;d<a.length;){const p=a[d];if("number"==typeof p){if(0!==p)break;d++;const y=a[d++],w=a[d++],C=a[d++];l?i.setAttribute(s,w,C,y):s.setAttributeNS(y,w,C)}else{const y=p,w=a[++d];Pc(y)?l&&i.setProperty(s,y,w):l?i.setAttribute(s,y,w):s.setAttribute(y,w),d++}}return d}function po(i){return 3===i||4===i||6===i}function Pc(i){return 64===i.charCodeAt(0)}function jr(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?a=d:0===a||Oc(i,a,d,null,-1===a||2===a?s[++l]:null)}}return i}function Oc(i,s,a,l,d){let p=0,y=i.length;if(-1===s)y=-1;else for(;p<i.length;){const w=i[p++];if("number"==typeof w){if(w===s){y=-1;break}if(w>s){y=p-1;break}}}for(;p<i.length;){const w=i[p];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==d&&(i[p+1]=d));if(l===i[p+1])return void(i[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==y&&(i.splice(y,0,s),p=y+1),i.splice(p++,0,a),null!==l&&i.splice(p++,0,l),null!==d&&i.splice(p++,0,d)}function dn(i){return-1!==i}function Vn(i){return 32767&i}function hn(i,s){let a=function hu(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let ya=!0;function Is(i){const s=ya;return ya=i,s}let Ds=0;const on={};function rs(i,s){const a=is(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,mo(l.data,i),mo(s,null),mo(l.blueprint,null));const d=sr(i,s),p=i.injectorIndex;if(dn(d)){const y=Vn(d),w=hn(d,s),C=w[1].data;for(let A=0;A<8;A++)s[p+A]=w[y+A]|C[y+A]}return s[p+8]=d,p}function mo(i,s){i.push(0,0,0,0,0,0,0,0,s)}function is(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function sr(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=s;for(;null!==d;){if(l=_o(d),null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function va(i,s,a){!function Ut(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(pe)&&(l=a[pe]),null==l&&(l=a[pe]=Ds++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function Hr(i,s,a){if(a&ut.Optional)return i;we()}function _r(i,s,a,l){if(a&ut.Optional&&void 0===l&&(l=null),0==(a&(ut.Self|ut.Host))){const d=i[9],p=nn(void 0);try{return d?d.get(s,l,a&ut.Optional):Fr(s,l,a&ut.Optional)}finally{nn(p)}}return Hr(l,0,a)}function pu(i,s,a,l=ut.Default,d){if(null!==i){if(1024&s[2]){const y=function mu(i,s,a,l,d){let p=i,y=s;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=Ti(p,y,a,l|ut.Self,on);if(w!==on)return w;let C=p.parent;if(!C){const A=y[21];if(A){const L=A.get(a,on,l);if(L!==on)return L}C=_o(y),y=y[15]}p=C}return d}(i,s,a,l,on);if(y!==on)return y}const p=Ti(i,s,a,l,on);if(p!==on)return p}return _r(s,a,l,d)}function Ti(i,s,a,l,d){const p=function ba(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(pe)?i[pe]:void 0;return"number"==typeof s?s>=0?255&s:di:s}(a);if("function"==typeof p){if(!pa(s,i,l))return l&ut.Host?Hr(d,0,l):_r(s,a,l,d);try{const y=p(l);if(null!=y||l&ut.Optional)return y;we()}finally{lu()}}else if("number"==typeof p){let y=null,w=is(i,s),C=-1,A=l&ut.Host?s[16][6]:null;for((-1===w||l&ut.SkipSelf)&&(C=-1===w?sr(i,s):s[w+8],-1!==C&&Ca(l,!1)?(y=s[1],w=Vn(C),s=hn(C,s)):w=-1);-1!==w;){const L=s[1];if(yr(p,w,L.data)){const z=fl(w,s,a,y,l,A);if(z!==on)return z}C=s[w+8],-1!==C&&Ca(l,s[1].data[w+8]===A)&&yr(p,w,s)?(y=L,w=Vn(C),s=hn(C,s)):w=-1}}return d}function fl(i,s,a,l,d,p){const y=s[1],w=y.data[i+8],L=gu(w,y,a,null==l?ta(w)&&ya:l!=y&&0!=(3&w.type),d&ut.Host&&p===w);return null!==L?wa(s,y,L,w):on}function gu(i,s,a,l,d){const p=i.providerIndexes,y=s.data,w=1048575&p,C=i.directiveStart,L=p>>20,ue=d?w+L:i.directiveEnd;for(let Te=l?w:w+L;Te<ue;Te++){const Ue=y[Te];if(Te<C&&a===Ue||Te>=C&&Ue.type===a)return Te}if(d){const Te=y[C];if(Te&&ci(Te)&&Te.type===a)return C}return null}function wa(i,s,a,l){let d=i[a];const p=s.data;if(function Rc(i){return i instanceof cl}(d)){const y=d;y.resolving&&function ke(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new J(-200,`Circular dependency in DI detected for ${i}${a}`)}(function _e(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ae(i)}(p[a]));const w=Is(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?nn(y.injectImpl):null;pa(i,l,ut.Default);try{d=i[a]=y.factory(void 0,p,i,l),s.firstCreatePass&&a>=l.directiveStart&&function Mc(i,s,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(l){const y=Zi(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==C&&nn(C),Is(w),y.resolving=!1,lu()}}return d}function yr(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Ca(i,s){return!(i&ut.Self||i&ut.Host&&s)}class In{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return pu(this._tNode,this._lView,s,l,a)}}function di(){return new In(Rn(),He())}function pl(i){return Qn(()=>{const s=i.prototype.constructor,a=s[ce]||gl(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const p=d[ce]||gl(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function gl(i){return Ae(i)?()=>{const s=gl(ee(i));return s&&s()}:qi(i)}function _o(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function ml(i){return function Ea(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const p=a[d];if(po(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(p===s)return a[d+1];d+=2}}}return null}(Rn(),i)}const Ai="__parameters__";function hi(i,s,a){return Qn(()=>{const l=function yo(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(s);function d(...p){if(this instanceof d)return l.apply(this,p),this;const y=new d(...p);return w.annotation=y,w;function w(C,A,L){const z=C.hasOwnProperty(Ai)?C[Ai]:Object.defineProperty(C,Ai,{value:[]})[Ai];for(;z.length<=L;)z.push(null);return(z[L]=z[L]||[]).push(y),C}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class an{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=ze({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const xc=new an("AnalyzeForEntryComponents");function en(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),en(l,s)):s!==i&&s.push(l)}return s}function Pn(i,s){i.forEach(a=>Array.isArray(a)?Pn(a,s):s(a))}function Ri(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function ni(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Ar(i,s,a){let l=bo(i,s);return l>=0?i[1|l]=a:(l=~l,function kc(i,s,a,l){let d=i.length;if(d==s)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function Pi(i,s){const a=bo(i,s);if(a>=0)return i[1|a]}function bo(i,s){return function Yd(i,s,a){let l=0,d=i.length>>a;for(;d!==l;){const p=l+(d-l>>1),y=i[p<<a];if(s===y)return p<<a;y>s?d=p:l=p+1}return~(d<<a)}(i,s,1)}const I={},T="__NG_DI_FLAG__",F="ngTempTokenPath",Ce=/\n/gm,qe="__source";let st;function yt(i){const s=st;return st=i,s}function It(i,s=ut.Default){if(void 0===st)throw new J(-203,"");return null===st?Fr(i,void 0,s):st.get(i,s&ut.Optional?null:void 0,s)}function gt(i,s=ut.Default){return(function rn(){return Cn}()||It)(ee(i),s)}function Zn(i){const s=[];for(let a=0;a<i.length;a++){const l=ee(i[a]);if(Array.isArray(l)){if(0===l.length)throw new J(900,"");let d,p=ut.Default;for(let y=0;y<l.length;y++){const w=l[y],C=Do(w);"number"==typeof C?-1===C?d=w.token:p|=C:d=w}s.push(gt(d,p))}else s.push(gt(l))}return s}function Oi(i,s){return i[T]=s,i.prototype[T]=s,i}function Do(i){return i[T]}const lr=Oi(hi("Inject",i=>({token:i})),-1),xi=Oi(hi("Optional"),8),Cl=Oi(hi("SkipSelf"),4);let rh,sh;function Sa(i){return function ih(){if(void 0===rh&&(rh=null,nt.trustedTypes))try{rh=nt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return rh}()?.createHTML(i)||i}function Cu(i){return function oh(){if(void 0===sh&&(sh=null,nt.trustedTypes))try{sh=nt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return sh}()?.createHTML(i)||i}class Ni{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Du extends Ni{getTypeName(){return"HTML"}}class bm extends Ni{getTypeName(){return"Style"}}class Bc extends Ni{getTypeName(){return"Script"}}class Cm extends Ni{getTypeName(){return"URL"}}class Im extends Ni{getTypeName(){return"ResourceURL"}}function ki(i){return i instanceof Ni?i.changingThisBreaksApplicationSecurity:i}function Sl(i,s){const a=ah(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function ah(i){return i instanceof Ni&&i.getTypeName()||null}function Dm(i){return new Du(i)}function Tm(i){return new bm(i)}function Ao(i){return new Bc(i)}function Sm(i){return new Cm(i)}function ip(i){return new Im(i)}class lh{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Sa(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class uh{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Sa(s),a;const l=this.inertDocument.createElement("body");return l.innerHTML=Sa(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const y=a.item(d).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Am=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,sp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Tu(i){return(i=String(i)).match(Am)||i.match(sp)?i:"unsafe:"+i}function as(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Al(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const op=as("area,br,col,hr,img,wbr"),$c=as("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ap=as("rp,rt"),lp=Al(op,Al($c,as("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Al(ap,as("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Al(ap,$c)),Aa=as("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Au=as("srcset"),Fi=Al(Aa,Au,as("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),as("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Om=as("script,style,template");class up{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!lp.hasOwnProperty(a))return this.sanitizedSomething=!0,!Om.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let d=0;d<l.length;d++){const p=l.item(d),y=p.name,w=y.toLowerCase();if(!Fi.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let C=p.value;Aa[w]&&(C=Tu(C)),Au[w]&&(i=C,C=(i=String(i)).split(",").map(s=>Tu(s.trim())).join(", ")),this.buf.push(" ",y,'="',cp(C),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();lp.hasOwnProperty(a)&&!op.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(cp(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const xm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hh=/([^\#-~ |!])/g;function cp(i){return i.replace(/&/g,"&amp;").replace(xm,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(hh,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gc;function Ma(i,s){let a=null;try{Gc=Gc||function jc(i){const s=new uh(i);return function ch(){try{return!!(new window.DOMParser).parseFromString(Sa(""),"text/html")}catch{return!1}}()?new lh(s):s}(i);let l=s?String(s):"";a=Gc.getInertBodyElement(l);let d=5,p=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=p,p=a.innerHTML,a=Gc.getInertBodyElement(l)}while(l!==p);return Sa((new up).sanitizeChildren(Wc(a)||a))}finally{if(a){const l=Wc(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Wc(i){return"content"in i&&function Mu(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var On=(()=>((On=On||{})[On.NONE=0]="NONE",On[On.HTML=1]="HTML",On[On.STYLE=2]="STYLE",On[On.SCRIPT=3]="SCRIPT",On[On.URL=4]="URL",On[On.RESOURCE_URL=5]="RESOURCE_URL",On))();function fh(i){const s=zc();return s?Cu(s.sanitize(On.HTML,i)||""):Sl(i,"HTML")?Cu(ki(i)):Ma(to(),ae(i))}function ph(i){const s=zc();return s?s.sanitize(On.URL,i)||"":Sl(i,"URL")?ki(i):Tu(ae(i))}function zc(){const i=He();return i&&i[12]}function _h(i){return i.ngOriginalError}class Ru{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&_h(s);for(;a&&_h(a);)a=_h(a);return a||null}}const yh=new Map;let vp=0;const vh="__ngContext__";function Pr(i,s){ir(s)?(i[vh]=s[20],function Rr(i){yh.set(i[20],i)}(s)):i[vh]=s}function Rl(i){const s=i[vh];return"number"==typeof s?function Mo(i){return yh.get(i)||null}(s):s||null}function Zc(i){const s=Rl(i);return s?ir(s)?s:s.lView:null}const me=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(nt))();function ct(i){return i instanceof Function?i():i}var Li=(()=>((Li=Li||{})[Li.Important=1]="Important",Li[Li.DashCase=2]="DashCase",Li))();function xu(i,s){return undefined(i,s)}function Ra(i){const s=i[3];return pr(s)?s[3]:s}function Nu(i){return f0(i[13])}function Ih(i){return f0(i[4])}function f0(i){for(;null!==i&&!pr(i);)i=i[4];return i}function Qc(i,s,a,l,d){if(null!=l){let p,y=!1;pr(l)?p=l:ir(l)&&(y=!0,l=l[0]);const w=_n(l);0===i&&null!==a?null==d?$m(s,a,w):Pa(s,a,w,d||null,!0):1===i&&null!==a?Pa(s,a,w,d||null,!0):2===i?function m0(i,s,a){const l=Tp(i,s);l&&function Wm(i,s,a,l){Jt(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,w,y):3===i&&s.destroyNode(w),null!=p&&function Ap(i,s,a,l,d){const p=a[7];p!==_n(a)&&Qc(s,i,l,p,d);for(let w=10;w<a.length;w++){const C=a[w];Ah(C[1],C,i,s,l,p)}}(s,i,p,a,d)}}function Um(i,s,a){if(Jt(i))return i.createElement(s,a);{const l=null!==a?function Vd(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?i.createElement(s):i.createElementNS(l,s)}}function Dp(i,s){const a=i[9],l=a.indexOf(s),d=s[3];512&s[2]&&(s[2]&=-513,io(d,-1)),a.splice(l,1)}function Ro(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const d=l[17];null!==d&&d!==i&&Dp(d,l),s>0&&(i[a-1][4]=l[4]);const p=ni(i,10+s);!function sC(i,s){Ah(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const y=p[19];null!==y&&y.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function Vm(i,s){if(!(128&s[2])){const a=s[11];Jt(a)&&a.destroyNode&&Ah(i,s,a,3,null,null),function aC(i){let s=i[13];if(!s)return Dh(i[1],i);for(;s;){let a=null;if(ir(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)ir(s)&&Dh(s[1],s),s=s[3];null===s&&(s=i),ir(s)&&Dh(s[1],s),a=s&&s[4]}s=a}}(s)}}function Dh(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function jm(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=s[a[l]];if(!(d instanceof cl)){const p=a[l+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=d[p[y]],C=p[y+1];try{C.call(w)}finally{}}else try{p.call(d)}finally{}}}}(i,s),function Bm(i,s){const a=i.cleanup,l=s[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],w="function"==typeof y?y(s):_n(s[y]),C=l[d=a[p+2]],A=a[p+3];"boolean"==typeof A?w.removeEventListener(a[p],C,A):A>=0?l[d=A]():l[d=-A].unsubscribe(),p+=2}else{const y=l[d=a[p+1]];a[p].call(y)}if(null!==l){for(let p=d+1;p<l.length;p++)l[p]();s[7]=null}}(i,s),1===s[1].type&&Jt(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&pr(s[3])){a!==s[3]&&Dp(a,s);const l=s[19];null!==l&&l.detachView(i)}!function Pu(i){yh.delete(i[20])}(s)}}function fi(i,s,a){return function Hm(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===zt.None||d===zt.Emulated)return null}return Sr(l,a)}(i,s.parent,a)}function Pa(i,s,a,l,d){Jt(i)?i.insertBefore(s,a,l,d):(cC(s)?s.content:s).insertBefore(a,l,d)}function $m(i,s,a){Jt(i)?i.appendChild(s,a):(cC(s)?s.content:s).appendChild(a)}function Gm(i,s,a,l,d){null!==l?Pa(i,s,a,l,d):$m(i,s,a)}function cC(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}function Tp(i,s){return Jt(i)?i.parentNode(s):s.parentNode}let dC=function g0(i,s,a){return 40&i.type?Sr(i,a):null};function Th(i,s,a,l){const d=fi(i,l,s),p=s[11],w=function zm(i,s,a){return dC(i,s,a)}(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(a))for(let C=0;C<a.length;C++)Gm(p,d,a[C],w,!1);else Gm(p,d,a,w,!1)}function Km(i,s){if(null!==s){const a=s.type;if(3&a)return Sr(s,i);if(4&a)return Sh(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Km(i,l);{const d=i[s.index];return pr(d)?Sh(-1,d):_n(d)}}if(32&a)return xu(s,i)()||_n(i[s.index]);{const l=Ym(i,s);return null!==l?Array.isArray(l)?l[0]:Km(Ra(i[16]),l):Km(i,s.next)}}return null}function Ym(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Sh(i,s){const a=10+i+1;if(a<s.length){const l=s[a],d=l[1].firstChild;if(null!==d)return Km(l,d)}return s[7]}function Sp(i,s,a,l,d,p,y){for(;null!=a;){const w=l[a.index],C=a.type;if(y&&0===s&&(w&&Pr(_n(w),l),a.flags|=4),64!=(64&a.flags))if(8&C)Sp(i,s,a.child,l,d,p,!1),Qc(s,i,d,w,p);else if(32&C){const A=xu(a,l);let L;for(;L=A();)Qc(s,i,d,L,p);Qc(s,i,d,w,p)}else 16&C?Mh(i,s,l,a,d,p):Qc(s,i,d,w,p);a=y?a.projectionNext:a.next}}function Ah(i,s,a,l,d,p){Sp(a,l,i.firstChild,s,d,p,!1)}function Mh(i,s,a,l,d,p){const y=a[16],C=y[6].projection[l.projection];if(Array.isArray(C))for(let A=0;A<C.length;A++)Qc(s,i,d,C[A],p);else Sp(i,s,C,y[3],d,p,!0)}function Jm(i,s,a){Jt(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Rh(i,s,a){Jt(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Oa(i,s,a){let l=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=s.length;if(d+p===l||i.charCodeAt(d+p)<=32)return d}a=d+1}}const Ph="ng-template";function hC(i,s,a){let l=0;for(;l<i.length;){let d=i[l++];if(a&&"class"===d){if(d=i[l],-1!==Oa(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Jc(i){return 4===i.type&&i.value!==Ph}function y0(i,s,a){return s===(4!==i.type||a?i.value:Ph)}function fC(i,s,a){let l=4;const d=i.attrs||[],p=function Po(i){for(let s=0;s<i.length;s++)if(po(i[s]))return s;return i.length}(d);let y=!1;for(let w=0;w<s.length;w++){const C=s[w];if("number"!=typeof C){if(!y)if(4&l){if(l=2|1&l,""!==C&&!y0(i,C,a)||""===C&&1===s.length){if(ls(l))return!1;y=!0}}else{const A=8&l?C:s[++w];if(8&l&&null!==i.attrs){if(!hC(i.attrs,A,a)){if(ls(l))return!1;y=!0}continue}const z=Pl(8&l?"class":C,d,Jc(i),a);if(-1===z){if(ls(l))return!1;y=!0;continue}if(""!==A){let ue;ue=z>p?"":d[z+1].toLowerCase();const Te=8&l?ue:null;if(Te&&-1!==Oa(Te,A,0)||2&l&&A!==ue){if(ls(l))return!1;y=!0}}}}else{if(!y&&!ls(l)&&!ls(C))return!1;if(y&&ls(C))continue;y=!1,l=C|1&l}}return ls(l)||y}function ls(i){return 0==(1&i)}function Pl(i,s,a,l){if(null===s)return-1;let d=0;if(l||!a){let p=!1;for(;d<s.length;){const y=s[d];if(y===i)return d;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=s[++d];for(;"string"==typeof w;)w=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=p?1:2}return-1}return function Fu(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function Xm(i,s,a=!1){for(let l=0;l<s.length;l++)if(fC(i,s[l],a))return!0;return!1}function E0(i,s){return i?":not("+s.trim()+")":s}function e_(i){let s=i[0],a=1,l=2,d="",p=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&l){const w=i[++a];d+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+y:4&l&&(d+=" "+y);else""!==d&&!ls(y)&&(s+=E0(p,d),d=""),l=y,p=p||!ls(l);a++}return""!==d&&(s+=E0(p,d)),s}const kt={};function b0(i){Pp($t(),He(),Xn()+i,!1)}function Pp(i,s,a,l){if(!l)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&ga(s,p,a)}else{const p=i.preOrderHooks;null!==p&&Di(s,p,0,a)}ts(a)}const D0=new an("ENVIRONMENT_INITIALIZER"),_C=new an("INJECTOR_DEF_TYPES");function nS(...i){return{\u0275providers:yC(0,i)}}function yC(i,...s){const a=[],l=new Set;let d;return Pn(s,p=>{const y=p;t_(y,a,[],l)&&(d||(d=[]),d.push(y))}),void 0!==d&&Nh(d,a),a}function Nh(i,s){for(let a=0;a<i.length;a++){const{providers:d}=i[a];Pn(d,p=>{s.push(p)})}}function t_(i,s,a,l){if(!(i=ee(i)))return!1;let d=null,p=Ke(i);const y=!p&&Yt(i);if(p||y){if(y&&!y.standalone)return!1;d=i}else{const C=i.ngModule;if(p=Ke(C),!p)return!1;d=C}const w=l.has(d);if(y){if(w)return!1;if(l.add(d),y.dependencies){const C="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const A of C)t_(A,s,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let A;l.add(d);try{Pn(p.imports,L=>{t_(L,s,a,l)&&(A||(A=[]),A.push(L))})}finally{}void 0!==A&&Nh(A,s)}if(!w){const A=qi(d)||(()=>new d);s.push({provide:d,useFactory:A,deps:Pt},{provide:_C,useValue:d,multi:!0},{provide:D0,useValue:()=>gt(d),multi:!0})}const C=p.providers;null==C||w||Pn(C,L=>{s.push(L)})}}return d!==i&&void 0!==i.providers}const vC=he({provide:String,useValue:he});function Xc(i){return null!==i&&"object"==typeof i&&vC in i}function Ol(i){return"function"==typeof i}const Fh=new an("INJECTOR",-1);class r_{get(s,a=I){if(a===I){const l=new Error(`NullInjectorError: No provider for ${Y(s)}!`);throw l.name="NullInjectorError",l}return a}}const i_=new an("Set Injector scope."),xp={},wC={};let s_;function o_(){return void 0===s_&&(s_=new r_),s_}class ed{}class xl extends ed{constructor(s,a,l,d){super(),this.parent=a,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,u_(s,y=>this.processProvider(y)),this.records.set(Fh,td(void 0,this)),d.has("environment")&&this.records.set(ed,td(void 0,this));const p=this.records.get(i_);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(_C.multi,Pt,ut.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}get(s,a=I,l=ut.Default){this.assertNotDestroyed();const d=yt(this),p=nn(void 0);try{if(!(l&ut.SkipSelf)){let w=this.records.get(s);if(void 0===w){const C=function IC(i){return"function"==typeof i||"object"==typeof i&&i instanceof an}(s)&&B(s);w=C&&this.injectableDefInScope(C)?td(Lh(s),xp):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&ut.Self?o_():this.parent).get(s,a=l&ut.Optional&&a===I?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[F]=y[F]||[]).unshift(Y(s)),d)throw y;return function To(i,s,a,l){const d=i[F];throw s[qe]&&d.unshift(s[qe]),i.message=function ri(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=Y(s);if(Array.isArray(s))d=s.map(Y).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let w=s[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):Y(w)))}d=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(Ce,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[F]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{nn(p),yt(d)}}resolveInjectorInitializers(){const s=yt(this),a=nn(void 0);try{const l=this.get(D0.multi,Pt,ut.Self);for(const d of l)d()}finally{yt(s),nn(a)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(Y(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(s){let a=Ol(s=ee(s))?s:ee(s&&s.provide);const l=function Np(i){return Xc(i)?td(void 0,i.useValue):td(T0(i),xp)}(s);if(Ol(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=td(void 0,xp,!0),d.factory=()=>Zn(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,l)}hydrate(s,a){return a.value===xp&&(a.value=wC,a.value=a.factory()),"object"==typeof a.value&&a.value&&function CC(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ee(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Lh(i){const s=B(i),a=null!==s?s.factory:qi(i);if(null!==a)return a;if(i instanceof an)throw new J(204,!1);if(i instanceof Function)return function a_(i){const s=i.length;if(s>0)throw function ss(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new J(204,!1);const a=function fe(i){const s=i&&(i[dt]||i[Ht]);if(s){const a=function Ee(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new J(204,!1)}function T0(i,s,a){let l;if(Ol(i)){const d=ee(i);return qi(d)||Lh(d)}if(Xc(i))l=()=>ee(i.useValue);else if(function n_(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Zn(i.deps||[]));else if(function kh(i){return!(!i||!i.useExisting)}(i))l=()=>gt(ee(i.useExisting));else{const d=ee(i&&(i.useClass||i.provide));if(!function bC(i){return!!i.deps}(i))return qi(d)||Lh(d);l=()=>new d(...Zn(i.deps))}return l}function td(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function l_(i){return!!i.\u0275providers}function u_(i,s){for(const a of i)Array.isArray(a)?u_(a,s):l_(a)?u_(a.\u0275providers,s):s(a)}function Uh(i,s=null,a=null,l){const d=kp(i,s,a,l);return d.resolveInjectorInitializers(),d}function kp(i,s=null,a=null,l,d=new Set){const p=[a||Pt,nS(i)];return l=l||("object"==typeof i?void 0:Y(i)),new xl(p,s||o_(),l||null,d)}let Ui=(()=>{class i{static create(a,l){if(Array.isArray(a))return Uh({name:""},l,a,"");{const d=a.name??"";return Uh({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=I,i.NULL=new r_,i.\u0275prov=ze({token:i,providedIn:"any",factory:()=>gt(Fh)}),i.__NG_ELEMENT_ID__=-1,i})();function Oo(i,s=ut.Default){const a=He();return null===a?gt(i,s):pu(Rn(),a,ee(i),s)}function Vp(){throw new Error("invalid")}function Uu(i,s){return i<<17|s<<2}function Os(i){return i>>17&32767}function __(i){return 2|i}function xo(i){return(131068&i)>>2}function y_(i,s){return-131069&i|s<<2}function v_(i){return 1|i}function qC(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],p=a[l+1];if(-1!==p){const y=i.data[p];uo(d),y.contentQueries(2,s[p],p)}}}function qp(i,s,a,l,d,p,y,w,C,A,L){const z=s.blueprint.slice();return z[0]=d,z[2]=76|l,(null!==L||i&&1024&i[2])&&(z[2]|=1024),Qi(z),z[3]=z[15]=i,z[8]=a,z[10]=y||i&&i[10],z[11]=w||i&&i[11],z[12]=C||i&&i[12]||null,z[9]=A||i&&i[9]||null,z[6]=p,z[20]=function Fm(){return vp++}(),z[21]=L,z[16]=2==s.type?i[16]:z,z}function jh(i,s,a,l,d){let p=i.data[s];if(null===p)p=function A_(i,s,a,l,d){const p=ws(),y=oo(),C=i.data[s]=function JC(i,s,a,l,d,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,s,l,d);return null===i.firstChild&&(i.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(i,s,a,l,d),function ou(){return wt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=l,p.attrs=d;const y=function Ci(){const i=wt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return ei(p,!0),p}function ad(i,s,a,l){if(0===a)return-1;const d=s.length;for(let p=0;p<a;p++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function Zp(i,s,a){bs(s);try{const l=i.viewQuery;null!==l&&zh(1,l,a);const d=i.template;null!==d&&KC(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&qC(i,s),i.staticViewQueries&&zh(2,i.viewQuery,a);const p=i.components;null!==p&&function S_(i,s){for(let a=0;a<s.length;a++)aI(i,s[a])}(s,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,ll()}}function Hh(i,s,a,l){const d=s[2];if(128!=(128&d)){bs(s);try{Qi(s),function ao(i){return wt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&KC(i,s,a,2,l);const y=3==(3&d);if(y){const A=i.preOrderCheckHooks;null!==A&&ga(s,A,null)}else{const A=i.preOrderHooks;null!==A&&Di(s,A,0,null),ma(s,0)}if(function Jp(i){for(let s=Nu(i);null!==s;s=Ih(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const d=a[l],p=d[3];0==(512&d[2])&&io(p,1),d[2]|=512}}}(s),function Z0(i){for(let s=Nu(i);null!==s;s=Ih(s))for(let a=10;a<s.length;a++){const l=s[a],d=l[1];ro(l)&&Hh(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&qC(i,s),y){const A=i.contentCheckHooks;null!==A&&ga(s,A)}else{const A=i.contentHooks;null!==A&&Di(s,A,1),ma(s,1)}!function zC(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)ts(~d);else{const p=d,y=a[++l],w=a[++l];Sc(y,p),w(2,s[p])}}}finally{ts(-1)}}(i,s);const w=i.components;null!==w&&function ZC(i,s){for(let a=0;a<s.length;a++)K0(i,s[a])}(s,w);const C=i.viewQuery;if(null!==C&&zh(2,C,l),y){const A=i.viewCheckHooks;null!==A&&ga(s,A)}else{const A=i.viewHooks;null!==A&&Di(s,A,2),ma(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,io(s[3],-1))}finally{ll()}}}function gS(i,s,a,l){const d=s[10],y=rl(s);try{!y&&d.begin&&d.begin(),y&&Zp(i,s,l),Hh(i,s,a,l)}finally{!y&&d.end&&d.end()}}function KC(i,s,a,l,d){const p=Xn(),y=2&l;try{ts(-1),y&&s.length>22&&Pp(i,s,22,!1),a(l,d)}finally{ts(p)}}function YC(i,s,a){if(Xs(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const y=i.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function G0(i,s,a){!ca()||(function nI(i,s,a,l){const d=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||rs(a,s),Pr(l,s);const y=a.initialInputs;for(let w=d;w<p;w++){const C=i.data[w],A=ci(C);A&&x_(s,a,C);const L=wa(s,i,w,a);Pr(L,s),null!==y&&sI(0,w-d,L,C,0,y),A&&(Zt(a.index,s)[8]=L)}}(i,s,a,Sr(a,s)),128==(128&a.flags)&&function rI(i,s,a){const l=a.directiveStart,d=a.directiveEnd,p=a.index,y=function au(){return wt.lFrame.currentDirectiveIndex}();try{ts(p);for(let w=l;w<d;w++){const C=i.data[w],A=s[w];ha(w),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Wr(C,A)}}finally{ts(-1),ha(y)}}(i,s,a))}function W0(i,s,a=Sr){const l=s.localNames;if(null!==l){let d=s.index+1;for(let p=0;p<l.length;p+=2){const y=l[p+1],w=-1===y?a(s,i):i[y];i[d++]=w}}}function QC(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=vr(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function vr(i,s,a,l,d,p,y,w,C,A){const L=22+l,z=L+d,ue=function xs(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:kt);return a}(L,z),Te="function"==typeof A?A():A;return ue[1]={type:i,blueprint:ue,template:a,queries:null,viewQuery:w,declTNode:s,data:ue.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:Te,incompleteFirstPass:!1}}function M_(i,s,a,l){const d=rg(s);null===a?d.push(l):(d.push(a),i.firstCreatePass&&U_(i).push(l,d.length-1))}function z0(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,d):a[l]=[s,d]}return a}function Gr(i,s,a,l,d,p,y,w){const C=Sr(s,a);let L,A=s.inputs;!w&&null!=A&&(L=A[l])?(Y0(i,a,L,l,d),ta(s)&&function R_(i,s){const a=Zt(s,i);16&a[2]||(a[2]|=32)}(a,s.index)):3&s.type&&(l=function Ns(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=y?y(d,s.value||"",l):d,Jt(p)?p.setProperty(C,l,d):Pc(l)||(C.setProperty?C.setProperty(l,d):C[l]=d))}function Kp(i,s,a,l){let d=!1;if(ca()){const p=function Yp(i,s,a){const l=i.directiveRegistry;let d=null;if(l)for(let p=0;p<l.length;p++){const y=l[p];Xm(a,y.selectors,!1)&&(d||(d=[]),va(rs(a,s),i,y.type),ci(y)?(P_(i,a),d.unshift(y)):d.push(y))}return d}(i,s,a),y=null===l?null:{"":-1};if(null!==p){d=!0,Gh(a,i.data.length,p.length);for(let L=0;L<p.length;L++){const z=p[L];z.providersResolver&&z.providersResolver(z)}let w=!1,C=!1,A=ad(i,s,p.length,null);for(let L=0;L<p.length;L++){const z=p[L];a.mergedAttrs=jr(a.mergedAttrs,z.hostAttrs),Qp(i,a,s,A,z),O_(A,z,y),null!==z.contentQueries&&(a.flags|=8),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(a.flags|=128);const ue=z.type.prototype;!w&&(ue.ngOnChanges||ue.ngOnInit||ue.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),w=!0),!C&&(ue.ngOnChanges||ue.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),C=!0),A++}!function Er(i,s){const l=s.directiveEnd,d=i.data,p=s.attrs,y=[];let w=null,C=null;for(let A=s.directiveStart;A<l;A++){const L=d[A],z=L.inputs,ue=null===p||Jc(s)?null:oI(z,p);y.push(ue),w=z0(z,A,w),C=z0(L.outputs,A,C)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=w,s.outputs=C}(i,a)}y&&function iI(i,s,a){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const p=a[s[d+1]];if(null==p)throw new J(-301,!1);l.push(s[d],p)}}}(a,l,y)}return a.mergedAttrs=jr(a.mergedAttrs,a.attrs),d}function q0(i,s,a,l,d,p){const y=p.hostBindings;if(y){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const C=~s.index;(function tI(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(w)!=C&&w.push(C),w.push(l,d,y)}}function Wr(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function P_(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function O_(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;ci(s)&&(a[""]=i)}}function Gh(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function Qp(i,s,a,l,d){i.data[l]=d;const p=d.factory||(d.factory=qi(d.type)),y=new cl(p,ci(d),Oo);i.blueprint[l]=y,a[l]=y,q0(i,s,0,l,ad(i,a,d.hostVars,kt),d)}function x_(i,s,a){const l=Sr(s,i),d=QC(a),p=i[10],y=Xp(i,qp(i,d,null,a.onPush?32:16,l,s,p,p.createRenderer(l,a),null,null,null));i[s.index]=y}function Lo(i,s,a,l,d,p){const y=Sr(i,s);!function N_(i,s,a,l,d,p,y){if(null==p)Jt(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const w=null==y?ae(p):y(p,l||"",d);Jt(i)?i.setAttribute(s,d,w,a):a?s.setAttributeNS(a,d,w):s.setAttribute(d,w)}}(s[11],y,p,i.value,a,l,d)}function sI(i,s,a,l,d,p){const y=p[s];if(null!==y){const w=l.setInput;for(let C=0;C<y.length;){const A=y[C++],L=y[C++],z=y[C++];null!==w?l.setInput(a,z,A,L):a[L]=z}}}function oI(i,s){let a=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return a}function ld(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function K0(i,s){const a=Zt(s,i);if(ro(a)){const l=a[1];48&a[2]?Hh(l,a,l.template,a[8]):a[5]>0&&k_(a)}}function k_(i){for(let l=Nu(i);null!==l;l=Ih(l))for(let d=10;d<l.length;d++){const p=l[d];if(512&p[2]){const y=p[1];Hh(y,p,y.template,p[8])}else p[5]>0&&k_(p)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=Zt(a[l],i);ro(d)&&d[5]>0&&k_(d)}}function aI(i,s){const a=Zt(s,i),l=a[1];(function lI(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),Zp(l,a,a[8])}function Xp(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function eg(i){for(;i;){i[2]|=32;const s=Ra(i);if(ra(i)&&!s)return i;i=s}return null}function L_(i){!function tg(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=Zc(a);if(null!==l){const d=l[1];gS(d,l,d.template,a)}}}(i[8])}function zh(i,s,a){uo(0),s(i,a)}const cI=(()=>Promise.resolve(null))();function rg(i){return i[7]||(i[7]=[])}function U_(i){return i.cleanup||(i.cleanup=[])}function ig(i,s){const a=i[9],l=a?a.get(Ru,null):null;l&&l.handleError(s)}function Y0(i,s,a,l,d){for(let p=0;p<a.length;){const y=a[p++],w=a[p++],C=s[y],A=i.data[y];null!==A.setInput?A.setInput(C,d,l,w):C[w]=d}}function xa(i,s,a){const l=Br(s,i);!function p0(i,s,a){Jt(i)?i.setValue(s,a):s.textContent=a}(i[11],l,a)}function sg(i,s,a){let l=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const w=s[y];"number"==typeof w?p=w:1==p?d=$(d,w):2==p&&(l=$(l,w+": "+s[++y]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}function bS(){const i=Rn();ul(He()[1],i)}function iE(i){let s=function vI(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let d;if(ci(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new J(903,"");d=s.\u0275dir}if(d){if(a){l.push(d);const y=i;y.inputs=sE(i.inputs),y.declaredInputs=sE(i.declaredInputs),y.outputs=sE(i.outputs);const w=d.hostBindings;w&&wI(i,w);const C=d.viewQuery,A=d.contentQueries;if(C&&EI(i,C),A&&oE(i,A),j(i.inputs,d.inputs),j(i.declaredInputs,d.declaredInputs),j(i.outputs,d.outputs),ci(d)&&d.data.animation){const L=i.data;L.animation=(L.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(i),w===iE&&(a=!1)}}s=Object.getPrototypeOf(s)}!function q_(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=jr(d.hostAttrs,a=jr(a,d.hostAttrs))}}(l)}function sE(i){return i===Hn?{}:i===Pt?[]:i}function EI(i,s){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{s(l,d),a(l,d)}:s}function oE(i,s){const a=i.contentQueries;i.contentQueries=a?(l,d,p)=>{s(l,d,p),a(l,d,p)}:s}function wI(i,s){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{s(l,d),a(l,d)}:s}let K_=null;function Na(){if(!K_){const i=nt.Symbol;if(i&&i.iterator)K_=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(K_=l)}}}return K_}function Kh(i){return!!Y_(i)&&(Array.isArray(i)||!(i instanceof Map)&&Na()in i)}function Y_(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ka(i,s,a){return i[s]=a}function ii(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function lE(i,s,a,l){const d=He();return ii(d,es(),s)&&($t(),Lo(Un(),d,i,s,a,l)),lE}function ug(i,s,a,l,d,p,y,w){const C=He(),A=$t(),L=i+22,z=A.firstCreatePass?function Kn(i,s,a,l,d,p,y,w,C){const A=s.consts,L=jh(s,i,4,y||null,gr(A,w));Kp(s,a,L,gr(A,C)),ul(s,L);const z=L.tViews=vr(2,L,l,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,A);return null!==s.queries&&(s.queries.template(s,L),z.queries=s.queries.embeddedTView(L)),L}(L,A,C,s,a,l,d,p,y):A.data[L];ei(z,!1);const ue=C[11].createComment("");Th(A,C,ue,z),Pr(ue,C),Xp(C,C[L]=ld(ue,C,ue,z)),na(z)&&G0(A,C,z),null!=y&&W0(C,z,w)}function fE(i){return bi(function su(){return wt.lFrame.contextLView}(),22+i)}function ry(i,s,a){const l=He();return ii(l,es(),s)&&Gr($t(),Un(),l,i,s,l[11],a,!1),ry}function iy(i,s,a,l,d){const y=d?"class":"style";Y0(i,a,s.inputs[y],y,l)}function cg(i,s,a,l){const d=He(),p=$t(),y=22+i,w=d[11],C=d[y]=Um(w,s,function du(){return wt.lFrame.currentNamespace}()),A=p.firstCreatePass?function CI(i,s,a,l,d,p,y){const w=s.consts,A=jh(s,i,2,d,gr(w,p));return Kp(s,a,A,gr(w,y)),null!==A.attrs&&sg(A,A.attrs,!1),null!==A.mergedAttrs&&sg(A,A.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,A),A}(y,p,d,0,s,a,l):p.data[y];ei(A,!0);const L=A.mergedAttrs;null!==L&&mr(w,C,L);const z=A.classes;null!==z&&Rh(w,C,z);const ue=A.styles;return null!==ue&&Jm(w,C,ue),64!=(64&A.flags)&&Th(p,d,C,A),0===function Es(){return wt.lFrame.elementDepthCount}()&&Pr(C,d),function la(){wt.lFrame.elementDepthCount++}(),na(A)&&(G0(p,d,A),YC(p,A,d)),null!==l&&W0(d,A),cg}function dg(){let i=Rn();oo()?sl():(i=i.parent,ei(i,!1));const s=i;!function ua(){wt.lFrame.elementDepthCount--}();const a=$t();return a.firstCreatePass&&(ul(a,i),Xs(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Gd(i){return 0!=(16&i.flags)}(s)&&iy(a,s,He(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Kf(i){return 0!=(32&i.flags)}(s)&&iy(a,s,He(),s.stylesWithoutHost,!1),dg}function hg(i,s,a,l){return cg(i,s,a,l),dg(),hg}function fg(i,s,a){const l=He(),d=$t(),p=i+22,y=d.firstCreatePass?function II(i,s,a,l,d){const p=s.consts,y=gr(p,l),w=jh(s,i,8,"ng-container",y);return null!==y&&sg(w,y,!0),Kp(s,a,w,gr(p,d)),null!==s.queries&&s.queries.elementStart(s,w),w}(p,d,l,s,a):d.data[p];ei(y,!0);const w=l[p]=l[11].createComment("");return Th(d,l,w,y),Pr(w,l),na(y)&&(G0(d,l,y),YC(d,y,l)),null!=a&&W0(l,y),fg}function pg(){let i=Rn();const s=$t();return oo()?sl():(i=i.parent,ei(i,!1)),s.firstCreatePass&&(ul(s,i),Xs(i)&&s.queries.elementEnd(i)),pg}function pE(){return He()}function oy(i){return!!i&&"function"==typeof i.then}function qu(i){return!!i&&"function"==typeof i.subscribe}const ay=qu;function gg(i,s,a,l){const d=He(),p=$t(),y=Rn();return function Nr(i,s,a,l,d,p,y,w){const C=na(l),L=i.firstCreatePass&&U_(i),z=s[8],ue=rg(s);let Te=!0;if(3&l.type||w){const it=Sr(l,s),lt=w?w(it):it,Dt=ue.length,We=w?mt=>w(_n(mt[l.index])):l.index;if(Jt(a)){let mt=null;if(!w&&C&&(mt=function Qh(i,s,a,l){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const y=d[p];if(y===a&&d[p+1]===l){const w=s[7],C=d[p+2];return w.length>C?w[C]:null}"string"==typeof y&&(p+=2)}return null}(i,s,d,l.index)),null!==mt)(mt.__ngLastListenerFn__||mt).__ngNextListenerFn__=p,mt.__ngLastListenerFn__=p,Te=!1;else{p=ly(l,s,z,p,!1);const Kt=a.listen(lt,d,p);ue.push(p,Kt),L&&L.push(d,We,Dt,Dt+1)}}else p=ly(l,s,z,p,!0),lt.addEventListener(d,p,y),ue.push(p),L&&L.push(d,We,Dt,y)}else p=ly(l,s,z,p,!1);const Ue=l.outputs;let Qe;if(Te&&null!==Ue&&(Qe=Ue[d])){const it=Qe.length;if(it)for(let lt=0;lt<it;lt+=2){const fn=s[Qe[lt]][Qe[lt+1]].subscribe(p),Kl=ue.length;ue.push(p,fn),L&&L.push(d,l.index,Kl,-(Kl+1))}}}(p,d,d[11],y,i,s,!!a,l),gg}function gE(i,s,a,l){try{return!1!==a(l)}catch(d){return ig(i,d),!1}}function ly(i,s,a,l,d){return function p(y){if(y===Function)return l;eg(2&i.flags?Zt(i.index,s):s);let C=gE(s,0,l,y),A=p.__ngNextListenerFn__;for(;A;)C=gE(s,0,A,y)&&C,A=A.__ngNextListenerFn__;return d&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function mE(i=1){return function uu(i){return(wt.lFrame.contextLView=function Ac(i,s){for(;i>0;)s=s[15],i--;return s}(i,wt.lFrame.contextLView))[8]}(i)}function vE(i,s,a,l,d){const p=i[a+1],y=null===s;let w=l?Os(p):xo(p),C=!1;for(;0!==w&&(!1===C||y);){const L=i[w+1];RI(i[w],s)&&(C=!0,i[w+1]=l?v_(L):__(L)),w=l?Os(L):xo(L)}C&&(i[a+1]=l?__(p):v_(p))}function RI(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&bo(i,s)>=0}const ur={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function EE(i){return i.substring(ur.key,ur.keyEnd)}function vg(i,s){const a=ur.textEnd;return a===s?-1:(s=ur.keyEnd=function bE(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,ur.key=s,a),Zu(i,s,a))}function Zu(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function hy(i,s,a){return Vs(i,s,a,!1),hy}function fy(i,s){return Vs(i,s,null,!0),fy}function zr(i){!function si(i,s,a,l){const d=$t(),p=ti(2);d.firstUpdatePass&&TE(d,null,p,l);const y=He();if(a!==kt&&ii(y,p,a)){const w=d.data[Xn()];if(pd(w,l)&&!DE(d,p)){let C=l?w.classesWithoutHost:w.stylesWithoutHost;null!==C&&(a=$(C,a||"")),iy(d,w,y,a,l)}else!function Vo(i,s,a,l,d,p,y,w){d===kt&&(d=Pt);let C=0,A=0,L=0<d.length?d[0]:null,z=0<p.length?p[0]:null;for(;null!==L||null!==z;){const ue=C<d.length?d[C+1]:void 0,Te=A<p.length?p[A+1]:void 0;let Qe,Ue=null;L===z?(C+=2,A+=2,ue!==Te&&(Ue=z,Qe=Te)):null===z||null!==L&&L<z?(C+=2,Ue=L):(A+=2,Ue=z,Qe=Te),null!==Ue&&tf(i,s,a,l,Ue,Qe,y,w),L=C<d.length?d[C]:null,z=A<p.length?p[A]:null}}(d,w,y,y[11],y[p+1],y[p+1]=function FI(i,s,a){if(null==a||""===a)return Pt;const l=[],d=ki(a);if(Array.isArray(d))for(let p=0;p<d.length;p++)i(l,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&i(l,p,d[p]);else"string"==typeof d&&s(l,d);return l}(i,s,a),l,p)}}(Ar,Bi,i,!0)}function Bi(i,s){for(let a=function Vi(i){return function wE(i){ur.key=0,ur.keyEnd=0,ur.value=0,ur.valueEnd=0,ur.textEnd=i.length}(i),vg(i,Zu(i,0,ur.textEnd))}(s);a>=0;a=vg(s,a))Ar(i,EE(s),!0)}function Vs(i,s,a,l){const d=He(),p=$t(),y=ti(2);p.firstUpdatePass&&TE(p,i,y,l),s!==kt&&ii(d,y,s)&&tf(p,p.data[Xn()],d,d[11],i,d[y+1]=function fd(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Y(ki(i)))),i}(s,a),l,y)}function DE(i,s){return s>=i.expandoStartIndex}function TE(i,s,a,l){const d=i.data;if(null===d[a+1]){const p=d[Xn()],y=DE(i,a);pd(p,l)&&null===s&&!y&&(s=!1),s=function SE(i,s,a,l){const d=fa(i);let p=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(a=ef(a=Eg(null,i,s,a,l),s.attrs,l),p=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==d)if(a=Eg(d,i,s,a,l),null===p){let C=function kI(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==xo(l))return i[Os(l)]}(i,s,l);void 0!==C&&Array.isArray(C)&&(C=Eg(null,i,s,C[1],l),C=ef(C,s.attrs,l),function py(i,s,a,l){i[Os(a?s.classBindings:s.styleBindings)]=l}(i,s,l,C))}else p=function AE(i,s,a){let l;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)l=ef(l,i[p].hostAttrs,a);return ef(l,s.attrs,a)}(i,s,l)}return void 0!==p&&(l?s.residualClasses=p:s.residualStyles=p),a}(d,p,s,l),function AI(i,s,a,l,d,p){let y=p?s.classBindings:s.styleBindings,w=Os(y),C=xo(y);i[l]=a;let L,A=!1;if(Array.isArray(a)){const z=a;L=z[1],(null===L||bo(z,L)>0)&&(A=!0)}else L=a;if(d)if(0!==C){const ue=Os(i[w+1]);i[l+1]=Uu(ue,w),0!==ue&&(i[ue+1]=y_(i[ue+1],l)),i[w+1]=function m_(i,s){return 131071&i|s<<17}(i[w+1],l)}else i[l+1]=Uu(w,0),0!==w&&(i[w+1]=y_(i[w+1],l)),w=l;else i[l+1]=Uu(C,0),0===w?w=l:i[C+1]=y_(i[C+1],l),C=l;A&&(i[l+1]=__(i[l+1])),vE(i,L,l,!0),vE(i,L,l,!1),function MI(i,s,a,l,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&bo(p,s)>=0&&(a[l+1]=v_(a[l+1]))}(s,L,i,l,p),y=Uu(w,C),p?s.classBindings=y:s.styleBindings=y}(d,p,s,a,y,l)}}function Eg(i,s,a,l,d){let p=null;const y=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<y&&(p=s[w],l=ef(l,p.hostAttrs,d),p!==i);)w++;return null!==i&&(a.directiveStylingLast=w),l}function ef(i,s,a){const l=a?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?d=y:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Ar(i,y,!!a||s[++p]))}return void 0===i?null:i}function tf(i,s,a,l,d,p,y,w){if(!(3&s.type))return;const C=i.data,A=C[w+1];wg(function j0(i){return 1==(1&i)}(A)?ME(C,s,a,d,xo(A),y):void 0)||(wg(p)||function B0(i){return 2==(2&i)}(A)&&(p=ME(C,null,a,d,w,y)),function Mp(i,s,a,l,d){const p=Jt(i);if(s)d?p?i.addClass(a,l):a.classList.add(l):p?i.removeClass(a,l):a.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:Li.DashCase;if(null==d)p?i.removeStyle(a,l,y):a.style.removeProperty(l);else{const w="string"==typeof d&&d.endsWith("!important");w&&(d=d.slice(0,-10),y|=Li.Important),p?i.setStyle(a,l,d,y):a.style.setProperty(l,d,w?"important":"")}}}(l,y,Br(Xn(),a),d,p))}function ME(i,s,a,l,d,p){const y=null===s;let w;for(;d>0;){const C=i[d],A=Array.isArray(C),L=A?C[1]:C,z=null===L;let ue=a[d+1];ue===kt&&(ue=z?Pt:void 0);let Te=z?Pi(ue,l):L===l?ue:void 0;if(A&&!wg(Te)&&(Te=Pi(C,l)),wg(Te)&&(w=Te,y))return w;const Ue=i[d+1];d=y?Os(Ue):xo(Ue)}if(null!==s){let C=p?s.residualClasses:s.residualStyles;null!=C&&(w=Pi(C,l))}return w}function wg(i){return void 0!==i}function pd(i,s){return 0!=(i.flags&(s?16:32))}function gy(i,s=""){const a=He(),l=$t(),d=i+22,p=l.firstCreatePass?jh(l,d,1,s,null):l.data[d],y=a[d]=function Lm(i,s){return Jt(i)?i.createText(s):i.createTextNode(s)}(a[11],s);Th(l,a,y,p),ei(p,!1)}function my(i){return nf("",i,""),my}function nf(i,s,a){const l=He(),d=function cd(i,s,a,l){return ii(i,es(),a)?s+ae(a)+l:kt}(l,i,s,a);return d!==kt&&xa(l,Xn(),d),nf}function Cy(i,s,a){const l=He();if(ii(l,es(),s)){const p=$t(),y=Un();Gr(p,y,l,i,s,function V_(i,s,a){return(null===i||ci(i))&&(a=function oa(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}(fa(p.data),y,l),a,!0)}return Cy}const Ku=void 0;var KI=["en",[["a","p"],["AM","PM"],Ku],[["AM","PM"],Ku,Ku],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ku,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ku,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ku,"{1} 'at' {0}",Ku],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ZI(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Yu={};function Iy(i){const s=function $E(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Dy(s);if(a)return a;const l=s.split("-")[0];if(a=Dy(l),a)return a;if("en"===l)return KI;throw new Error(`Missing locale data for the locale "${i}".`)}function HE(i){return Iy(i)[bt.PluralCase]}function Dy(i){return i in Yu||(Yu[i]=nt.ng&&nt.ng.common&&nt.ng.common.locales&&nt.ng.common.locales[i]),Yu[i]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const sf="en-US";let zE=sf;function Uy(i,s,a,l,d){if(i=ee(i),Array.isArray(i))for(let p=0;p<i.length;p++)Uy(i[p],s,a,l,d);else{const p=$t(),y=He();let w=Ol(i)?i:ee(i.provide),C=T0(i);const A=Rn(),L=1048575&A.providerIndexes,z=A.directiveStart,ue=A.providerIndexes>>20;if(Ol(i)||!i.multi){const Te=new cl(C,d,Oo),Ue=Vy(w,s,d?L:L+ue,z);-1===Ue?(va(rs(A,y),p,w),Xu(p,i,s.length),s.push(w),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(Te),y.push(Te)):(a[Ue]=Te,y[Ue]=Te)}else{const Te=Vy(w,s,L+ue,z),Ue=Vy(w,s,L,L+ue),Qe=Te>=0&&a[Te],it=Ue>=0&&a[Ue];if(d&&!it||!d&&!Qe){va(rs(A,y),p,w);const lt=function hw(i,s,a,l,d){const p=new cl(i,a,Oo);return p.multi=[],p.index=s,p.componentProviders=0,dw(p,d,l&&!a),p}(d?Rg:mf,a.length,d,l,C);!d&&it&&(a[Ue].providerFactory=lt),Xu(p,i,s.length,0),s.push(w),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(lt),y.push(lt)}else Xu(p,i,Te>-1?Te:Ue,dw(a[d?Ue:Te],C,!d&&l));!d&&l&&it&&a[Ue].componentProviders++}}}function Xu(i,s,a,l){const d=Ol(s),p=function EC(i){return!!i.useClass}(s);if(d||p){const C=(p?ee(s.useClass):s).prototype.ngOnDestroy;if(C){const A=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const L=A.indexOf(a);-1===L?A.push(a,[l,C]):A[L+1].push(l,C)}else A.push(a,C)}}}function dw(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Vy(i,s,a,l){for(let d=a;d<l;d++)if(s[d]===i)return d;return-1}function mf(i,s,a,l){return Pg(this.multi,[])}function Rg(i,s,a,l){const d=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=wa(a,a[1],this.providerFactory.index,l);p=w.slice(0,y),Pg(d,p);for(let C=y;C<w.length;C++)p.push(w[C])}else p=[],Pg(d,p);return p}function Pg(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function By(i,s=[]){return a=>{a.providersResolver=(l,d)=>function yd(i,s,a){const l=$t();if(l.firstCreatePass){const d=ci(i);Uy(a,l.data,l.blueprint,d,!0),Uy(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class pw{resolveComponentFactory(s){throw function fw(i){const s=Error(`No component factory found for ${Y(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let ec=(()=>{class i{}return i.NULL=new pw,i})();class Ll{}class Hy{}class gw{}function mw(){return vd(Rn(),He())}function vd(i,s){return new tc(Sr(i,s))}let tc=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=mw,i})();function Gy(i){return i instanceof tc?i.nativeElement:i}class yw{}let mD=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function _D(){const i=He(),a=Zt(Rn().index,i);return function vw(i){return i[11]}(ir(a)?a:i)}(),i})(),yD=(()=>{class i{}return i.\u0275prov=ze({token:i,providedIn:"root",factory:()=>null}),i})();class Ew{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Wy=new Ew("14.0.1"),Og={};function _f(i,s,a,l,d=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&l.push(_n(p)),pr(p))for(let w=10;w<p.length;w++){const C=p[w],A=C[1].firstChild;null!==A&&_f(C[1],C,A,l)}const y=a.type;if(8&y)_f(i,s,a.child,l);else if(32&y){const w=xu(a,s);let C;for(;C=w();)l.push(C)}else if(16&y){const w=Ym(s,a);if(Array.isArray(w))l.push(...w);else{const C=Ra(s[16]);_f(C[1],C,w,l,!0)}}a=d?a.projectionNext:a.next}return l}class yf{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return _f(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(pr(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(Ro(s,l),ni(a,l))}this._attachedToViewContainer=!1}Vm(this._lView[1],this._lView)}onDestroy(s){M_(this._lView[1],this._lView,null,s)}markForCheck(){eg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Wh(i,s,a){const l=s[10];l.begin&&l.begin();try{Hh(i,s,i.template,a)}catch(d){throw ig(s,d),d}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function eS(i,s){Ah(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new J(902,"");this._appRef=s}}class vD extends yf{constructor(s){super(s),this._view=s}detectChanges(){L_(this._view)}checkNoChanges(){}get context(){return null}}class zy extends ec{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Yt(s);return new xg(a,this.ngModule)}}function ww(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class bw{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){const d=this.injector.get(s,Og,l);return d!==Og||a===Og?d:this.parentInjector.get(s,a,l)}}class xg extends gw{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function w0(i){return i.map(e_).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return ww(this.componentDef.inputs)}get outputs(){return ww(this.componentDef.outputs)}create(s,a,l,d){let p=(d=d||this.ngModule)instanceof ed?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new bw(s,p):s,w=y.get(yw,tl),C=y.get(yD,null),A=w.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",z=l?function $h(i,s,a){if(Jt(i))return i.selectRootElement(s,a===zt.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(A,l,this.componentDef.encapsulation):Um(w.createRenderer(null,this.componentDef),L,function ED(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(L)),ue=this.componentDef.onPush?288:272,Te=function z_(i,s){return{components:[],scheduler:i||me,clean:cI,playerHandler:s||null,flags:0}}(),Ue=vr(0,null,null,1,0,null,null,null,null,null),Qe=qp(null,Ue,Te,ue,null,null,w,A,C,y,null);let it,lt;bs(Qe);try{const Dt=function G_(i,s,a,l,d,p){const y=a[1];a[22]=i;const C=jh(y,22,2,"#host",null),A=C.mergedAttrs=s.hostAttrs;null!==A&&(sg(C,A,!0),null!==i&&(mr(d,i,A),null!==C.classes&&Rh(d,i,C.classes),null!==C.styles&&Jm(d,i,C.styles)));const L=l.createRenderer(i,s),z=qp(a,QC(s),null,s.onPush?32:16,a[22],C,l,L,p||null,null,null);return y.firstCreatePass&&(va(rs(C,a),y,s.type),P_(y,C),Gh(C,a.length,1)),Xp(a,z),a[22]=z}(z,this.componentDef,Qe,w,A);if(z)if(l)mr(A,z,["ng-version",Wy.full]);else{const{attrs:We,classes:mt}=function Rp(i){const s=[],a=[];let l=1,d=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===d?""!==p&&s.push(p,i[++l]):8===d&&a.push(p);else{if(!ls(d))break;d=p}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);We&&mr(A,z,We),mt&&mt.length>0&&Rh(A,z,mt.join(" "))}if(lt=no(Ue,22),void 0!==a){const We=lt.projection=[];for(let mt=0;mt<this.ngContentSelectors.length;mt++){const Kt=a[mt];We.push(null!=Kt?Array.from(Kt):null)}}it=function W_(i,s,a,l,d){const p=a[1],y=function eI(i,s,a){const l=Rn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Qp(i,l,s,ad(i,s,1,null),a));const d=wa(s,i,l.directiveStart,l);Pr(d,s);const p=Sr(l,s);return p&&Pr(p,s),d}(p,a,s);if(l.components.push(y),i[8]=y,null!==d)for(const C of d)C(y,s);if(s.contentQueries){const C=Rn();s.contentQueries(1,y,C.directiveStart)}const w=Rn();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ts(w.index),q0(a[1],w,0,w.directiveStart,w.directiveEnd,s),Wr(s,y)),y}(Dt,this.componentDef,Qe,Te,[bS]),Zp(Ue,Qe,null)}finally{ll()}return new bD(this.componentType,it,vd(lt,Qe),Qe,lt)}}class bD extends class $y{}{constructor(s,a,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new vD(d),this.componentType=s}get injector(){return new In(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Ul(i,s){return new Ng(i,s??null)}class Ng extends Ll{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new zy(this);const l=nr(s);this._bootstrapComponents=ct(l.bootstrap),this._r3Injector=kp(s,a,[{provide:Ll,useValue:this},{provide:ec,useValue:this.componentFactoryResolver}],Y(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(s)}get(s,a=Ui.THROW_IF_NOT_FOUND,l=ut.Default){return s===Ui||s===Ll||s===Fh?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class qy extends Hy{constructor(s){super(),this.moduleType=s}create(s){return new Ng(this.moduleType,s)}}class CD extends Ll{constructor(s,a,l){super(),this.componentFactoryResolver=new zy(this),this.instance=null;const d=new xl([...s,{provide:Ll,useValue:this},{provide:ec,useValue:this.componentFactoryResolver}],a||o_(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Ed(i,s=null,a=null){return new CD(i,s,a).injector}function Iw(i,s,a){const l=Ln()+i,d=He();return d[l]===kt?ka(d,l,a?s.call(a):s()):function Yh(i,s){return i[s]}(d,l)}function bd(i,s){const a=i[s];return a===kt?void 0:a}function Mw(i,s,a,l,d,p,y){const w=s+a;return function ud(i,s,a,l){const d=ii(i,s,a);return ii(i,s+1,l)||d}(i,w,d,p)?ka(i,w+2,y?l.call(y,d,p):l(d,p)):bd(i,w+2)}function vf(i,s){const a=$t();let l;const d=i+22;a.firstCreatePass?(l=function Rw(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}}(s,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const p=l.factory||(l.factory=qi(l.type)),y=nn(Oo);try{const w=Is(!1),C=p();return Is(w),function ny(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,He(),d,C),C}finally{nn(y)}}function ln(i,s,a){const l=i+22,d=He(),p=bi(d,l);return nc(d,l)?function Ky(i,s,a,l,d,p){const y=s+a;return ii(i,y,d)?ka(i,y+1,p?l.call(p,d):l(d)):bd(i,y+1)}(d,Ln(),s,p.transform,a,p):p.transform(a)}function tn(i,s,a,l){const d=i+22,p=He(),y=bi(p,d);return nc(p,d)?Mw(p,Ln(),s,y.transform,a,l,y):y.transform(a,l)}function nc(i,s){return i[1].data[s].pure}function rc(i){return s=>{setTimeout(i,void 0,s)}}const Hs=class RD extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){let d=s,p=a||(()=>null),y=l;if(s&&"object"==typeof s){const C=s;d=C.next?.bind(C),p=C.error?.bind(C),y=C.complete?.bind(C)}this.__isAsync&&(p=rc(p),d&&(d=rc(d)),y&&(y=rc(y)));const w=super.subscribe({next:d,error:p,complete:y});return s instanceof Q.w0&&s.add(w),w}};function xn(){return this._results[Na()]()}class jt{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Na(),l=jt.prototype;l[a]||(l[a]=xn)}get changes(){return this._changes||(this._changes=new Hs)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const d=en(s);(this._changesDetected=!function vl(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],p=s[l];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let cr=(()=>{class i{}return i.__NG_ELEMENT_ID__=ds,i})();const PD=cr,Xy=class extends PD{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s,a){const l=this._declarationTContainer.tViews,d=qp(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,a||null);d[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(d[19]=y.createEmbeddedView(l)),Zp(l,d,s),new yf(d)}};function ds(){return kg(Rn(),He())}function kg(i,s){return 4&i.type?new Xy(s,i,vd(i,s)):null}let Fg=(()=>{class i{}return i.__NG_ELEMENT_ID__=OD,i})();function OD(){return Ow(Rn(),He())}const Pw=Fg,Bl=class extends Pw{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return vd(this._hostTNode,this._hostLView)}get injector(){return new In(this._hostTNode,this._hostLView)}get parentInjector(){const s=sr(this._hostTNode,this._hostLView);if(dn(s)){const a=hn(s,this._hostLView),l=Vn(s);return new In(a[1].data[l+8],a)}return new In(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Lg(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){let d,p;"number"==typeof l?d=l:null!=l&&(d=l.index,p=l.injector);const y=s.createEmbeddedView(a||{},p);return this.insert(y,d),y}createComponent(s,a,l,d,p){const y=s&&!function Mi(i){return"function"==typeof i}(s);let w;if(y)w=a;else{const z=a||{};w=z.index,l=z.injector,d=z.projectableNodes,p=z.environmentInjector||z.ngModuleRef}const C=y?s:new xg(Yt(s)),A=l||this.parentInjector;if(!p&&null==C.ngModule){const ue=(y?A:this.parentInjector).get(ed,null);ue&&(p=ue)}const L=C.create(A,d,void 0,p);return this.insert(L.hostView,w),L}insert(s,a){const l=s._lView,d=l[1];if(function ru(i){return pr(i[3])}(l)){const L=this.indexOf(s);if(-1!==L)this.detach(L);else{const z=l[3],ue=new Bl(z,z[6],z[3]);ue.detach(ue.indexOf(s))}}const p=this._adjustIndex(a),y=this._lContainer;!function lC(i,s,a,l){const d=10+l,p=a.length;l>0&&(a[d-1][4]=s),l<p-10?(s[4]=a[d],Ri(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function uC(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=64}(d,l,y,p);const w=Sh(p,y),C=l[11],A=Tp(C,y[7]);return null!==A&&function oC(i,s,a,l,d,p){l[0]=d,l[6]=s,Ah(i,l,a,1,d,p)}(d,y[6],C,l,A,w),s.attachToViewContainerRef(),Ri(ic(y),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Lg(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=Ro(this._lContainer,a);l&&(ni(ic(this._lContainer),a),Vm(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=Ro(this._lContainer,a);return l&&null!=ni(ic(this._lContainer),a)?new yf(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function Lg(i){return i[8]}function ic(i){return i[8]||(i[8]=[])}function Ow(i,s){let a;const l=s[i.index];if(pr(l))a=l;else{let d;if(8&i.type)d=_n(l);else{const p=s[11];d=p.createComment("");const y=Sr(i,s);Pa(p,Tp(p,y),d,function ku(i,s){return Jt(i)?i.nextSibling(s):s.nextSibling}(p,y),!1)}s[i.index]=a=ld(l,s,d,i),Xp(s,a)}return new Bl(a,i,s)}class ev{constructor(s){this.queryList=s,this.matches=null}clone(){return new ev(this.queryList)}setDirty(){this.queryList.setDirty()}}class tv{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let p=0;p<l;p++){const y=a.getByIndex(p);d.push(this.queries[y.indexInDeclarationView].clone())}return new tv(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==sv(s,a).matches&&this.queries[a].setDirty()}}class nv{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class La{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(s,d);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new La(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Gt{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Gt(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(s,a,Ug(a,p)),this.matchTNodeWithReadOption(s,a,gu(a,s,p,!1,!1))}else l===cr?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,gu(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===tc||d===Fg||d===cr&&4&a.type)this.addMatch(a.index,-2);else{const p=gu(a,s,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Ug(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function Nw(i,s,a,l){return-1===a?function Vg(i,s){return 11&i.type?vd(i,s):4&i.type?kg(i,s):null}(s,i):-2===a?function Go(i,s,a){return a===tc?vd(s,i):a===cr?kg(s,i):a===Fg?Ow(s,i):void 0}(i,s,l):wa(i,i[1],a,s)}function Ef(i,s,a,l){const d=s[19].queries[l];if(null===d.matches){const p=i.data,y=a.matches,w=[];for(let C=0;C<y.length;C+=2){const A=y[C];w.push(A<0?null:Nw(s,p[A],y[C+1],a.metadata.read))}d.matches=w}return d.matches}function ji(i,s,a,l){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const y=Ef(i,s,d,a);for(let w=0;w<p.length;w+=2){const C=p[w];if(C>0)l.push(y[w/2]);else{const A=p[w+1],L=s[-C];for(let z=10;z<L.length;z++){const ue=L[z];ue[17]===ue[3]&&ji(ue[1],ue,A,l)}if(null!==L[9]){const z=L[9];for(let ue=0;ue<z.length;ue++){const Te=z[ue];ji(Te[1],Te,A,l)}}}}}return l}function kw(i){const s=He(),a=$t(),l=ol();uo(l+1);const d=sv(a,l);if(i.dirty&&rl(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?ji(a,s,l,[]):Ef(a,s,d,l);i.reset(p,Gy),i.notifyOnChanges()}return!0}return!1}function Fw(i,s,a,l){const d=$t();if(d.firstCreatePass){const p=Rn();(function iv(i,s,a){null===i.queries&&(i.queries=new La),i.queries.track(new Gt(s,a))})(d,new nv(s,a,l),p.index),function Uw(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function Lw(i,s,a){const l=new jt(4==(4&a));M_(i,s,l,l.destroy),null===s[19]&&(s[19]=new tv),s[19].queries.push(new ev(l))}(d,He(),a)}function Bg(){return function rv(i,s){return i[19].queries[s].queryList}(He(),ol())}function sv(i,s){return i.queries.getByIndex(s)}function sc(i,s){return kg(i,s)}function Wo(i){const s=Yt(i)||Wn(i)||Jn(i);return null!==s&&s.standalone}function Td(...i){}const Df=new an("Application Initializer");let Wl=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Td,this.reject=Td,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(oy(p))a.push(p);else if(ay(p)){const y=new Promise((w,C)=>{p.subscribe({complete:w,error:C})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(gt(Df,8))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const zl=new an("AppId",{providedIn:"root",factory:function lc(){return`${fv()}${fv()}${fv()}`}});function fv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Xw=new an("Platform Initializer"),Tf=new an("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),eb=new an("appBootstrapListener"),qg=new an("AnimationModuleType");let Sf=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const cc=new an("LocaleId",{providedIn:"root",factory:()=>function or(i,s=ut.Default){return gt(i,s)}(cc,ut.Optional|ut.SkipSelf)||function tb(){return typeof $localize<"u"&&$localize.locale||sf}()}),dc=new an("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Gs{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Af=(()=>{class i{compileModuleSync(a){return new qy(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=ct(nr(a).declarations).reduce((y,w)=>{const C=Yt(w);return C&&y.push(new xg(C)),y},[]);return new Gs(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const gv=(()=>Promise.resolve(0))();function Va(i){typeof Zone>"u"?gv.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ar{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hs(!1),this.onMicrotaskEmpty=new Hs(!1),this.onStable=new Hs(!1),this.onError=new Hs(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function rb(){let i=nt.requestAnimationFrame,s=nt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Zg(i){const s=()=>{!function ib(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(nt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,_v(i),i.isCheckStableRunning=!0,ql(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),_v(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,p,y,w)=>{try{return sb(i),a.invokeTask(d,p,y,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),ob(i)}},onInvoke:(a,l,d,p,y,w,C)=>{try{return sb(i),a.invoke(d,p,y,w,C)}finally{i.shouldCoalesceRunChangeDetection&&s(),ob(i)}},onHasTask:(a,l,d,p)=>{a.hasTask(d,p),l===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,_v(i),ql(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ar.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ar.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,d){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+d,s,mv,Td,Td);try{return p.runTask(y,a,l)}finally{p.cancelTask(y)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const mv={};function ql(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function _v(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function sb(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function ob(i){i._nesting--,ql(i)}class $D{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hs,this.onMicrotaskEmpty=new Hs,this.onStable=new Hs,this.onError=new Hs}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,d){return s.apply(a,l)}}const ab=new an(""),lb=new an("");let vv,GD=(()=>{class i{constructor(a,l,d){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vv||(function ub(i){vv=i}(d),d.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ar.assertNotInAngularZone(),Va(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Va(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(gt(ar),gt(yv),gt(lb))},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})(),yv=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return vv?.findTestabilityInTree(this,a,l)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Zl=null;const cb=new an("AllowMultipleToken"),db=new an("PlatformOnDestroy");class hb{constructor(s,a){this.name=s,this.token=a}}function bv(i,s,a=[]){const l=`Platform: ${s}`,d=new an(l);return(p=[])=>{let y=Mf();if(!y||y.injector.get(cb,!1)){const w=[...a,...p,{provide:d,useValue:!0}];i?i(w):function Kg(i){if(Zl&&!Zl.get(cb,!1))throw new J(400,"");Zl=i;const s=i.get(pb);(function Yg(i){const s=i.get(Xw,null);s&&s.forEach(a=>a())})(i)}(function fb(i=[],s){return Ui.create({name:s,providers:[{provide:i_,useValue:"platform"},{provide:db,useValue:()=>Zl=null},...i]})}(w,l))}return function ZD(i){const s=Mf();if(!s)throw new J(401,"");return s}()}}function Mf(){return Zl?.get(pb)??null}let pb=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const d=function YD(i,s){let a;return a="noop"===i?new $D:("zone.js"===i?void 0:i)||new ar(s),a}(l?.ngZone,function gb(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:ar,useValue:d}];return d.run(()=>{const y=Ui.create({providers:p,parent:this.injector,name:a.moduleType.name}),w=a.create(y),C=w.injector.get(Ru,null);if(!C)throw new J(402,"");return d.runOutsideAngular(()=>{const A=d.onError.subscribe({next:L=>{C.handleError(L)}});w.onDestroy(()=>{Sd(this._modules,w),A.unsubscribe()})}),function mb(i,s,a){try{const l=a();return oy(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(C,d,()=>{const A=w.injector.get(Wl);return A.runInitializers(),A.donePromise.then(()=>(function qE(i){Me(i,"Expected localeId to be defined"),"string"==typeof i&&(zE=i.toLowerCase().replace(/_/g,"-"))}(w.injector.get(cc,sf)||sf),this._moduleDoBootstrap(w),w))})})}bootstrapModule(a,l=[]){const d=Cv({},l);return function WD(i,s,a){const l=new qy(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const l=a.injector.get(hc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new J(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new J(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._injector.get(db,null)?.(),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(gt(Ui))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Cv(i,s){return Array.isArray(s)?s.reduce(Cv,i):{...i,...s}}let hc=(()=>{class i{constructor(a,l,d,p){this._zone=a,this._injector=l,this._exceptionHandler=d,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new V.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),w=new V.y(C=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{ar.assertNotInAngularZone(),Va(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{ar.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{A.unsubscribe(),L.unsubscribe()}});this.isStable=(0,W.T)(y,w.pipe((0,ie.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const d=a instanceof gw;if(!this._initStatus.done)throw!d&&Wo(a),new J(405,false);let p;p=d?a:this._injector.get(ec).resolveComponentFactory(a),this.componentTypes.push(p.componentType);const y=function wv(i){return i.isBoundToModule}(p)?void 0:this._injector.get(Ll),C=p.create(Ui.NULL,[],l||p.selector,y),A=C.location.nativeElement,L=C.injector.get(ab,null);return L?.registerApplication(A),C.onDestroy(()=>{this.detachView(C.hostView),Sd(this.components,C),L?.unregisterApplication(A)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new J(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Sd(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(eb,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Sd(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new J(406,false);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(gt(ar),gt(Ui),gt(Ru),gt(Wl))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Sd(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let Dv=!0,Qg=!1;function JD(){return Qg=!0,Dv}function XD(){if(Qg)throw new Error("Cannot enable prod mode after platform setup.");Dv=!1}let eT=(()=>{class i{}return i.__NG_ELEMENT_ID__=tT,i})();function tT(i){return function yb(i,s,a){if(ta(i)&&!a){const l=Zt(i.index,s);return new yf(l,l)}return 47&i.type?new yf(s[16],s):null}(Rn(),He(),16==(16&i))}class wb{constructor(){}supports(s){return Kh(s)}create(s){return new bb(s)}}const aT=(i,s)=>s;class bb{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||aT}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,d=0,p=null;for(;a||l;){const y=!l||a&&a.currentIndex<Ad(l,d,p)?a:l,w=Ad(y,d,p),C=y.currentIndex;if(y===l)d--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{p||(p=[]);const A=w-d,L=C-d;if(A!=L){for(let ue=0;ue<A;ue++){const Te=ue<p.length?p[ue]:p[ue]=0,Ue=Te+ue;L<=Ue&&Ue<A&&(p[ue]=Te+1)}p[y.previousIndex]=L-A}}w!==C&&s(y,w,C)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Kh(s))throw new J(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,y,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)p=s[w],y=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,p,y,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,w),l=!0),a=a._next}else d=0,function bI(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Na()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,w=>{y=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,w,y,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,y,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,d)):s=this._addAfter(new Pv(a,l),p,d),s}_verifyReinsertion(s,a,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new ja),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ja),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Pv{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lT{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class ja{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new lT,this.map.set(a,l)),l.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ad(i,s,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+s+d}class Cb{constructor(){}supports(s){return s instanceof Map||Y_(s)}create(){return new uT}}class uT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Y_(s)))throw new J(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const p=d._prev,y=d._next;return p&&(p._next=y),y&&(y._prev=p),d._next=null,d._prev=null,d}const l=new cT(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class cT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function em(){return new Ov([new wb])}let Ov=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||em()),deps:[[i,new Cl,new xi]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new J(901,"")}}return i.\u0275prov=ze({token:i,providedIn:"root",factory:em}),i})();function xv(){return new Md([new Cb])}let Md=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||xv()),deps:[[i,new Cl,new xi]]}}find(a){const l=this.factories.find(p=>p.supports(a));if(l)return l;throw new J(901,"")}}return i.\u0275prov=ze({token:i,providedIn:"root",factory:xv}),i})();const Ib=bv(null,"core",[]);let tm=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(gt(hc))},i.\u0275mod=Ct({type:i}),i.\u0275inj=R({}),i})();function nm(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(Xe,be,x)=>{"use strict";x.d(be,{Z:()=>J});var c=x(2090),Q=x(4859),V=x(9681),W=x(1877);class ie{constructor(ae,_e){this._delegate=ae,this.firebase=_e,(0,V._addComponent)(ae,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this._delegate.automaticDataCollectionEnabled=ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ae=>{this._delegate.checkDestroyed(),ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(ae,_e=V._DEFAULT_ENTRY_NAME){var ke;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(ae);return!Ge.isInitialized()&&"EXPLICIT"===(null===(ke=Ge.getComponent())||void 0===ke?void 0:ke.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:_e})}_removeServiceInstance(ae,_e=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ae).clearInstance(_e)}_addComponent(ae){(0,V._addComponent)(this._delegate,ae)}_addOrOverwriteComponent(ae){(0,V._addOrOverwriteComponent)(this._delegate,ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const j=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),O=function $(){const q=function Y(q){const ae={},_e={__esModule:!0,initializeApp:function xe(je,P={}){const ne=V.initializeApp(je,P);if((0,c.r3)(ae,ne.name))return ae[ne.name];const K=new q(ne,_e);return ae[ne.name]=K,K},app:Ge,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function Se(je){const P=je.name,ne=P.replace("-compat","");if(V._registerComponent(je)&&"PUBLIC"===je.type){const K=(se=Ge())=>{if("function"!=typeof se[ne])throw j.create("invalid-app-argument",{appName:P});return se[ne]()};void 0!==je.serviceProps&&(0,c.ZB)(K,je.serviceProps),_e[ne]=K,q.prototype[ne]=function(...se){return this._getService.bind(this,P).apply(this,je.multipleInstances?se:[])}}return"PUBLIC"===je.type?_e[ne]:null},removeApp:function ke(je){delete ae[je]},useAsService:function Be(je,P){return"serverAuth"===P?null:P},modularAPIs:V}};function Ge(je){if(!(0,c.r3)(ae,je=je||V._DEFAULT_ENTRY_NAME))throw j.create("no-app",{appName:je});return ae[je]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function we(){return Object.keys(ae).map(je=>ae[je])}}),Ge.App=q,_e}(ie);return q.INTERNAL=Object.assign(Object.assign({},q.INTERNAL),{createFirebaseNamespace:$,extendNamespace:function ae(_e){(0,c.ZB)(q,_e)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),q}(),U=new W.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const q=self.firebase.SDK_VERSION;q&&q.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const J=O;!function Re(q){(0,V.registerVersion)("@firebase/app-compat","0.1.26",q)}()},9681:(Xe,be,x)=>{"use strict";x.r(be),x.d(be,{FirebaseError:()=>W.ZR,SDK_VERSION:()=>dt,_DEFAULT_ENTRY_NAME:()=>Me,_addComponent:()=>Je,_addOrOverwriteComponent:()=>ze,_apps:()=>Le,_clearComponents:()=>ge,_components:()=>Ye,_getProvider:()=>R,_registerComponent:()=>S,_removeServiceInstance:()=>B,deleteApp:()=>ut,getApp:()=>Ht,getApps:()=>Rt,initializeApp:()=>Vt,onLog:()=>nn,registerVersion:()=>rn,setLogLevel:()=>Fr});var c=x(5861),Q=x(4859),V=x(1877),W=x(2090),ie=x(8766);class he{constructor(Pe){this.container=Pe}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function j(le){return"VERSION"===le.getComponent()?.type}(Ze)){const ot=Ze.getImmediate();return`${ot.library}/${ot.version}`}return null}).filter(Ze=>Ze).join(" ")}}const Y="@firebase/app",$="0.7.25",O=new V.Yd("@firebase/app"),Me="[DEFAULT]",De={[Y]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Le=new Map,Ye=new Map;function Je(le,Pe){try{le.container.addComponent(Pe)}catch(Ze){O.debug(`Component ${Pe.name} failed to register with FirebaseApp ${le.name}`,Ze)}}function ze(le,Pe){le.container.addOrOverwriteComponent(Pe)}function S(le){const Pe=le.name;if(Ye.has(Pe))return O.debug(`There were multiple attempts to register component ${Pe}.`),!1;Ye.set(Pe,le);for(const Ze of Le.values())Je(Ze,le);return!0}function R(le,Pe){const Ze=le.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),le.container.getProvider(Pe)}function B(le,Pe,Ze=Me){R(le,Pe).clearInstance(Ze)}function ge(){Ye.clear()}const Ee=new W.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ke{constructor(Pe,Ze,ot){this._isDeleted=!1,this._options=Object.assign({},Pe),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=ot,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Pe){this._isDeleted=Pe}checkDestroyed(){if(this.isDeleted)throw Ee.create("app-deleted",{appName:this._name})}}const dt="9.8.2";function Vt(le,Pe={}){"object"!=typeof Pe&&(Pe={name:Pe});const Ze=Object.assign({name:Me,automaticDataCollectionEnabled:!1},Pe),ot=Ze.name;if("string"!=typeof ot||!ot)throw Ee.create("bad-app-name",{appName:String(ot)});const Et=Le.get(ot);if(Et){if((0,W.vZ)(le,Et.options)&&(0,W.vZ)(Ze,Et.config))return Et;throw Ee.create("duplicate-app",{appName:ot})}const Ct=new Q.H0(ot);for(const St of Ye.values())Ct.addComponent(St);const pn=new Ke(le,Ze,Ct);return Le.set(ot,pn),pn}function Ht(le=Me){const Pe=Le.get(le);if(!Pe)throw Ee.create("no-app",{appName:le});return Pe}function Rt(){return Array.from(Le.values())}function ut(le){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,c.Z)(function*(le){const Pe=le.name;Le.has(Pe)&&(Le.delete(Pe),yield Promise.all(le.container.getProviders().map(Ze=>Ze.delete())),le.isDeleted=!0)})).apply(this,arguments)}function rn(le,Pe,Ze){var ot;let Et=null!==(ot=De[le])&&void 0!==ot?ot:le;Ze&&(Et+=`-${Ze}`);const Ct=Et.match(/\s|\//),pn=Pe.match(/\s|\//);if(Ct||pn){const St=[`Unable to register library "${Et}" with version "${Pe}":`];return Ct&&St.push(`library name "${Et}" contains illegal characters (whitespace or "/")`),Ct&&pn&&St.push("and"),pn&&St.push(`version name "${Pe}" contains illegal characters (whitespace or "/")`),void O.warn(St.join(" "))}S(new Q.wA(`${Et}-version`,()=>({library:Et,version:Pe}),"VERSION"))}function nn(le,Pe){if(null!==le&&"function"!=typeof le)throw Ee.create("invalid-log-argument");(0,V.Am)(le,Pe)}function Fr(le){(0,V.Ub)(le)}const An="firebase-heartbeat-store";let Lr=null;function ps(){return Lr||(Lr=(0,ie.X3)("firebase-heartbeat-database",1,{upgrade:(le,Pe)=>{0===Pe&&le.createObjectStore(An)}}).catch(le=>{throw Ee.create("storage-open",{originalErrorMessage:le.message})})),Lr}function nt(){return(nt=(0,c.Z)(function*(le){try{return(yield ps()).transaction(An).objectStore(An).get(Hn(le))}catch(Pe){throw Ee.create("storage-get",{originalErrorMessage:Pe.message})}})).apply(this,arguments)}function Tt(le,Pe){return dr.apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(le,Pe){try{const ot=(yield ps()).transaction(An,"readwrite");return yield ot.objectStore(An).put(Pe,Hn(le)),ot.done}catch(Ze){throw Ee.create("storage-set",{originalErrorMessage:Ze.message})}})).apply(this,arguments)}function Hn(le){return`${le.name}!${le.options.appId}`}class $n{constructor(Pe){this.container=Pe,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new ce(Ze),this._heartbeatsCachePromise=this._storage.read().then(ot=>(this._heartbeatsCache=ot,ot))}triggerHeartbeat(){var Pe=this;return(0,c.Z)(function*(){const ot=Pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Et=Ur();if(null===Pe._heartbeatsCache&&(Pe._heartbeatsCache=yield Pe._heartbeatsCachePromise),Pe._heartbeatsCache.lastSentHeartbeatDate!==Et&&!Pe._heartbeatsCache.heartbeats.some(Ct=>Ct.date===Et))return Pe._heartbeatsCache.heartbeats.push({date:Et,agent:ot}),Pe._heartbeatsCache.heartbeats=Pe._heartbeatsCache.heartbeats.filter(Ct=>{const pn=new Date(Ct.date).valueOf();return Date.now()-pn<=2592e6}),Pe._storage.overwrite(Pe._heartbeatsCache)})()}getHeartbeatsHeader(){var Pe=this;return(0,c.Z)(function*(){if(null===Pe._heartbeatsCache&&(yield Pe._heartbeatsCachePromise),null===Pe._heartbeatsCache||0===Pe._heartbeatsCache.heartbeats.length)return"";const Ze=Ur(),{heartbeatsToSend:ot,unsentEntries:Et}=function de(le,Pe=1024){const Ze=[];let ot=le.slice();for(const Et of le){const Ct=Ze.find(pn=>pn.agent===Et.agent);if(Ct){if(Ct.dates.push(Et.date),pe(Ze)>Pe){Ct.dates.pop();break}}else if(Ze.push({agent:Et.agent,dates:[Et.date]}),pe(Ze)>Pe){Ze.pop();break}ot=ot.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:ot}}(Pe._heartbeatsCache.heartbeats),Ct=(0,W.L)(JSON.stringify({version:2,heartbeats:ot}));return Pe._heartbeatsCache.lastSentHeartbeatDate=Ze,Et.length>0?(Pe._heartbeatsCache.heartbeats=Et,yield Pe._storage.overwrite(Pe._heartbeatsCache)):(Pe._heartbeatsCache.heartbeats=[],Pe._storage.overwrite(Pe._heartbeatsCache)),Ct})()}}function Ur(){return(new Date).toISOString().substring(0,10)}class ce{constructor(Pe){this.app=Pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,W.hl)()&&(0,W.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Pe=this;return(0,c.Z)(function*(){return(yield Pe._canUseIndexedDBPromise)&&(yield function zt(le){return nt.apply(this,arguments)}(Pe.app))||{heartbeats:[]}})()}overwrite(Pe){var Ze=this;return(0,c.Z)(function*(){var ot;if(yield Ze._canUseIndexedDBPromise){const Ct=yield Ze.read();return Tt(Ze.app,{lastSentHeartbeatDate:null!==(ot=Pe.lastSentHeartbeatDate)&&void 0!==ot?ot:Ct.lastSentHeartbeatDate,heartbeats:Pe.heartbeats})}})()}add(Pe){var Ze=this;return(0,c.Z)(function*(){var ot;if(yield Ze._canUseIndexedDBPromise){const Ct=yield Ze.read();return Tt(Ze.app,{lastSentHeartbeatDate:null!==(ot=Pe.lastSentHeartbeatDate)&&void 0!==ot?ot:Ct.lastSentHeartbeatDate,heartbeats:[...Ct.heartbeats,...Pe.heartbeats]})}})()}}function pe(le){return(0,W.L)(JSON.stringify({version:2,heartbeats:le})).length}!function Ve(le){S(new Q.wA("platform-logger",Pe=>new he(Pe),"PRIVATE")),S(new Q.wA("heartbeat",Pe=>new $n(Pe),"PRIVATE")),rn(Y,$,le),rn(Y,$,"esm2017"),rn("fire-js","")}("")},4859:(Xe,be,x)=>{"use strict";x.d(be,{H0:()=>Y,wA:()=>V,zt:()=>ie});var c=x(5861),Q=x(2090);class V{constructor(O,U,ee){this.name=O,this.instanceFactory=U,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(O){return this.instantiationMode=O,this}setMultipleInstances(O){return this.multipleInstances=O,this}setServiceProps(O){return this.serviceProps=O,this}setInstanceCreatedCallback(O){return this.onInstanceCreated=O,this}}const W="[DEFAULT]";class ie{constructor(O,U){this.name=O,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(O){const U=this.normalizeInstanceIdentifier(O);if(!this.instancesDeferred.has(U)){const ee=new Q.BH;if(this.instancesDeferred.set(U,ee),this.isInitialized(U)||this.shouldAutoInitialize())try{const Ae=this.getOrInitializeService({instanceIdentifier:U});Ae&&ee.resolve(Ae)}catch{}}return this.instancesDeferred.get(U).promise}getImmediate(O){var U;const ee=this.normalizeInstanceIdentifier(O?.identifier),Ae=null!==(U=O?.optional)&&void 0!==U&&U;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Re){if(Ae)return null;throw Re}}getComponent(){return this.component}setComponent(O){if(O.name!==this.name)throw Error(`Mismatching Component ${O.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=O,this.shouldAutoInitialize()){if(function j($){return"EAGER"===$.instantiationMode}(O))try{this.getOrInitializeService({instanceIdentifier:W})}catch{}for(const[U,ee]of this.instancesDeferred.entries()){const Ae=this.normalizeInstanceIdentifier(U);try{const Re=this.getOrInitializeService({instanceIdentifier:Ae});ee.resolve(Re)}catch{}}}}clearInstance(O=W){this.instancesDeferred.delete(O),this.instancesOptions.delete(O),this.instances.delete(O)}delete(){var O=this;return(0,c.Z)(function*(){const U=Array.from(O.instances.values());yield Promise.all([...U.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...U.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(O=W){return this.instances.has(O)}getOptions(O=W){return this.instancesOptions.get(O)||{}}initialize(O={}){const{options:U={}}=O,ee=this.normalizeInstanceIdentifier(O.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ae=this.getOrInitializeService({instanceIdentifier:ee,options:U});for(const[Re,J]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Re)&&J.resolve(Ae);return Ae}onInit(O,U){var ee;const Ae=this.normalizeInstanceIdentifier(U),Re=null!==(ee=this.onInitCallbacks.get(Ae))&&void 0!==ee?ee:new Set;Re.add(O),this.onInitCallbacks.set(Ae,Re);const J=this.instances.get(Ae);return J&&O(J,Ae),()=>{Re.delete(O)}}invokeOnInitCallbacks(O,U){const ee=this.onInitCallbacks.get(U);if(ee)for(const Ae of ee)try{Ae(O,U)}catch{}}getOrInitializeService({instanceIdentifier:O,options:U={}}){let ee=this.instances.get(O);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:($=O,$===W?void 0:$),options:U}),this.instances.set(O,ee),this.instancesOptions.set(O,U),this.invokeOnInitCallbacks(ee,O),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,O,ee)}catch{}var $;return ee||null}normalizeInstanceIdentifier(O=W){return this.component?this.component.multipleInstances?O:W:O}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Y{constructor(O){this.name=O,this.providers=new Map}addComponent(O){const U=this.getProvider(O.name);if(U.isComponentSet())throw new Error(`Component ${O.name} has already been registered with ${this.name}`);U.setComponent(O)}addOrOverwriteComponent(O){this.getProvider(O.name).isComponentSet()&&this.providers.delete(O.name),this.addComponent(O)}getProvider(O){if(this.providers.has(O))return this.providers.get(O);const U=new ie(O,this);return this.providers.set(O,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(Xe,be,x)=>{"use strict";x.d(be,{Am:()=>$,Ub:()=>Y,Yd:()=>j,in:()=>Q});const c=[];var Q=(()=>{return(O=Q||(Q={}))[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",Q;var O})();const V={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},W=Q.INFO,ie={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},he=(O,U,...ee)=>{if(U<O.logLevel)return;const Ae=(new Date).toISOString(),Re=ie[U];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[Re](`[${Ae}]  ${O.name}:`,...ee)};class j{constructor(U){this.name=U,this._logLevel=W,this._logHandler=he,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in Q))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?V[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...U),this._logHandler(this,Q.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...U),this._logHandler(this,Q.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...U),this._logHandler(this,Q.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...U),this._logHandler(this,Q.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...U),this._logHandler(this,Q.ERROR,...U)}}function Y(O){c.forEach(U=>{U.setLogLevel(O)})}function $(O,U){for(const ee of c){let Ae=null;U&&U.level&&(Ae=V[U.level]),ee.userLogHandler=null===O?null:(Re,J,...q)=>{const ae=q.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch{return null}}).filter(_e=>_e).join(" ");J>=(Ae??Re.logLevel)&&O({level:Q[J].toLowerCase(),message:ae,args:q,type:Re.name})}}}},8766:(Xe,be,x)=>{"use strict";x.d(be,{Lj:()=>xe,X3:()=>Ge});var c=x(5861);let V,W;const j=new WeakMap,Y=new WeakMap,$=new WeakMap,O=new WeakMap,U=new WeakMap;let Re={get(P,ne,K){if(P instanceof IDBTransaction){if("done"===ne)return Y.get(P);if("objectStoreNames"===ne)return P.objectStoreNames||$.get(P);if("store"===ne)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return _e(P[ne])},set:(P,ne,K)=>(P[ne]=K,!0),has:(P,ne)=>P instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in P};function ae(P){return"function"==typeof P?function q(P){return P!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(P)?function(...ne){return P.apply(ke(this),ne),_e(j.get(this))}:function(...ne){return _e(P.apply(ke(this),ne))}:function(ne,...K){const se=P.call(ke(this),ne,...K);return $.set(se,ne.sort?ne.sort():[ne]),_e(se)}}(P):(P instanceof IDBTransaction&&function Ae(P){if(Y.has(P))return;const ne=new Promise((K,se)=>{const re=()=>{P.removeEventListener("complete",Ie),P.removeEventListener("error",b),P.removeEventListener("abort",b)},Ie=()=>{K(),re()},b=()=>{se(P.error||new DOMException("AbortError","AbortError")),re()};P.addEventListener("complete",Ie),P.addEventListener("error",b),P.addEventListener("abort",b)});Y.set(P,ne)}(P),((P,ne)=>ne.some(K=>P instanceof K))(P,function ie(){return V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(P,Re):P)}function _e(P){if(P instanceof IDBRequest)return function ee(P){const ne=new Promise((K,se)=>{const re=()=>{P.removeEventListener("success",Ie),P.removeEventListener("error",b)},Ie=()=>{K(_e(P.result)),re()},b=()=>{se(P.error),re()};P.addEventListener("success",Ie),P.addEventListener("error",b)});return ne.then(K=>{K instanceof IDBCursor&&j.set(K,P)}).catch(()=>{}),U.set(ne,P),ne}(P);if(O.has(P))return O.get(P);const ne=ae(P);return ne!==P&&(O.set(P,ne),U.set(ne,P)),ne}const ke=P=>U.get(P);function Ge(P,ne,{blocked:K,upgrade:se,blocking:re,terminated:Ie}={}){const b=indexedDB.open(P,ne),G=_e(b);return se&&b.addEventListener("upgradeneeded",X=>{se(_e(b.result),X.oldVersion,X.newVersion,_e(b.transaction))}),K&&b.addEventListener("blocked",()=>K()),G.then(X=>{Ie&&X.addEventListener("close",()=>Ie()),re&&X.addEventListener("versionchange",()=>re())}).catch(()=>{}),G}function xe(P,{blocked:ne}={}){const K=indexedDB.deleteDatabase(P);return ne&&K.addEventListener("blocked",()=>ne()),_e(K).then(()=>{})}const we=["get","getKey","getAll","getAllKeys","count"],Se=["put","add","delete","clear"],Be=new Map;function je(P,ne){if(!(P instanceof IDBDatabase)||ne in P||"string"!=typeof ne)return;if(Be.get(ne))return Be.get(ne);const K=ne.replace(/FromIndex$/,""),se=ne!==K,re=Se.includes(K);if(!(K in(se?IDBIndex:IDBObjectStore).prototype)||!re&&!we.includes(K))return;const Ie=function(){var b=(0,c.Z)(function*(G,...X){const ye=this.transaction(G,re?"readwrite":"readonly");let Me=ye.store;return se&&(Me=Me.index(X.shift())),(yield Promise.all([Me[K](...X),re&&ye.done]))[0]});return function(X){return b.apply(this,arguments)}}();return Be.set(ne,Ie),Ie}!function J(P){Re=P(Re)}(P=>({...P,get:(ne,K,se)=>je(ne,K)||P.get(ne,K,se),has:(ne,K)=>!!je(ne,K)||P.has(ne,K)}))},5861:(Xe,be,x)=>{"use strict";function c(V,W,ie,he,j,Y,$){try{var O=V[Y]($),U=O.value}catch(ee){return void ie(ee)}O.done?W(U):Promise.resolve(U).then(he,j)}function Q(V){return function(){var W=this,ie=arguments;return new Promise(function(he,j){var Y=V.apply(W,ie);function $(U){c(Y,he,j,$,O,"next",U)}function O(U){c(Y,he,j,$,O,"throw",U)}$(void 0)})}}x.d(be,{Z:()=>Q})}},Xe=>{Xe(Xe.s=187)}]);